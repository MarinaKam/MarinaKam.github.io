{"version":3,"sources":["../../../build/lib/swiper.js"],"names":["global","factory","exports","module","define","amd","Swiper","Dom7","arr","self","i","length","$$1","selector","context","els","tempParent","html","trim","indexOf","toCreate","document","createElement","innerHTML","childNodes","push","match","getElementById","split","querySelectorAll","nodeType","window","fn","prototype","Class","unique","uniqueArray","addClass","className","this$1","classes","j","classList","add","removeClass","remove","hasClass","contains","toggleClass","toggle","attr","attrs","value","arguments$1","arguments","getAttribute","undefined","setAttribute","attrName","removeAttr","removeAttribute","data","key","el","dom7ElementDataStorage","dataKey","transform","elStyle","style","webkitTransform","transition","duration","webkitTransitionDuration","transitionDuration","on","args","len","eventType","targetSelector","listener","capture","assign","handleLiveEvent","e","target","eventData","dom7EventData","unshift","is","apply","parents","k","handleEvent","events","dom7Listeners","type","proxyListener","addEventListener","dom7LiveListeners","off","removeEventListener","k$1","trigger","evt","CustomEvent","detail","bubbles","cancelable","createEvent","initEvent","filter","dataIndex","dispatchEvent","transitionEnd","callback","dom","fireCallBack","call","outerWidth","includeMargins","styles","offsetWidth","parseFloat","getPropertyValue","outerHeight","offsetHeight","offset","box","getBoundingClientRect","body","clientTop","clientLeft","scrollTop","scrollY","scrollLeft","scrollX","top","left","getComputedStyle","css","props","prop","each","text","textContent","compareWith","matches","webkitMatchesSelector","msMatchesSelector","index","child","previousSibling","eq","returnIndex","append","newChild","tempDiv","firstChild","appendChild","prepend","insertBefore","next","nextElementSibling","nextAll","nextEls","prev","previousElementSibling","prevAll","prevEls","parent","parentNode","closest","find","foundElements","found","children","removeChild","toAdd","noTrigger","Methods","Object","keys","forEach","methodName","w","navigator","userAgent","location","history","Image","Date","screen","win","Utils","deleteProps","obj","object","nextTick","delay","setTimeout","now","getTranslate","axis","matrix","curTransform","transformMatrix","curStyle","WebKitCSSMatrix","map","a","replace","join","MozTransform","OTransform","MsTransform","msTransform","toString","m41","m42","parseUrlQuery","url","query","urlToParse","href","params","param","paramsPart","decodeURIComponent","isObject","o","constructor","extend","len$1","to","nextSource","keysArray","nextIndex","nextKey","desc","getOwnPropertyDescriptor","enumerable","d","activeElement","blur","nodeName","querySelector","getElementsByTagName","hash","doc","Support","testDiv","touch","Modernizr","checkTouch","DocumentTouch","pointerEvents","pointerEnabled","PointerEvent","prefixedPointerEvents","msPointerEnabled","checkTransition","transforms3d","csstransforms3d","checkTransforms3d","flexbox","checkFlexbox","observer","checkObserver","passiveListener","checkPassiveListener","supportsPassive","opts","defineProperty","get","gestures","checkGestures","SwiperClass","eventsListeners","eventName","staticAccessors","components","configurable","handler","event","once","onceHandler","eventHandler","splice","emit","Array","isArray","slice","eventsArray","handlers","useModulesParams","instanceParams","instance","modules","moduleName","useModules","modulesParams","moduleParams","modulePropName","moduleProp","bind","moduleEventName","create","set","use","installModule","name","proto","static","install","m","concat","defineProperties","updateSize","swiper","width","height","$el","clientWidth","clientHeight","isHorizontal","isVertical","parseInt","size","updateSlides","$wrapperEl","swiperSize","rtl","wrongRTL","slides","slideClass","isVirtual","virtual","enabled","slidesLength","snapGrid","slidesGrid","slidesSizesGrid","offsetBefore","slidesOffsetBefore","offsetAfter","slidesOffsetAfter","previousSlidesLength","previousSnapGridLength","previousSlidesGridLength","spaceBetween","slidePosition","prevSlideSize","virtualSize","marginLeft","marginTop","marginRight","marginBottom","slidesNumberEvenToRows","slidesPerColumn","Math","floor","ceil","slidesPerView","slidesPerColumnFill","max","slideSize","slidesPerRow","numFullColumns","slide","newSlideOrderIndex","column","row","order","roundLengths","swiperSlideSize","centeredSlides","abs","slidesPerGroup","newSlidesGrid","effect","setWrapperSize","i$1","i$2","watchOverflow","checkOverflow","watchSlidesProgress","watchSlidesVisibility","updateSlidesOffset","updateAutoHeight","activeSlides","newHeight","activeIndex","swiperSlideOffset","offsetLeft","offsetTop","updateSlidesProgress","translate","offsetCenter","slideVisibleClass","slideProgress","minTranslate","slideBefore","slideAfter","isVisible","progress","updateProgress","translatesDiff","maxTranslate","isBeginning","isEnd","wasBeginning","wasEnd","updateSlidesClasses","realIndex","slideActiveClass","slideNextClass","slidePrevClass","slideDuplicateActiveClass","slideDuplicateNextClass","slideDuplicatePrevClass","activeSlide","loop","slideDuplicateClass","nextSlide","prevSlide","updateActiveIndex","newActiveIndex","previousIndex","previousRealIndex","previousSnapIndex","snapIndex","normalizeSlideIndex","updateClickedSlide","slideFound","clickedSlide","clickedIndex","slideToClickedSlide","update","virtualTranslate","currentTranslate","setTranslate","byController","x","y","z","newProgress","setTransition","transitionStart","runCallbacks","autoHeight","transitionEnd$1","animating","transition$1","slideTo","speed","internal","slideIndex","initialSlide","initialized","allowSlideNext","allowSlidePrev","destroyed","slideNext","loopFix","_clientLeft","slidePrev","slideReset","slidesPerViewDynamic","slideToIndex","loopedSlides","loopCreate","loopFillGroupWithBlank","blankSlidesNum","blankNode","slideBlankClass","loopAdditionalSlides","prependSlides","appendSlides","cloneNode","newIndex","loopDestroy","setGrabCursor","moving","simulateTouch","cursor","unsetGrabCursor","grabCursor","appendSlide","prependSlide","removeSlide","slidesIndexes","indexToRemove","removeAllSlides","manipulation","Device","ua","device","ios","android","androidChrome","desktop","windows","iphone","ipod","ipad","cordova","phonegap","os","osVersion","toLowerCase","webView","osVersionArr","metaViewport","minimalUi","pixelRatio","devicePixelRatio","onTouchStart","touchEventsData","touches","originalEvent","isTouchEvent","which","isTouched","isMoved","noSwiping","noSwipingClass","allowClick","swipeHandler","currentX","targetTouches","pageX","currentY","pageY","startX","startY","iOSEdgeSwipeDetection","iOSEdgeSwipeThreshold","allowTouchCallbacks","isScrolling","startMoving","touchStartTime","swipeDirection","threshold","allowThresholdMove","preventDefault","formElements","allowTouchMove","onTouchMove","preventedByNestedSwiper","touchReleaseOnEdges","diffX","diffY","touchAngle","atan2","PI","touchMoveStopPropagation","nested","stopPropagation","startTranslate","allowMomentumBounce","diff","touchRatio","disableParentSwiper","resistanceRatio","resistance","pow","followFinger","freeMode","velocities","position","time","onTouchEnd","touchEndTime","timeDiff","lastClickTime","clickTimeout","clearTimeout","currentPos","freeModeMomentum","lastMoveEvent","pop","velocityEvent","distance","velocity","freeModeMinimumVelocity","freeModeMomentumVelocityRatio","momentumDuration","freeModeMomentumRatio","momentumDistance","newPosition","doBounce","afterBouncePosition","bounceAmount","freeModeMomentumBounceRatio","freeModeMomentumBounce","freeModeSticky","longSwipesMs","stopIndex","groupSize","ratio","longSwipes","longSwipesRatio","shortSwipes","onResize","breakpoints","setBreakpoint","newTranslate","min","onClick","preventClicks","preventClicksPropagation","stopImmediatePropagation","attachEvents","touchEvents","wrapperEl","touchEventsTarget","start","move","end","passiveListeners","passive","detachEvents","breakpoint","getBreakpoint","currentBreakpoint","breakPointsParams","originalParams","needsReLoop","points","point","sort","b","innerWidth","addClasses","classNames","suffixes","direction","suffix","containerModifierClass","removeClasses","loadImage","imageEl","src","srcset","sizes","checkForComplete","image","onReady","complete","onload","onerror","preloadImages","imagesToLoad","imagesLoaded","updateOnImagesReady","currentSrc","images","wasLocked","isLocked","navigation","checkOverflow$1","defaults","init","uniqueNavElements","wrapperClass","runCallbacksOnInit","prototypes","extendedDefaults","Swiper$1","SwiperClass$$1","prototypeGroup","protoMethod","moduleParamName","swiperParams","passedParams","swipers","containerEl","newParams","dir","__proto__","$","spv","breakLoop","update$$1","translateValue","translated","destroy","deleteInstance","cleanStyles","extendDefaults","newDefaults","Device$2","Support$2","support","Browser$1","Browser","isSafari","isUiWebView","test","browser","Resize","resize","resizeHandler","orientationChangeHandler","Observer","func","MutationObserver","WebkitMutationObserver","attach","options","ObserverFunc","mutations","mutation","observe","attributes","childList","characterData","observers","observeParents","containerParents","disconnect","Observer$1","Virtual","force","ref","ref$1","previousFrom","from","previousTo","previousSlidesGrid","renderSlide","previousOffset","offsetProp","slidesAfter","slidesBefore","onRendered","lazy","load","renderExternal","getSlides","slidesToRender","prependIndexes","appendIndexes","cache","$slideEl","newCache","cachedIndex","Virtual$1","beforeInit","overwriteParams","Keyboard","handle","kc","keyCode","charCode","shiftKey","altKey","ctrlKey","metaKey","keyboard","onlyInViewport","inView","windowScroll","pageXOffset","pageYOffset","windowWidth","windowHeight","innerHeight","swiperOffset","swiperCoord","returnValue","enable","disable","Keyboard$1","isEventSupported","isSupported","element","implementation","hasFeature","Mousewheel","lastScrollTime","getEvent","normalize","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","sX","sY","pX","pY","wheelDelta","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","pixelX","pixelY","mousewheel","delta","rtlFactor","forceToAxis","invert","releaseOnEdges","getTime","sensitivity","timeout","autoplay","autoplayDisableOnInteraction","stopAutoplay","eventsTarged","Mousewheel$1","Navigation","$nextEl","$prevEl","disabledClass","lockClass","nextEl","prevEl","Navigation$1","hideOnClick","hiddenClass","toEdge","fromEdge","click","Pagination","pagination","current","total","paginationType","bullets","dynamicBullets","bulletSize","bulletActiveClass","bullet","$bullet","dynamicBulletsLength","bulletsOffset","currentClass","totalClass","scale","scaleX","scaleY","progressbarFillClass","renderCustom","render","paginationHTML","numberOfBullets","renderBullet","bulletClass","bulletElement","renderFraction","renderProgressbar","clickable","clickableClass","modifierClass","Pagination$1","activeIndexChange","snapIndexChange","slidesLengthChange","snapGridLengthChange","Scrollbar","scrollbar","dragSize","trackSize","$dragEl","newSize","newPos","hide","opacity","divider","moveDivider","display","scrollbarHide","setDragPosition","pointerPosition","clientX","clientY","positionRatio","onDragStart","dragTimeout","onDragMove","onDragEnd","snapOnRelease","enableDraggable","dragEvents","disableDraggable","$swiperEl","dragEl","draggable","Scrollbar$1","observerUpdate","Parallax","setTransform","p","currentOpacity","currentScale","parallax","slideEl","parallaxEl","$parallaxEl","parallaxDuration","Parallax$1","Zoom","getDistanceBetweenTouches","x1","y1","x2","y2","sqrt","onGestureStart","zoom","gesture","fakeGestureTouched","fakeGestureMoved","scaleStart","$imageEl","$imageWrapEl","containerClass","maxRatio","isScaling","onGestureChange","scaleMove","minRatio","onGestureEnd","changedTouches","touchesStart","slideWidth","slideHeight","scaledWidth","scaledHeight","minX","maxX","minY","maxY","touchesCurrent","prevPositionX","prevPositionY","prevTime","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","onTransitionEnd","out","in","in$1","zoomedSlideClass","touchX","touchY","offsetX","offsetY","translateX","translateY","imageWidth","imageHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","Zoom$1","touchStart","touchEnd","doubleTap","Lazy","loadInSlide","loadInDuplicate","$images","elementClass","loadedClass","loadingClass","imageIndex","background","preloaderClass","slideOriginalIndex","originalSlide","duplicatedSlide","slideExist","initialImageLoaded","elIndex","loadPrevNext","loadPrevNextAmount","amount","maxIndex","minIndex","Lazy$1","loadOnTransitionStart","scroll","scrollbarDragMove","Controller","LinearSpline","binarySearch","search","guess","array","val","lastIndex","i1","i3","interpolate","getInterpolateFunction","c","controller","spline","setTranslate$1","controlled","control","multiplier","controlledTranslate","setControlledTranslate","by","inverse","setControlledTransition","Controller$1","a11y","makeElFocusable","addElRole","role","addElLabel","label","disableEl","enableEl","onEnterKey","$targetEl","notify","lastSlideMessage","nextSlideMessage","firstSlideMessage","prevSlideMessage","message","notification","liveRegion","updateNavigation","updatePagination","bulletIndex","bulletEl","$bulletEl","paginationBulletMessage","A11y","notificationClass","paginationUpdate","History","pushState","hashNavigation","paths","getPathValues","scrollToSlide","replaceState","setHistoryPopState","pathArray","pathname","part","setHistory","slugify","includes","currentState","state","slideHistory","History$1","HashNavigation","onHashCange","newHash","activeSlideHash","setHash","slideHash","watchState","HashNavigation$1","Autoplay","run","$activeSlideEl","reverseDirection","stopOnLastSlide","stop","running","pause","paused","waitForTransition","Autoplay$1","disableOnInteraction","beforeTransitionStart","sliderFirstMove","Fade","tx","ty","slideOpacity","fadeEffect","crossFade","eventTriggered","triggerEvents","EffectFade","Cube","swiperWidth","swiperHeight","cubeEffect","wrapperRotate","$cubeShadowEl","shadow","slideAngle","round","tz","slideShadows","shadowBefore","shadowAfter","shadowOffset","shadowScale","shadowAngle","sin","cos","scale1","scale2","zFactor","EffectCube","Flip","flipEffect","limitRotation","rotate","rotateY","rotateX","zIndex","EffectFlip","Coverflow","coverflowEffect","center","depth","slideOffset","offsetMultiplier","modifier","translateZ","stretch","slideTransform","$shadowBeforeEl","$shadowAfterEl","ws","perspectiveOrigin","EffectCoverflow"],"mappings":"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","file":"swiper.js","sourcesContent":["/**\n * Swiper 4.1.0\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * http://www.idangero.us/swiper/\n *\n * Copyright 2014-2018 Vladimir Kharlampidi\n *\n * Released under the MIT License\n *\n * Released on: January 13, 2018\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.Swiper = factory());\n}(this, (function () { 'use strict';\n\n/**\n * Dom7 2.0.1\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * http://framework7.io/docs/dom.html\n *\n * Copyright 2017, Vladimir Kharlampidi\n * The iDangero.us\n * http://www.idangero.us/\n *\n * Licensed under MIT\n *\n * Released on: October 2, 2017\n */\nvar Dom7 = function Dom7(arr) {\n  var self = this;\n  // Create array-like object\n  for (var i = 0; i < arr.length; i += 1) {\n    self[i] = arr[i];\n  }\n  self.length = arr.length;\n  // Return collection with methods\n  return this;\n};\n\nfunction $$1(selector, context) {\n  var arr = [];\n  var i = 0;\n  if (selector && !context) {\n    if (selector instanceof Dom7) {\n      return selector;\n    }\n  }\n  if (selector) {\n      // String\n    if (typeof selector === 'string') {\n      var els;\n      var tempParent;\n      var html = selector.trim();\n      if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n        var toCreate = 'div';\n        if (html.indexOf('<li') === 0) { toCreate = 'ul'; }\n        if (html.indexOf('<tr') === 0) { toCreate = 'tbody'; }\n        if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) { toCreate = 'tr'; }\n        if (html.indexOf('<tbody') === 0) { toCreate = 'table'; }\n        if (html.indexOf('<option') === 0) { toCreate = 'select'; }\n        tempParent = document.createElement(toCreate);\n        tempParent.innerHTML = html;\n        for (i = 0; i < tempParent.childNodes.length; i += 1) {\n          arr.push(tempParent.childNodes[i]);\n        }\n      } else {\n        if (!context && selector[0] === '#' && !selector.match(/[ .<>:~]/)) {\n          // Pure ID selector\n          els = [document.getElementById(selector.trim().split('#')[1])];\n        } else {\n          // Other selectors\n          els = (context || document).querySelectorAll(selector.trim());\n        }\n        for (i = 0; i < els.length; i += 1) {\n          if (els[i]) { arr.push(els[i]); }\n        }\n      }\n    } else if (selector.nodeType || selector === window || selector === document) {\n      // Node/element\n      arr.push(selector);\n    } else if (selector.length > 0 && selector[0].nodeType) {\n      // Array of elements or instance of Dom\n      for (i = 0; i < selector.length; i += 1) {\n        arr.push(selector[i]);\n      }\n    }\n  }\n  return new Dom7(arr);\n}\n\n$$1.fn = Dom7.prototype;\n$$1.Class = Dom7;\n$$1.Dom7 = Dom7;\n\nfunction unique(arr) {\n  var uniqueArray = [];\n  for (var i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) { uniqueArray.push(arr[i]); }\n  }\n  return uniqueArray;\n}\n// Classes and attributes\nfunction addClass(className) {\n  var this$1 = this;\n\n  if (typeof className === 'undefined') {\n    return this;\n  }\n  var classes = className.split(' ');\n  for (var i = 0; i < classes.length; i += 1) {\n    for (var j = 0; j < this.length; j += 1) {\n      if (typeof this$1[j].classList !== 'undefined') { this$1[j].classList.add(classes[i]); }\n    }\n  }\n  return this;\n}\nfunction removeClass(className) {\n  var this$1 = this;\n\n  var classes = className.split(' ');\n  for (var i = 0; i < classes.length; i += 1) {\n    for (var j = 0; j < this.length; j += 1) {\n      if (typeof this$1[j].classList !== 'undefined') { this$1[j].classList.remove(classes[i]); }\n    }\n  }\n  return this;\n}\nfunction hasClass(className) {\n  if (!this[0]) { return false; }\n  return this[0].classList.contains(className);\n}\nfunction toggleClass(className) {\n  var this$1 = this;\n\n  var classes = className.split(' ');\n  for (var i = 0; i < classes.length; i += 1) {\n    for (var j = 0; j < this.length; j += 1) {\n      if (typeof this$1[j].classList !== 'undefined') { this$1[j].classList.toggle(classes[i]); }\n    }\n  }\n  return this;\n}\nfunction attr(attrs, value) {\n  var arguments$1 = arguments;\n  var this$1 = this;\n\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) { return this[0].getAttribute(attrs); }\n    return undefined;\n  }\n\n  // Set attrs\n  for (var i = 0; i < this.length; i += 1) {\n    if (arguments$1.length === 2) {\n      // String\n      this$1[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      // eslint-disable-next-line\n      for (var attrName in attrs) {\n        this$1[i][attrName] = attrs[attrName];\n        this$1[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n  return this;\n}\n// eslint-disable-next-line\nfunction removeAttr(attr) {\n  var this$1 = this;\n\n  for (var i = 0; i < this.length; i += 1) {\n    this$1[i].removeAttribute(attr);\n  }\n  return this;\n}\nfunction data(key, value) {\n  var this$1 = this;\n\n  var el;\n  if (typeof value === 'undefined') {\n    el = this[0];\n    // Get value\n    if (el) {\n      if (el.dom7ElementDataStorage && (key in el.dom7ElementDataStorage)) {\n        return el.dom7ElementDataStorage[key];\n      }\n\n      var dataKey = el.getAttribute((\"data-\" + key));\n      if (dataKey) {\n        return dataKey;\n      }\n      return undefined;\n    }\n    return undefined;\n  }\n\n  // Set value\n  for (var i = 0; i < this.length; i += 1) {\n    el = this$1[i];\n    if (!el.dom7ElementDataStorage) { el.dom7ElementDataStorage = {}; }\n    el.dom7ElementDataStorage[key] = value;\n  }\n  return this;\n}\n// Transforms\n// eslint-disable-next-line\nfunction transform(transform) {\n  var this$1 = this;\n\n  for (var i = 0; i < this.length; i += 1) {\n    var elStyle = this$1[i].style;\n    elStyle.webkitTransform = transform;\n    elStyle.transform = transform;\n  }\n  return this;\n}\nfunction transition(duration) {\n  var this$1 = this;\n\n  if (typeof duration !== 'string') {\n    duration = duration + \"ms\"; // eslint-disable-line\n  }\n  for (var i = 0; i < this.length; i += 1) {\n    var elStyle = this$1[i].style;\n    elStyle.webkitTransitionDuration = duration;\n    elStyle.transitionDuration = duration;\n  }\n  return this;\n}\n// Events\nfunction on() {\n  var this$1 = this;\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n\n  var eventType = args[0];\n  var targetSelector = args[1];\n  var listener = args[2];\n  var capture = args[3];\n  if (typeof args[1] === 'function') {\n    var assign;\n    (assign = args, eventType = assign[0], listener = assign[1], capture = assign[2]);\n    targetSelector = undefined;\n  }\n  if (!capture) { capture = false; }\n\n  function handleLiveEvent(e) {\n    var target = e.target;\n    if (!target) { return; }\n    var eventData = e.target.dom7EventData || [];\n    eventData.unshift(e);\n    if ($$1(target).is(targetSelector)) { listener.apply(target, eventData); }\n    else {\n      var parents = $$1(target).parents(); // eslint-disable-line\n      for (var k = 0; k < parents.length; k += 1) {\n        if ($$1(parents[k]).is(targetSelector)) { listener.apply(parents[k], eventData); }\n      }\n    }\n  }\n  function handleEvent(e) {\n    var eventData = e && e.target ? e.target.dom7EventData || [] : [];\n    eventData.unshift(e);\n    listener.apply(this, eventData);\n  }\n  var events = eventType.split(' ');\n  var j;\n  for (var i = 0; i < this.length; i += 1) {\n    var el = this$1[i];\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        if (!el.dom7Listeners) { el.dom7Listeners = []; }\n        el.dom7Listeners.push({\n          type: eventType,\n          listener: listener,\n          proxyListener: handleEvent,\n        });\n        el.addEventListener(events[j], handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        if (!el.dom7LiveListeners) { el.dom7LiveListeners = []; }\n        el.dom7LiveListeners.push({\n          type: eventType,\n          listener: listener,\n          proxyListener: handleLiveEvent,\n        });\n        el.addEventListener(events[j], handleLiveEvent, capture);\n      }\n    }\n  }\n  return this;\n}\nfunction off() {\n  var this$1 = this;\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n\n  var eventType = args[0];\n  var targetSelector = args[1];\n  var listener = args[2];\n  var capture = args[3];\n  if (typeof args[1] === 'function') {\n    var assign;\n    (assign = args, eventType = assign[0], listener = assign[1], capture = assign[2]);\n    targetSelector = undefined;\n  }\n  if (!capture) { capture = false; }\n\n  var events = eventType.split(' ');\n  for (var i = 0; i < events.length; i += 1) {\n    for (var j = 0; j < this.length; j += 1) {\n      var el = this$1[j];\n      if (!targetSelector) {\n        if (el.dom7Listeners) {\n          for (var k = 0; k < el.dom7Listeners.length; k += 1) {\n            if (listener) {\n              if (el.dom7Listeners[k].listener === listener) {\n                el.removeEventListener(events[i], el.dom7Listeners[k].proxyListener, capture);\n              }\n            } else if (el.dom7Listeners[k].type === events[i]) {\n              el.removeEventListener(events[i], el.dom7Listeners[k].proxyListener, capture);\n            }\n          }\n        }\n      } else if (el.dom7LiveListeners) {\n        for (var k$1 = 0; k$1 < el.dom7LiveListeners.length; k$1 += 1) {\n          if (listener) {\n            if (el.dom7LiveListeners[k$1].listener === listener) {\n              el.removeEventListener(events[i], el.dom7LiveListeners[k$1].proxyListener, capture);\n            }\n          } else if (el.dom7LiveListeners[k$1].type === events[i]) {\n            el.removeEventListener(events[i], el.dom7LiveListeners[k$1].proxyListener, capture);\n          }\n        }\n      }\n    }\n  }\n  return this;\n}\nfunction trigger() {\n  var this$1 = this;\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n\n  var events = args[0].split(' ');\n  var eventData = args[1];\n  for (var i = 0; i < events.length; i += 1) {\n    for (var j = 0; j < this.length; j += 1) {\n      var evt = (void 0);\n      try {\n        evt = new window.CustomEvent(events[i], {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true,\n        });\n      } catch (e) {\n        evt = document.createEvent('Event');\n        evt.initEvent(events[i], true, true);\n        evt.detail = eventData;\n      }\n      // eslint-disable-next-line\n      this$1[j].dom7EventData = args.filter(function (data, dataIndex) { return dataIndex > 0; });\n      this$1[j].dispatchEvent(evt);\n      this$1[j].dom7EventData = [];\n      delete this$1[j].dom7EventData;\n    }\n  }\n  return this;\n}\nfunction transitionEnd(callback) {\n  var events = ['webkitTransitionEnd', 'transitionend'];\n  var dom = this;\n  var i;\n  function fireCallBack(e) {\n    /* jshint validthis:true */\n    if (e.target !== this) { return; }\n    callback.call(this, e);\n    for (i = 0; i < events.length; i += 1) {\n      dom.off(events[i], fireCallBack);\n    }\n  }\n  if (callback) {\n    for (i = 0; i < events.length; i += 1) {\n      dom.on(events[i], fireCallBack);\n    }\n  }\n  return this;\n}\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      // eslint-disable-next-line\n      var styles = this.styles();\n      return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n    }\n    return this[0].offsetWidth;\n  }\n  return null;\n}\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      // eslint-disable-next-line\n      var styles = this.styles();\n      return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n    }\n    return this[0].offsetHeight;\n  }\n  return null;\n}\nfunction offset() {\n  if (this.length > 0) {\n    var el = this[0];\n    var box = el.getBoundingClientRect();\n    var body = document.body;\n    var clientTop = el.clientTop || body.clientTop || 0;\n    var clientLeft = el.clientLeft || body.clientLeft || 0;\n    var scrollTop = el === window ? window.scrollY : el.scrollTop;\n    var scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: (box.top + scrollTop) - clientTop,\n      left: (box.left + scrollLeft) - clientLeft,\n    };\n  }\n\n  return null;\n}\nfunction styles() {\n  if (this[0]) { return window.getComputedStyle(this[0], null); }\n  return {};\n}\nfunction css(props, value) {\n  var this$1 = this;\n\n  var i;\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      if (this[0]) { return window.getComputedStyle(this[0], null).getPropertyValue(props); }\n    } else {\n      for (i = 0; i < this.length; i += 1) {\n        // eslint-disable-next-line\n        for (var prop in props) {\n          this$1[i].style[prop] = props[prop];\n        }\n      }\n      return this;\n    }\n  }\n  if (arguments.length === 2 && typeof props === 'string') {\n    for (i = 0; i < this.length; i += 1) {\n      this$1[i].style[props] = value;\n    }\n    return this;\n  }\n  return this;\n}\n\n// Iterate over the collection passing elements to `callback`\nfunction each(callback) {\n  var this$1 = this;\n\n  // Don't bother continuing without a callback\n  if (!callback) { return this; }\n  // Iterate over the current collection\n  for (var i = 0; i < this.length; i += 1) {\n    // If the callback returns false\n    if (callback.call(this$1[i], i, this$1[i]) === false) {\n      // End the loop early\n      return this$1;\n    }\n  }\n  // Return `this` to allow chained DOM operations\n  return this;\n}\n// eslint-disable-next-line\nfunction html(html) {\n  var this$1 = this;\n\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : undefined;\n  }\n\n  for (var i = 0; i < this.length; i += 1) {\n    this$1[i].innerHTML = html;\n  }\n  return this;\n}\n// eslint-disable-next-line\nfunction text(text) {\n  var this$1 = this;\n\n  if (typeof text === 'undefined') {\n    if (this[0]) {\n      return this[0].textContent.trim();\n    }\n    return null;\n  }\n\n  for (var i = 0; i < this.length; i += 1) {\n    this$1[i].textContent = text;\n  }\n  return this;\n}\nfunction is(selector) {\n  var el = this[0];\n  var compareWith;\n  var i;\n  if (!el || typeof selector === 'undefined') { return false; }\n  if (typeof selector === 'string') {\n    if (el.matches) { return el.matches(selector); }\n    else if (el.webkitMatchesSelector) { return el.webkitMatchesSelector(selector); }\n    else if (el.msMatchesSelector) { return el.msMatchesSelector(selector); }\n\n    compareWith = $$1(selector);\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) { return true; }\n    }\n    return false;\n  } else if (selector === document) { return el === document; }\n  else if (selector === window) { return el === window; }\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) { return true; }\n    }\n    return false;\n  }\n  return false;\n}\nfunction index() {\n  var child = this[0];\n  var i;\n  if (child) {\n    i = 0;\n    // eslint-disable-next-line\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) { i += 1; }\n    }\n    return i;\n  }\n  return undefined;\n}\n// eslint-disable-next-line\nfunction eq(index) {\n  if (typeof index === 'undefined') { return this; }\n  var length = this.length;\n  var returnIndex;\n  if (index > length - 1) {\n    return new Dom7([]);\n  }\n  if (index < 0) {\n    returnIndex = length + index;\n    if (returnIndex < 0) { return new Dom7([]); }\n    return new Dom7([this[returnIndex]]);\n  }\n  return new Dom7([this[index]]);\n}\nfunction append() {\n  var this$1 = this;\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n\n  var newChild;\n\n  for (var k = 0; k < args.length; k += 1) {\n    newChild = args[k];\n    for (var i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        var tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n        while (tempDiv.firstChild) {\n          this$1[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (var j = 0; j < newChild.length; j += 1) {\n          this$1[i].appendChild(newChild[j]);\n        }\n      } else {\n        this$1[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n function prepend(newChild) {\n  var this$1 = this;\n\n  var i;\n  var j;\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      var tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this$1[i].insertBefore(tempDiv.childNodes[j], this$1[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this$1[i].insertBefore(newChild[j], this$1[i].childNodes[0]);\n      }\n    } else {\n      this$1[i].insertBefore(newChild, this$1[i].childNodes[0]);\n    }\n  }\n  return this;\n}\n function next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $$1(this[0].nextElementSibling).is(selector)) {\n        return new Dom7([this[0].nextElementSibling]);\n      }\n      return new Dom7([]);\n    }\n\n    if (this[0].nextElementSibling) { return new Dom7([this[0].nextElementSibling]); }\n    return new Dom7([]);\n  }\n  return new Dom7([]);\n}\nfunction nextAll(selector) {\n  var nextEls = [];\n  var el = this[0];\n  if (!el) { return new Dom7([]); }\n  while (el.nextElementSibling) {\n    var next = el.nextElementSibling; // eslint-disable-line\n    if (selector) {\n      if ($$1(next).is(selector)) { nextEls.push(next); }\n    } else { nextEls.push(next); }\n    el = next;\n  }\n  return new Dom7(nextEls);\n}\nfunction prev(selector) {\n  if (this.length > 0) {\n    var el = this[0];\n    if (selector) {\n      if (el.previousElementSibling && $$1(el.previousElementSibling).is(selector)) {\n        return new Dom7([el.previousElementSibling]);\n      }\n      return new Dom7([]);\n    }\n\n    if (el.previousElementSibling) { return new Dom7([el.previousElementSibling]); }\n    return new Dom7([]);\n  }\n  return new Dom7([]);\n}\nfunction prevAll(selector) {\n  var prevEls = [];\n  var el = this[0];\n  if (!el) { return new Dom7([]); }\n  while (el.previousElementSibling) {\n    var prev = el.previousElementSibling; // eslint-disable-line\n    if (selector) {\n      if ($$1(prev).is(selector)) { prevEls.push(prev); }\n    } else { prevEls.push(prev); }\n    el = prev;\n  }\n  return new Dom7(prevEls);\n}\nfunction parent(selector) {\n  var this$1 = this;\n\n  var parents = []; // eslint-disable-line\n  for (var i = 0; i < this.length; i += 1) {\n    if (this$1[i].parentNode !== null) {\n      if (selector) {\n        if ($$1(this$1[i].parentNode).is(selector)) { parents.push(this$1[i].parentNode); }\n      } else {\n        parents.push(this$1[i].parentNode);\n      }\n    }\n  }\n  return $$1(unique(parents));\n}\nfunction parents(selector) {\n  var this$1 = this;\n\n  var parents = []; // eslint-disable-line\n  for (var i = 0; i < this.length; i += 1) {\n    var parent = this$1[i].parentNode; // eslint-disable-line\n    while (parent) {\n      if (selector) {\n        if ($$1(parent).is(selector)) { parents.push(parent); }\n      } else {\n        parents.push(parent);\n      }\n      parent = parent.parentNode;\n    }\n  }\n  return $$1(unique(parents));\n}\nfunction closest(selector) {\n  var closest = this; // eslint-disable-line\n  if (typeof selector === 'undefined') {\n    return new Dom7([]);\n  }\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n  return closest;\n}\nfunction find(selector) {\n  var this$1 = this;\n\n  var foundElements = [];\n  for (var i = 0; i < this.length; i += 1) {\n    var found = this$1[i].querySelectorAll(selector);\n    for (var j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n  return new Dom7(foundElements);\n}\nfunction children(selector) {\n  var this$1 = this;\n\n  var children = []; // eslint-disable-line\n  for (var i = 0; i < this.length; i += 1) {\n    var childNodes = this$1[i].childNodes;\n\n    for (var j = 0; j < childNodes.length; j += 1) {\n      if (!selector) {\n        if (childNodes[j].nodeType === 1) { children.push(childNodes[j]); }\n      } else if (childNodes[j].nodeType === 1 && $$1(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n  return new Dom7(unique(children));\n}\nfunction remove() {\n  var this$1 = this;\n\n  for (var i = 0; i < this.length; i += 1) {\n    if (this$1[i].parentNode) { this$1[i].parentNode.removeChild(this$1[i]); }\n  }\n  return this;\n}\nfunction add() {\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n\n  var dom = this;\n  var i;\n  var j;\n  for (i = 0; i < args.length; i += 1) {\n    var toAdd = $$1(args[i]);\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom[dom.length] = toAdd[j];\n      dom.length += 1;\n    }\n  }\n  return dom;\n}\nvar noTrigger = ('resize scroll').split(' ');\n\nvar Methods = {\n  addClass: addClass,\n  removeClass: removeClass,\n  hasClass: hasClass,\n  toggleClass: toggleClass,\n  attr: attr,\n  removeAttr: removeAttr,\n  data: data,\n  transform: transform,\n  transition: transition,\n  on: on,\n  off: off,\n  trigger: trigger,\n  transitionEnd: transitionEnd,\n  outerWidth: outerWidth,\n  outerHeight: outerHeight,\n  offset: offset,\n  css: css,\n  each: each,\n  html: html,\n  text: text,\n  is: is,\n  index: index,\n  eq: eq,\n  append: append,\n  prepend: prepend,\n  next: next,\n  nextAll: nextAll,\n  prev: prev,\n  prevAll: prevAll,\n  parent: parent,\n  parents: parents,\n  closest: closest,\n  find: find,\n  children: children,\n  remove: remove,\n  add: add,\n  styles: styles,\n};\n\nObject.keys(Methods).forEach(function (methodName) {\n  $$1.fn[methodName] = Methods[methodName];\n});\n\nvar w;\nif (typeof window === 'undefined') {\n  w = {\n    navigator: {\n      userAgent: '',\n    },\n    location: {},\n    history: {},\n    addEventListener: function addEventListener() {},\n    removeEventListener: function removeEventListener() {},\n    getComputedStyle: function getComputedStyle() {\n      return {};\n    },\n    Image: function Image() {},\n    Date: function Date() {},\n    screen: {},\n  };\n} else {\n  w = window;\n}\n\nvar win = w;\n\nvar Utils = {\n  deleteProps: function deleteProps(obj) {\n    var object = obj;\n    Object.keys(object).forEach(function (key) {\n      try {\n        object[key] = null;\n      } catch (e) {\n        // no getter for object\n      }\n      try {\n        delete object[key];\n      } catch (e) {\n        // something got wrong\n      }\n    });\n  },\n  nextTick: function nextTick(callback, delay) {\n    if ( delay === void 0 ) delay = 0;\n\n    return setTimeout(callback, delay);\n  },\n  now: function now() {\n    return Date.now();\n  },\n  getTranslate: function getTranslate(el, axis) {\n    if ( axis === void 0 ) axis = 'x';\n\n    var matrix;\n    var curTransform;\n    var transformMatrix;\n\n    var curStyle = win.getComputedStyle(el, null);\n\n    if (win.WebKitCSSMatrix) {\n      curTransform = curStyle.transform || curStyle.webkitTransform;\n      if (curTransform.split(',').length > 6) {\n        curTransform = curTransform.split(', ').map(function (a) { return a.replace(',', '.'); }).join(', ');\n      }\n      // Some old versions of Webkit choke when 'none' is passed; pass\n      // empty string instead in this case\n      transformMatrix = new win.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n    } else {\n      transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n      matrix = transformMatrix.toString().split(',');\n    }\n\n    if (axis === 'x') {\n      // Latest Chrome and webkits Fix\n      if (win.WebKitCSSMatrix) { curTransform = transformMatrix.m41; }\n      // Crazy IE10 Matrix\n      else if (matrix.length === 16) { curTransform = parseFloat(matrix[12]); }\n      // Normal Browsers\n      else { curTransform = parseFloat(matrix[4]); }\n    }\n    if (axis === 'y') {\n      // Latest Chrome and webkits Fix\n      if (win.WebKitCSSMatrix) { curTransform = transformMatrix.m42; }\n      // Crazy IE10 Matrix\n      else if (matrix.length === 16) { curTransform = parseFloat(matrix[13]); }\n      // Normal Browsers\n      else { curTransform = parseFloat(matrix[5]); }\n    }\n    return curTransform || 0;\n  },\n  parseUrlQuery: function parseUrlQuery(url) {\n    var query = {};\n    var urlToParse = url || win.location.href;\n    var i;\n    var params;\n    var param;\n    var length;\n    if (typeof urlToParse === 'string' && urlToParse.length) {\n      urlToParse = urlToParse.indexOf('?') > -1 ? urlToParse.replace(/\\S*\\?/, '') : '';\n      params = urlToParse.split('&').filter(function (paramsPart) { return paramsPart !== ''; });\n      length = params.length;\n\n      for (i = 0; i < length; i += 1) {\n        param = params[i].replace(/#\\S+/g, '').split('=');\n        query[decodeURIComponent(param[0])] = typeof param[1] === 'undefined' ? undefined : decodeURIComponent(param[1]) || '';\n      }\n    }\n    return query;\n  },\n  isObject: function isObject(o) {\n    return typeof o === 'object' && o !== null && o.constructor && o.constructor === Object;\n  },\n  extend: function extend() {\n    var args = [], len$1 = arguments.length;\n    while ( len$1-- ) args[ len$1 ] = arguments[ len$1 ];\n\n    var to = Object(args[0]);\n    for (var i = 1; i < args.length; i += 1) {\n      var nextSource = args[i];\n      if (nextSource !== undefined && nextSource !== null) {\n        var keysArray = Object.keys(Object(nextSource));\n        for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n          var nextKey = keysArray[nextIndex];\n          var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n          if (desc !== undefined && desc.enumerable) {\n            if (Utils.isObject(to[nextKey]) && Utils.isObject(nextSource[nextKey])) {\n              Utils.extend(to[nextKey], nextSource[nextKey]);\n            } else if (!Utils.isObject(to[nextKey]) && Utils.isObject(nextSource[nextKey])) {\n              to[nextKey] = {};\n              Utils.extend(to[nextKey], nextSource[nextKey]);\n            } else {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n    }\n    return to;\n  },\n};\n\nvar d;\nif (typeof document === 'undefined') {\n  d = {\n    addEventListener: function addEventListener() {},\n    removeEventListener: function removeEventListener() {},\n    activeElement: {\n      blur: function blur() {},\n      nodeName: '',\n    },\n    querySelector: function querySelector() {\n      return {};\n    },\n    querySelectorAll: function querySelectorAll() {\n      return [];\n    },\n    createElement: function createElement() {\n      return {\n        style: {},\n        setAttribute: function setAttribute() {},\n        getElementsByTagName: function getElementsByTagName() {\n          return [];\n        },\n      };\n    },\n    location: { hash: '' },\n  };\n} else {\n  d = document;\n}\n\nvar doc = d;\n\nvar Support = (function Support() {\n  var testDiv = doc.createElement('div');\n  return {\n    touch: (win.Modernizr && win.Modernizr.touch === true) || (function checkTouch() {\n      return !!(('ontouchstart' in win) || (win.DocumentTouch && doc instanceof win.DocumentTouch));\n    }()),\n\n    pointerEvents: !!(win.navigator.pointerEnabled || win.PointerEvent),\n    prefixedPointerEvents: !!win.navigator.msPointerEnabled,\n\n    transition: (function checkTransition() {\n      var style = testDiv.style;\n      return ('transition' in style || 'webkitTransition' in style || 'MozTransition' in style);\n    }()),\n    transforms3d: (win.Modernizr && win.Modernizr.csstransforms3d === true) || (function checkTransforms3d() {\n      var style = testDiv.style;\n      return ('webkitPerspective' in style || 'MozPerspective' in style || 'OPerspective' in style || 'MsPerspective' in style || 'perspective' in style);\n    }()),\n\n    flexbox: (function checkFlexbox() {\n      var style = testDiv.style;\n      var styles = ('alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient').split(' ');\n      for (var i = 0; i < styles.length; i += 1) {\n        if (styles[i] in style) { return true; }\n      }\n      return false;\n    }()),\n\n    observer: (function checkObserver() {\n      return ('MutationObserver' in win || 'WebkitMutationObserver' in win);\n    }()),\n\n    passiveListener: (function checkPassiveListener() {\n      var supportsPassive = false;\n      try {\n        var opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get: function get() {\n            supportsPassive = true;\n          },\n        });\n        win.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {\n        // No support\n      }\n      return supportsPassive;\n    }()),\n\n    gestures: (function checkGestures() {\n      return 'ongesturestart' in win;\n    }()),\n  };\n}());\n\nvar SwiperClass = function SwiperClass(params) {\n  if ( params === void 0 ) params = {};\n\n  var self = this;\n  self.params = params;\n\n  // Events\n  self.eventsListeners = {};\n\n  if (self.params && self.params.on) {\n    Object.keys(self.params.on).forEach(function (eventName) {\n      self.on(eventName, self.params.on[eventName]);\n    });\n  }\n};\n\nvar staticAccessors = { components: { configurable: true } };\nSwiperClass.prototype.on = function on (events, handler) {\n  var self = this;\n  if (typeof handler !== 'function') { return self; }\n  events.split(' ').forEach(function (event) {\n    if (!self.eventsListeners[event]) { self.eventsListeners[event] = []; }\n    self.eventsListeners[event].push(handler);\n  });\n  return self;\n};\nSwiperClass.prototype.once = function once (events, handler) {\n  var self = this;\n  if (typeof handler !== 'function') { return self; }\n  function onceHandler() {\n      var args = [], len = arguments.length;\n      while ( len-- ) args[ len ] = arguments[ len ];\n\n    handler.apply(self, args);\n    self.off(events, onceHandler);\n  }\n  return self.on(events, onceHandler);\n};\nSwiperClass.prototype.off = function off (events, handler) {\n  var self = this;\n  events.split(' ').forEach(function (event) {\n    if (typeof handler === 'undefined') {\n      self.eventsListeners[event] = [];\n    } else {\n      self.eventsListeners[event].forEach(function (eventHandler, index) {\n        if (eventHandler === handler) {\n          self.eventsListeners[event].splice(index, 1);\n        }\n      });\n    }\n  });\n  return self;\n};\nSwiperClass.prototype.emit = function emit () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n  var self = this;\n  if (!self.eventsListeners) { return self; }\n  var events;\n  var data;\n  var context;\n  if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n    events = args[0];\n    data = args.slice(1, args.length);\n    context = self;\n  } else {\n    events = args[0].events;\n    data = args[0].data;\n    context = args[0].context || self;\n  }\n  var eventsArray = Array.isArray(events) ? events : events.split(' ');\n  eventsArray.forEach(function (event) {\n    if (self.eventsListeners[event]) {\n      var handlers = [];\n      self.eventsListeners[event].forEach(function (eventHandler) {\n        handlers.push(eventHandler);\n      });\n      handlers.forEach(function (eventHandler) {\n        eventHandler.apply(context, data);\n      });\n    }\n  });\n  return self;\n};\nSwiperClass.prototype.useModulesParams = function useModulesParams (instanceParams) {\n  var instance = this;\n  if (!instance.modules) { return; }\n  Object.keys(instance.modules).forEach(function (moduleName) {\n    var module = instance.modules[moduleName];\n    // Extend params\n    if (module.params) {\n      Utils.extend(instanceParams, module.params);\n    }\n  });\n};\nSwiperClass.prototype.useModules = function useModules (modulesParams) {\n    if ( modulesParams === void 0 ) modulesParams = {};\n\n  var instance = this;\n  if (!instance.modules) { return; }\n  Object.keys(instance.modules).forEach(function (moduleName) {\n    var module = instance.modules[moduleName];\n    var moduleParams = modulesParams[moduleName] || {};\n    // Extend instance methods and props\n    if (module.instance) {\n      Object.keys(module.instance).forEach(function (modulePropName) {\n        var moduleProp = module.instance[modulePropName];\n        if (typeof moduleProp === 'function') {\n          instance[modulePropName] = moduleProp.bind(instance);\n        } else {\n          instance[modulePropName] = moduleProp;\n        }\n      });\n    }\n    // Add event listeners\n    if (module.on && instance.on) {\n      Object.keys(module.on).forEach(function (moduleEventName) {\n        instance.on(moduleEventName, module.on[moduleEventName]);\n      });\n    }\n\n    // Module create callback\n    if (module.create) {\n      module.create.bind(instance)(moduleParams);\n    }\n  });\n};\nstaticAccessors.components.set = function (components) {\n  var Class = this;\n  if (!Class.use) { return; }\n  Class.use(components);\n};\nSwiperClass.installModule = function installModule (module) {\n    var params = [], len = arguments.length - 1;\n    while ( len-- > 0 ) params[ len ] = arguments[ len + 1 ];\n\n  var Class = this;\n  if (!Class.prototype.modules) { Class.prototype.modules = {}; }\n  var name = module.name || (((Object.keys(Class.prototype.modules).length) + \"_\" + (Utils.now())));\n  Class.prototype.modules[name] = module;\n  // Prototype\n  if (module.proto) {\n    Object.keys(module.proto).forEach(function (key) {\n      Class.prototype[key] = module.proto[key];\n    });\n  }\n  // Class\n  if (module.static) {\n    Object.keys(module.static).forEach(function (key) {\n      Class[key] = module.static[key];\n    });\n  }\n  // Callback\n  if (module.install) {\n    module.install.apply(Class, params);\n  }\n  return Class;\n};\nSwiperClass.use = function use (module) {\n    var params = [], len = arguments.length - 1;\n    while ( len-- > 0 ) params[ len ] = arguments[ len + 1 ];\n\n  var Class = this;\n  if (Array.isArray(module)) {\n    module.forEach(function (m) { return Class.installModule(m); });\n    return Class;\n  }\n  return Class.installModule.apply(Class, [ module ].concat( params ));\n};\n\nObject.defineProperties( SwiperClass, staticAccessors );\n\nvar updateSize = function () {\n  var swiper = this;\n  var width;\n  var height;\n  var $el = swiper.$el;\n  if (typeof swiper.params.width !== 'undefined') {\n    width = swiper.params.width;\n  } else {\n    width = $el[0].clientWidth;\n  }\n  if (typeof swiper.params.height !== 'undefined') {\n    height = swiper.params.height;\n  } else {\n    height = $el[0].clientHeight;\n  }\n  if ((width === 0 && swiper.isHorizontal()) || (height === 0 && swiper.isVertical())) {\n    return;\n  }\n\n  // Subtract paddings\n  width = width - parseInt($el.css('padding-left'), 10) - parseInt($el.css('padding-right'), 10);\n  height = height - parseInt($el.css('padding-top'), 10) - parseInt($el.css('padding-bottom'), 10);\n\n  Utils.extend(swiper, {\n    width: width,\n    height: height,\n    size: swiper.isHorizontal() ? width : height,\n  });\n};\n\nvar updateSlides = function () {\n  var swiper = this;\n  var params = swiper.params;\n\n  var $wrapperEl = swiper.$wrapperEl;\n  var swiperSize = swiper.size;\n  var rtl = swiper.rtl;\n  var wrongRTL = swiper.wrongRTL;\n  var slides = $wrapperEl.children((\".\" + (swiper.params.slideClass)));\n  var isVirtual = swiper.virtual && params.virtual.enabled;\n  var slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  var snapGrid = [];\n  var slidesGrid = [];\n  var slidesSizesGrid = [];\n\n  var offsetBefore = params.slidesOffsetBefore;\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n\n  var offsetAfter = params.slidesOffsetAfter;\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n\n  var previousSlidesLength = slidesLength;\n  var previousSnapGridLength = swiper.snapGrid.length;\n  var previousSlidesGridLength = swiper.snapGrid.length;\n\n  var spaceBetween = params.spaceBetween;\n  var slidePosition = -offsetBefore;\n  var prevSlideSize = 0;\n  var index = 0;\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = (parseFloat(spaceBetween.replace('%', '')) / 100) * swiperSize;\n  }\n\n  swiper.virtualSize = -spaceBetween;\n\n  // reset margins\n  if (rtl) { slides.css({ marginLeft: '', marginTop: '' }); }\n  else { slides.css({ marginRight: '', marginBottom: '' }); }\n\n  var slidesNumberEvenToRows;\n  if (params.slidesPerColumn > 1) {\n    if (Math.floor(slidesLength / params.slidesPerColumn) === slidesLength / swiper.params.slidesPerColumn) {\n      slidesNumberEvenToRows = slidesLength;\n    } else {\n      slidesNumberEvenToRows = Math.ceil(slidesLength / params.slidesPerColumn) * params.slidesPerColumn;\n    }\n    if (params.slidesPerView !== 'auto' && params.slidesPerColumnFill === 'row') {\n      slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, params.slidesPerView * params.slidesPerColumn);\n    }\n  }\n\n  // Calc slides\n  var slideSize;\n  var slidesPerColumn = params.slidesPerColumn;\n  var slidesPerRow = slidesNumberEvenToRows / slidesPerColumn;\n  var numFullColumns = slidesPerRow - ((params.slidesPerColumn * slidesPerRow) - slidesLength);\n  for (var i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    var slide = slides.eq(i);\n    if (params.slidesPerColumn > 1) {\n      // Set slides order\n      var newSlideOrderIndex = (void 0);\n      var column = (void 0);\n      var row = (void 0);\n      if (params.slidesPerColumnFill === 'column') {\n        column = Math.floor(i / slidesPerColumn);\n        row = i - (column * slidesPerColumn);\n        if (column > numFullColumns || (column === numFullColumns && row === slidesPerColumn - 1)) {\n          row += 1;\n          if (row >= slidesPerColumn) {\n            row = 0;\n            column += 1;\n          }\n        }\n        newSlideOrderIndex = column + ((row * slidesNumberEvenToRows) / slidesPerColumn);\n        slide\n          .css({\n            '-webkit-box-ordinal-group': newSlideOrderIndex,\n            '-moz-box-ordinal-group': newSlideOrderIndex,\n            '-ms-flex-order': newSlideOrderIndex,\n            '-webkit-order': newSlideOrderIndex,\n            order: newSlideOrderIndex,\n          });\n      } else {\n        row = Math.floor(i / slidesPerRow);\n        column = i - (row * slidesPerRow);\n      }\n      slide\n        .css(\n          (\"margin-\" + (swiper.isHorizontal() ? 'top' : 'left')),\n          (row !== 0 && params.spaceBetween) && (((params.spaceBetween) + \"px\"))\n        )\n        .attr('data-swiper-column', column)\n        .attr('data-swiper-row', row);\n    }\n    if (slide.css('display') === 'none') { continue; } // eslint-disable-line\n    if (params.slidesPerView === 'auto') {\n      slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n      if (params.roundLengths) { slideSize = Math.floor(slideSize); }\n    } else {\n      slideSize = (swiperSize - ((params.slidesPerView - 1) * spaceBetween)) / params.slidesPerView;\n      if (params.roundLengths) { slideSize = Math.floor(slideSize); }\n\n      if (slides[i]) {\n        if (swiper.isHorizontal()) {\n          slides[i].style.width = slideSize + \"px\";\n        } else {\n          slides[i].style.height = slideSize + \"px\";\n        }\n      }\n    }\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n    slidesSizesGrid.push(slideSize);\n\n\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + (slideSize / 2) + (prevSlideSize / 2) + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) { slidePosition = slidePosition - (swiperSize / 2) - spaceBetween; }\n      if (i === 0) { slidePosition = slidePosition - (swiperSize / 2) - spaceBetween; }\n      if (Math.abs(slidePosition) < 1 / 1000) { slidePosition = 0; }\n      if ((index) % params.slidesPerGroup === 0) { snapGrid.push(slidePosition); }\n      slidesGrid.push(slidePosition);\n    } else {\n      if ((index) % params.slidesPerGroup === 0) { snapGrid.push(slidePosition); }\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n\n    swiper.virtualSize += slideSize + spaceBetween;\n\n    prevSlideSize = slideSize;\n\n    index += 1;\n  }\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n  var newSlidesGrid;\n\n  if (\n    rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    $wrapperEl.css({ width: ((swiper.virtualSize + params.spaceBetween) + \"px\") });\n  }\n  if (!Support.flexbox || params.setWrapperSize) {\n    if (swiper.isHorizontal()) { $wrapperEl.css({ width: ((swiper.virtualSize + params.spaceBetween) + \"px\") }); }\n    else { $wrapperEl.css({ height: ((swiper.virtualSize + params.spaceBetween) + \"px\") }); }\n  }\n\n  if (params.slidesPerColumn > 1) {\n    swiper.virtualSize = (slideSize + params.spaceBetween) * slidesNumberEvenToRows;\n    swiper.virtualSize = Math.ceil(swiper.virtualSize / params.slidesPerColumn) - params.spaceBetween;\n    if (swiper.isHorizontal()) { $wrapperEl.css({ width: ((swiper.virtualSize + params.spaceBetween) + \"px\") }); }\n    else { $wrapperEl.css({ height: ((swiper.virtualSize + params.spaceBetween) + \"px\") }); }\n    if (params.centeredSlides) {\n      newSlidesGrid = [];\n      for (var i$1 = 0; i$1 < snapGrid.length; i$1 += 1) {\n        if (snapGrid[i$1] < swiper.virtualSize + snapGrid[0]) { newSlidesGrid.push(snapGrid[i$1]); }\n      }\n      snapGrid = newSlidesGrid;\n    }\n  }\n\n  // Remove last grid elements depending on width\n  if (!params.centeredSlides) {\n    newSlidesGrid = [];\n    for (var i$2 = 0; i$2 < snapGrid.length; i$2 += 1) {\n      if (snapGrid[i$2] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(snapGrid[i$2]);\n      }\n    }\n    snapGrid = newSlidesGrid;\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n  if (snapGrid.length === 0) { snapGrid = [0]; }\n\n  if (params.spaceBetween !== 0) {\n    if (swiper.isHorizontal()) {\n      if (rtl) { slides.css({ marginLeft: (spaceBetween + \"px\") }); }\n      else { slides.css({ marginRight: (spaceBetween + \"px\") }); }\n    } else { slides.css({ marginBottom: (spaceBetween + \"px\") }); }\n  }\n\n  Utils.extend(swiper, {\n    slides: slides,\n    snapGrid: snapGrid,\n    slidesGrid: slidesGrid,\n    slidesSizesGrid: slidesSizesGrid,\n  });\n\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) { swiper.checkOverflow(); }\n    swiper.emit('snapGridLengthChange');\n  }\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n\n  if (params.watchSlidesProgress || params.watchSlidesVisibility) {\n    swiper.updateSlidesOffset();\n  }\n};\n\nvar updateAutoHeight = function () {\n  var swiper = this;\n  var activeSlides = [];\n  var newHeight = 0;\n  var i;\n\n  // Find slides currently in view\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n      var index = swiper.activeIndex + i;\n      if (index > swiper.slides.length) { break; }\n      activeSlides.push(swiper.slides.eq(index)[0]);\n    }\n  } else {\n    activeSlides.push(swiper.slides.eq(swiper.activeIndex)[0]);\n  }\n\n  // Find new height from highest slide in view\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      var height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  }\n\n  // Update Height\n  if (newHeight) { swiper.$wrapperEl.css('height', (newHeight + \"px\")); }\n};\n\nvar updateSlidesOffset = function () {\n  var swiper = this;\n  var slides = swiper.slides;\n  for (var i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n  }\n};\n\nvar updateSlidesProgress = function (translate) {\n  if ( translate === void 0 ) translate = this.translate || 0;\n\n  var swiper = this;\n  var params = swiper.params;\n\n  var slides = swiper.slides;\n  var rtl = swiper.rtl;\n\n  if (slides.length === 0) { return; }\n  if (typeof slides[0].swiperSlideOffset === 'undefined') { swiper.updateSlidesOffset(); }\n\n  var offsetCenter = -translate;\n  if (rtl) { offsetCenter = translate; }\n\n  // Visible Slides\n  slides.removeClass(params.slideVisibleClass);\n\n  for (var i = 0; i < slides.length; i += 1) {\n    var slide = slides[i];\n    var slideProgress =\n      (\n        (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0)) - slide.swiperSlideOffset\n      ) / (slide.swiperSlideSize + params.spaceBetween);\n    if (params.watchSlidesVisibility) {\n      var slideBefore = -(offsetCenter - slide.swiperSlideOffset);\n      var slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n      var isVisible =\n                (slideBefore >= 0 && slideBefore < swiper.size) ||\n                (slideAfter > 0 && slideAfter <= swiper.size) ||\n                (slideBefore <= 0 && slideAfter >= swiper.size);\n      if (isVisible) {\n        slides.eq(i).addClass(params.slideVisibleClass);\n      }\n    }\n    slide.progress = rtl ? -slideProgress : slideProgress;\n  }\n};\n\nvar updateProgress = function (translate) {\n  if ( translate === void 0 ) translate = this.translate || 0;\n\n  var swiper = this;\n  var params = swiper.params;\n\n  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  var progress = swiper.progress;\n  var isBeginning = swiper.isBeginning;\n  var isEnd = swiper.isEnd;\n  var wasBeginning = isBeginning;\n  var wasEnd = isEnd;\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / (translatesDiff);\n    isBeginning = progress <= 0;\n    isEnd = progress >= 1;\n  }\n  Utils.extend(swiper, {\n    progress: progress,\n    isBeginning: isBeginning,\n    isEnd: isEnd,\n  });\n\n  if (params.watchSlidesProgress || params.watchSlidesVisibility) { swiper.updateSlidesProgress(translate); }\n\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n  if ((wasBeginning && !isBeginning) || (wasEnd && !isEnd)) {\n    swiper.emit('fromEdge');\n  }\n\n  swiper.emit('progress', progress);\n};\n\nvar updateSlidesClasses = function () {\n  var swiper = this;\n\n  var slides = swiper.slides;\n  var params = swiper.params;\n  var $wrapperEl = swiper.$wrapperEl;\n  var activeIndex = swiper.activeIndex;\n  var realIndex = swiper.realIndex;\n  var isVirtual = swiper.virtual && params.virtual.enabled;\n\n  slides.removeClass(((params.slideActiveClass) + \" \" + (params.slideNextClass) + \" \" + (params.slidePrevClass) + \" \" + (params.slideDuplicateActiveClass) + \" \" + (params.slideDuplicateNextClass) + \" \" + (params.slideDuplicatePrevClass)));\n\n  var activeSlide;\n  if (isVirtual) {\n    activeSlide = swiper.$wrapperEl.find((\".\" + (params.slideClass) + \"[data-swiper-slide-index=\\\"\" + activeIndex + \"\\\"]\"));\n  } else {\n    activeSlide = slides.eq(activeIndex);\n  }\n\n  // Active classes\n  activeSlide.addClass(params.slideActiveClass);\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (activeSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl\n        .children((\".\" + (params.slideClass) + \":not(.\" + (params.slideDuplicateClass) + \")[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]\"))\n        .addClass(params.slideDuplicateActiveClass);\n    } else {\n      $wrapperEl\n        .children((\".\" + (params.slideClass) + \".\" + (params.slideDuplicateClass) + \"[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]\"))\n        .addClass(params.slideDuplicateActiveClass);\n    }\n  }\n  // Next Slide\n  var nextSlide = activeSlide.nextAll((\".\" + (params.slideClass))).eq(0).addClass(params.slideNextClass);\n  if (params.loop && nextSlide.length === 0) {\n    nextSlide = slides.eq(0);\n    nextSlide.addClass(params.slideNextClass);\n  }\n  // Prev Slide\n  var prevSlide = activeSlide.prevAll((\".\" + (params.slideClass))).eq(0).addClass(params.slidePrevClass);\n  if (params.loop && prevSlide.length === 0) {\n    prevSlide = slides.eq(-1);\n    prevSlide.addClass(params.slidePrevClass);\n  }\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (nextSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl\n        .children((\".\" + (params.slideClass) + \":not(.\" + (params.slideDuplicateClass) + \")[data-swiper-slide-index=\\\"\" + (nextSlide.attr('data-swiper-slide-index')) + \"\\\"]\"))\n        .addClass(params.slideDuplicateNextClass);\n    } else {\n      $wrapperEl\n        .children((\".\" + (params.slideClass) + \".\" + (params.slideDuplicateClass) + \"[data-swiper-slide-index=\\\"\" + (nextSlide.attr('data-swiper-slide-index')) + \"\\\"]\"))\n        .addClass(params.slideDuplicateNextClass);\n    }\n    if (prevSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl\n        .children((\".\" + (params.slideClass) + \":not(.\" + (params.slideDuplicateClass) + \")[data-swiper-slide-index=\\\"\" + (prevSlide.attr('data-swiper-slide-index')) + \"\\\"]\"))\n        .addClass(params.slideDuplicatePrevClass);\n    } else {\n      $wrapperEl\n        .children((\".\" + (params.slideClass) + \".\" + (params.slideDuplicateClass) + \"[data-swiper-slide-index=\\\"\" + (prevSlide.attr('data-swiper-slide-index')) + \"\\\"]\"))\n        .addClass(params.slideDuplicatePrevClass);\n    }\n  }\n};\n\nvar updateActiveIndex = function (newActiveIndex) {\n  var swiper = this;\n  var translate = swiper.rtl ? swiper.translate : -swiper.translate;\n  var slidesGrid = swiper.slidesGrid;\n  var snapGrid = swiper.snapGrid;\n  var params = swiper.params;\n  var previousIndex = swiper.activeIndex;\n  var previousRealIndex = swiper.realIndex;\n  var previousSnapIndex = swiper.snapIndex;\n  var activeIndex = newActiveIndex;\n  var snapIndex;\n  if (typeof activeIndex === 'undefined') {\n    for (var i = 0; i < slidesGrid.length; i += 1) {\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - ((slidesGrid[i + 1] - slidesGrid[i]) / 2)) {\n          activeIndex = i;\n        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n          activeIndex = i + 1;\n        }\n      } else if (translate >= slidesGrid[i]) {\n        activeIndex = i;\n      }\n    }\n    // Normalize slideIndex\n    if (params.normalizeSlideIndex) {\n      if (activeIndex < 0 || typeof activeIndex === 'undefined') { activeIndex = 0; }\n    }\n  }\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    snapIndex = Math.floor(activeIndex / params.slidesPerGroup);\n  }\n  if (snapIndex >= snapGrid.length) { snapIndex = snapGrid.length - 1; }\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n    return;\n  }\n\n  // Get real index\n  var realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n\n  Utils.extend(swiper, {\n    snapIndex: snapIndex,\n    realIndex: realIndex,\n    previousIndex: previousIndex,\n    activeIndex: activeIndex,\n  });\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n  swiper.emit('slideChange');\n};\n\nvar updateClickedSlide = function (e) {\n  var swiper = this;\n  var params = swiper.params;\n  var slide = $$1(e.target).closest((\".\" + (params.slideClass)))[0];\n  var slideFound = false;\n  if (slide) {\n    for (var i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) { slideFound = true; }\n    }\n  }\n\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt($$1(slide).attr('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = $$1(slide).index();\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n};\n\nvar update = {\n  updateSize: updateSize,\n  updateSlides: updateSlides,\n  updateAutoHeight: updateAutoHeight,\n  updateSlidesOffset: updateSlidesOffset,\n  updateSlidesProgress: updateSlidesProgress,\n  updateProgress: updateProgress,\n  updateSlidesClasses: updateSlidesClasses,\n  updateActiveIndex: updateActiveIndex,\n  updateClickedSlide: updateClickedSlide,\n};\n\nvar getTranslate = function (axis) {\n  if ( axis === void 0 ) axis = this.isHorizontal() ? 'x' : 'y';\n\n  var swiper = this;\n\n  var params = swiper.params;\n  var rtl = swiper.rtl;\n  var translate = swiper.translate;\n  var $wrapperEl = swiper.$wrapperEl;\n\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n\n  var currentTranslate = Utils.getTranslate($wrapperEl[0], axis);\n  if (rtl) { currentTranslate = -currentTranslate; }\n\n  return currentTranslate || 0;\n};\n\nvar setTranslate = function (translate, byController) {\n  var swiper = this;\n  var rtl = swiper.rtl;\n  var params = swiper.params;\n  var $wrapperEl = swiper.$wrapperEl;\n  var progress = swiper.progress;\n  var x = 0;\n  var y = 0;\n  var z = 0;\n\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n\n  if (!params.virtualTranslate) {\n    if (Support.transforms3d) { $wrapperEl.transform((\"translate3d(\" + x + \"px, \" + y + \"px, \" + z + \"px)\")); }\n    else { $wrapperEl.transform((\"translate(\" + x + \"px, \" + y + \"px)\")); }\n  }\n\n  swiper.translate = swiper.isHorizontal() ? x : y;\n\n  // Check if we need to update progress\n  var newProgress;\n  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / (translatesDiff);\n  }\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, byController);\n};\n\nvar minTranslate = function () {\n  return (-this.snapGrid[0]);\n};\n\nvar maxTranslate = function () {\n  return (-this.snapGrid[this.snapGrid.length - 1]);\n};\n\nvar translate = {\n  getTranslate: getTranslate,\n  setTranslate: setTranslate,\n  minTranslate: minTranslate,\n  maxTranslate: maxTranslate,\n};\n\nvar setTransition = function (duration, byController) {\n  var swiper = this;\n\n  swiper.$wrapperEl.transition(duration);\n\n  swiper.emit('setTransition', duration, byController);\n};\n\nvar transitionStart = function (runCallbacks) {\n  if ( runCallbacks === void 0 ) runCallbacks = true;\n\n  var swiper = this;\n  var activeIndex = swiper.activeIndex;\n  var params = swiper.params;\n  var previousIndex = swiper.previousIndex;\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n  swiper.emit('transitionStart');\n\n  if (!runCallbacks) { return; }\n  if (activeIndex !== previousIndex) {\n    swiper.emit('slideChangeTransitionStart');\n    if (activeIndex > previousIndex) {\n      swiper.emit('slideNextTransitionStart');\n    } else {\n      swiper.emit('slidePrevTransitionStart');\n    }\n  }\n};\n\nvar transitionEnd$1 = function (runCallbacks) {\n  if ( runCallbacks === void 0 ) runCallbacks = true;\n\n  var swiper = this;\n  var activeIndex = swiper.activeIndex;\n  var previousIndex = swiper.previousIndex;\n  swiper.animating = false;\n  swiper.setTransition(0);\n\n  swiper.emit('transitionEnd');\n  if (runCallbacks) {\n    if (activeIndex !== previousIndex) {\n      swiper.emit('slideChangeTransitionEnd');\n      if (activeIndex > previousIndex) {\n        swiper.emit('slideNextTransitionEnd');\n      } else {\n        swiper.emit('slidePrevTransitionEnd');\n      }\n    }\n  }\n};\n\nvar transition$1 = {\n  setTransition: setTransition,\n  transitionStart: transitionStart,\n  transitionEnd: transitionEnd$1,\n};\n\nvar slideTo = function (index, speed, runCallbacks, internal) {\n  if ( index === void 0 ) index = 0;\n  if ( speed === void 0 ) speed = this.params.speed;\n  if ( runCallbacks === void 0 ) runCallbacks = true;\n\n  var swiper = this;\n  var slideIndex = index;\n  if (slideIndex < 0) { slideIndex = 0; }\n\n  var params = swiper.params;\n  var snapGrid = swiper.snapGrid;\n  var slidesGrid = swiper.slidesGrid;\n  var previousIndex = swiper.previousIndex;\n  var activeIndex = swiper.activeIndex;\n  var rtl = swiper.rtl;\n  var $wrapperEl = swiper.$wrapperEl;\n\n  var snapIndex = Math.floor(slideIndex / params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) { snapIndex = snapGrid.length - 1; }\n\n  if ((activeIndex || params.initialSlide || 0) === (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  }\n\n  var translate = -snapGrid[snapIndex];\n\n  // Update progress\n  swiper.updateProgress(translate);\n\n  // Normalize slideIndex\n  if (params.normalizeSlideIndex) {\n    for (var i = 0; i < slidesGrid.length; i += 1) {\n      if (-Math.floor(translate * 100) >= Math.floor(slidesGrid[i] * 100)) {\n        slideIndex = i;\n      }\n    }\n  }\n\n  // Directions locks\n  if (swiper.initialized) {\n    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n      return false;\n    }\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) { return false; }\n    }\n  }\n\n  // Update Index\n  if ((rtl && -translate === swiper.translate) || (!rtl && translate === swiper.translate)) {\n    swiper.updateActiveIndex(slideIndex);\n    // Update Height\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n    swiper.updateSlidesClasses();\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n    return false;\n  }\n\n  if (speed === 0 || !Support.transition) {\n    swiper.setTransition(0);\n    swiper.setTranslate(translate);\n    swiper.updateActiveIndex(slideIndex);\n    swiper.updateSlidesClasses();\n    swiper.emit('beforeTransitionStart', speed, internal);\n    swiper.transitionStart(runCallbacks);\n    swiper.transitionEnd(runCallbacks);\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(translate);\n    swiper.updateActiveIndex(slideIndex);\n    swiper.updateSlidesClasses();\n    swiper.emit('beforeTransitionStart', speed, internal);\n    swiper.transitionStart(runCallbacks);\n    if (!swiper.animating) {\n      swiper.animating = true;\n      $wrapperEl.transitionEnd(function () {\n        if (!swiper || swiper.destroyed) { return; }\n        swiper.transitionEnd(runCallbacks);\n      });\n    }\n  }\n\n  return true;\n};\n\n/* eslint no-unused-vars: \"off\" */\nvar slideNext = function (speed, runCallbacks, internal) {\n  if ( speed === void 0 ) speed = this.params.speed;\n  if ( runCallbacks === void 0 ) runCallbacks = true;\n\n  var swiper = this;\n  var params = swiper.params;\n  var animating = swiper.animating;\n  if (params.loop) {\n    if (animating) { return false; }\n    swiper.loopFix();\n    // eslint-disable-next-line\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n    return swiper.slideTo(swiper.activeIndex + params.slidesPerGroup, speed, runCallbacks, internal);\n  }\n  return swiper.slideTo(swiper.activeIndex + params.slidesPerGroup, speed, runCallbacks, internal);\n};\n\n/* eslint no-unused-vars: \"off\" */\nvar slidePrev = function (speed, runCallbacks, internal) {\n  if ( speed === void 0 ) speed = this.params.speed;\n  if ( runCallbacks === void 0 ) runCallbacks = true;\n\n  var swiper = this;\n  var params = swiper.params;\n  var animating = swiper.animating;\n\n  if (params.loop) {\n    if (animating) { return false; }\n    swiper.loopFix();\n    // eslint-disable-next-line\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n    return swiper.slideTo(swiper.activeIndex - 1, speed, runCallbacks, internal);\n  }\n  return swiper.slideTo(swiper.activeIndex - 1, speed, runCallbacks, internal);\n};\n\n/* eslint no-unused-vars: \"off\" */\nvar slideReset = function (speed, runCallbacks, internal) {\n  if ( speed === void 0 ) speed = this.params.speed;\n  if ( runCallbacks === void 0 ) runCallbacks = true;\n\n  var swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n};\n\nvar slideToClickedSlide = function () {\n  var swiper = this;\n  var params = swiper.params;\n  var $wrapperEl = swiper.$wrapperEl;\n\n  var slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  var slideToIndex = swiper.clickedIndex;\n  var realIndex;\n  if (params.loop) {\n    if (swiper.animating) { return; }\n    realIndex = parseInt($$1(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n    if (params.centeredSlides) {\n      if (\n        (slideToIndex < swiper.loopedSlides - (slidesPerView / 2)) ||\n        (slideToIndex > (swiper.slides.length - swiper.loopedSlides) + (slidesPerView / 2))\n      ) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl\n          .children((\".\" + (params.slideClass) + \"[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]:not(.\" + (params.slideDuplicateClass) + \")\"))\n          .eq(0)\n          .index();\n\n        Utils.nextTick(function () {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = $wrapperEl\n        .children((\".\" + (params.slideClass) + \"[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]:not(.\" + (params.slideDuplicateClass) + \")\"))\n        .eq(0)\n        .index();\n\n      Utils.nextTick(function () {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n};\n\nvar slide = {\n  slideTo: slideTo,\n  slideNext: slideNext,\n  slidePrev: slidePrev,\n  slideReset: slideReset,\n  slideToClickedSlide: slideToClickedSlide,\n};\n\nvar loopCreate = function () {\n  var swiper = this;\n  var params = swiper.params;\n  var $wrapperEl = swiper.$wrapperEl;\n  // Remove duplicated slides\n  $wrapperEl.children((\".\" + (params.slideClass) + \".\" + (params.slideDuplicateClass))).remove();\n\n  var slides = $wrapperEl.children((\".\" + (params.slideClass)));\n\n  if (params.loopFillGroupWithBlank) {\n    var blankSlidesNum = params.slidesPerGroup - (slides.length % params.slidesPerGroup);\n    if (blankSlidesNum !== params.slidesPerGroup) {\n      for (var i = 0; i < blankSlidesNum; i += 1) {\n        var blankNode = $$1(doc.createElement('div')).addClass(((params.slideClass) + \" \" + (params.slideBlankClass)));\n        $wrapperEl.append(blankNode);\n      }\n      slides = $wrapperEl.children((\".\" + (params.slideClass)));\n    }\n  }\n\n  if (params.slidesPerView === 'auto' && !params.loopedSlides) { params.loopedSlides = slides.length; }\n\n  swiper.loopedSlides = parseInt(params.loopedSlides || params.slidesPerView, 10);\n  swiper.loopedSlides += params.loopAdditionalSlides;\n  if (swiper.loopedSlides > slides.length) {\n    swiper.loopedSlides = slides.length;\n  }\n\n  var prependSlides = [];\n  var appendSlides = [];\n  slides.each(function (index, el) {\n    var slide = $$1(el);\n    if (index < swiper.loopedSlides) { appendSlides.push(el); }\n    if (index < slides.length && index >= slides.length - swiper.loopedSlides) { prependSlides.push(el); }\n    slide.attr('data-swiper-slide-index', index);\n  });\n  for (var i$1 = 0; i$1 < appendSlides.length; i$1 += 1) {\n    $wrapperEl.append($$1(appendSlides[i$1].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n  for (var i$2 = prependSlides.length - 1; i$2 >= 0; i$2 -= 1) {\n    $wrapperEl.prepend($$1(prependSlides[i$2].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n};\n\nvar loopFix = function () {\n  var swiper = this;\n  var params = swiper.params;\n  var activeIndex = swiper.activeIndex;\n  var slides = swiper.slides;\n  var loopedSlides = swiper.loopedSlides;\n  var allowSlidePrev = swiper.allowSlidePrev;\n  var allowSlideNext = swiper.allowSlideNext;\n  var newIndex;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  // Fix For Negative Oversliding\n  if (activeIndex < loopedSlides) {\n    newIndex = (slides.length - (loopedSlides * 3)) + activeIndex;\n    newIndex += loopedSlides;\n    swiper.slideTo(newIndex, 0, false, true);\n  } else if ((params.slidesPerView === 'auto' && activeIndex >= loopedSlides * 2) || (activeIndex > slides.length - (params.slidesPerView * 2))) {\n    // Fix For Positive Oversliding\n    newIndex = -slides.length + activeIndex + loopedSlides;\n    newIndex += loopedSlides;\n    swiper.slideTo(newIndex, 0, false, true);\n  }\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n};\n\nvar loopDestroy = function () {\n  var swiper = this;\n  var $wrapperEl = swiper.$wrapperEl;\n  var params = swiper.params;\n  var slides = swiper.slides;\n  $wrapperEl.children((\".\" + (params.slideClass) + \".\" + (params.slideDuplicateClass))).remove();\n  slides.removeAttr('data-swiper-slide-index');\n};\n\nvar loop = {\n  loopCreate: loopCreate,\n  loopFix: loopFix,\n  loopDestroy: loopDestroy,\n};\n\nvar setGrabCursor = function (moving) {\n  var swiper = this;\n  if (Support.touch || !swiper.params.simulateTouch) { return; }\n  var el = swiper.el;\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? '-webkit-grabbing' : '-webkit-grab';\n  el.style.cursor = moving ? '-moz-grabbin' : '-moz-grab';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n};\n\nvar unsetGrabCursor = function () {\n  var swiper = this;\n  if (Support.touch) { return; }\n  swiper.el.style.cursor = '';\n};\n\nvar grabCursor = {\n  setGrabCursor: setGrabCursor,\n  unsetGrabCursor: unsetGrabCursor,\n};\n\nvar appendSlide = function (slides) {\n  var swiper = this;\n  var $wrapperEl = swiper.$wrapperEl;\n  var params = swiper.params;\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (var i = 0; i < slides.length; i += 1) {\n      if (slides[i]) { $wrapperEl.append(slides[i]); }\n    }\n  } else {\n    $wrapperEl.append(slides);\n  }\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n  if (!(params.observer && Support.observer)) {\n    swiper.update();\n  }\n};\n\nvar prependSlide = function (slides) {\n  var swiper = this;\n  var params = swiper.params;\n  var $wrapperEl = swiper.$wrapperEl;\n  var activeIndex = swiper.activeIndex;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n  var newActiveIndex = activeIndex + 1;\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (var i = 0; i < slides.length; i += 1) {\n      if (slides[i]) { $wrapperEl.prepend(slides[i]); }\n    }\n    newActiveIndex = activeIndex + slides.length;\n  } else {\n    $wrapperEl.prepend(slides);\n  }\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n  if (!(params.observer && Support.observer)) {\n    swiper.update();\n  }\n  swiper.slideTo(newActiveIndex, 0, false);\n};\n\nvar removeSlide = function (slidesIndexes) {\n  var swiper = this;\n  var params = swiper.params;\n  var $wrapperEl = swiper.$wrapperEl;\n  var activeIndex = swiper.activeIndex;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children((\".\" + (params.slideClass)));\n  }\n  var newActiveIndex = activeIndex;\n  var indexToRemove;\n\n  if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {\n    for (var i = 0; i < slidesIndexes.length; i += 1) {\n      indexToRemove = slidesIndexes[i];\n      if (swiper.slides[indexToRemove]) { swiper.slides.eq(indexToRemove).remove(); }\n      if (indexToRemove < newActiveIndex) { newActiveIndex -= 1; }\n    }\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  } else {\n    indexToRemove = slidesIndexes;\n    if (swiper.slides[indexToRemove]) { swiper.slides.eq(indexToRemove).remove(); }\n    if (indexToRemove < newActiveIndex) { newActiveIndex -= 1; }\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && Support.observer)) {\n    swiper.update();\n  }\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n};\n\nvar removeAllSlides = function () {\n  var swiper = this;\n\n  var slidesIndexes = [];\n  for (var i = 0; i < swiper.slides.length; i += 1) {\n    slidesIndexes.push(i);\n  }\n  swiper.removeSlide(slidesIndexes);\n};\n\nvar manipulation = {\n  appendSlide: appendSlide,\n  prependSlide: prependSlide,\n  removeSlide: removeSlide,\n  removeAllSlides: removeAllSlides,\n};\n\nvar Device = (function Device() {\n  var ua = win.navigator.userAgent;\n\n  var device = {\n    ios: false,\n    android: false,\n    androidChrome: false,\n    desktop: false,\n    windows: false,\n    iphone: false,\n    ipod: false,\n    ipad: false,\n    cordova: win.cordova || win.phonegap,\n    phonegap: win.cordova || win.phonegap,\n  };\n\n  var windows = ua.match(/(Windows Phone);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n  var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n  var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  var iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n\n\n  // Windows\n  if (windows) {\n    device.os = 'windows';\n    device.osVersion = windows[2];\n    device.windows = true;\n  }\n  // Android\n  if (android && !windows) {\n    device.os = 'android';\n    device.osVersion = android[2];\n    device.android = true;\n    device.androidChrome = ua.toLowerCase().indexOf('chrome') >= 0;\n  }\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  }\n  // iOS\n  if (iphone && !ipod) {\n    device.osVersion = iphone[2].replace(/_/g, '.');\n    device.iphone = true;\n  }\n  if (ipad) {\n    device.osVersion = ipad[2].replace(/_/g, '.');\n    device.ipad = true;\n  }\n  if (ipod) {\n    device.osVersion = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\n    device.iphone = true;\n  }\n  // iOS 8+ changed UA\n  if (device.ios && device.osVersion && ua.indexOf('Version/') >= 0) {\n    if (device.osVersion.split('.')[0] === '10') {\n      device.osVersion = ua.toLowerCase().split('version/')[1].split(' ')[0];\n    }\n  }\n\n  // Desktop\n  device.desktop = !(device.os || device.android || device.webView);\n\n  // Webview\n  device.webView = (iphone || ipad || ipod) && ua.match(/.*AppleWebKit(?!.*Safari)/i);\n\n  // Minimal UI\n  if (device.os && device.os === 'ios') {\n    var osVersionArr = device.osVersion.split('.');\n    var metaViewport = doc.querySelector('meta[name=\"viewport\"]');\n    device.minimalUi =\n      !device.webView &&\n      (ipod || iphone) &&\n      (osVersionArr[0] * 1 === 7 ? osVersionArr[1] * 1 >= 1 : osVersionArr[0] * 1 > 7) &&\n      metaViewport && metaViewport.getAttribute('content').indexOf('minimal-ui') >= 0;\n  }\n\n  // Pixel Ratio\n  device.pixelRatio = win.devicePixelRatio || 1;\n\n  // Export object\n  return device;\n}());\n\nvar onTouchStart = function (event) {\n  var swiper = this;\n  var data = swiper.touchEventsData;\n  var params = swiper.params;\n  var touches = swiper.touches;\n  var e = event;\n  if (e.originalEvent) { e = e.originalEvent; }\n  data.isTouchEvent = e.type === 'touchstart';\n  if (!data.isTouchEvent && 'which' in e && e.which === 3) { return; }\n  if (data.isTouched && data.isMoved) { return; }\n  if (params.noSwiping && $$1(e.target).closest((\".\" + (params.noSwipingClass)))[0]) {\n    swiper.allowClick = true;\n    return;\n  }\n  if (params.swipeHandler) {\n    if (!$$1(e).closest(params.swipeHandler)[0]) { return; }\n  }\n\n  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  var startX = touches.currentX;\n  var startY = touches.currentY;\n\n  // Do NOT start if iOS edge swipe is detected. Otherwise iOS app (UIWebView) cannot swipe-to-go-back anymore\n\n  if (\n    Device.ios &&\n    !Device.cordova &&\n    params.iOSEdgeSwipeDetection &&\n    (startX <= params.iOSEdgeSwipeThreshold) &&\n    (startX >= window.screen.width - params.iOSEdgeSwipeThreshold)\n  ) {\n    return;\n  }\n\n  Utils.extend(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined,\n  });\n\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = Utils.now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) { data.allowThresholdMove = false; }\n  if (e.type !== 'touchstart') {\n    var preventDefault = true;\n    if ($$1(e.target).is(data.formElements)) { preventDefault = false; }\n    if (doc.activeElement && $$1(doc.activeElement).is(data.formElements)) {\n      doc.activeElement.blur();\n    }\n    if (preventDefault && swiper.allowTouchMove) {\n      e.preventDefault();\n    }\n  }\n  swiper.emit('touchStart', e);\n};\n\nvar onTouchMove = function (event) {\n  var swiper = this;\n  var data = swiper.touchEventsData;\n  var params = swiper.params;\n  var touches = swiper.touches;\n  var rtl = swiper.rtl;\n  var e = event;\n  if (e.originalEvent) { e = e.originalEvent; }\n  if (data.isTouchEvent && e.type === 'mousemove') { return; }\n  var pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n  var pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n  if (!swiper.allowTouchMove) {\n    // isMoved = true;\n    swiper.allowClick = false;\n    if (data.isTouched) {\n      Utils.extend(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY,\n      });\n      data.touchStartTime = Utils.now();\n    }\n    return;\n  }\n  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (\n        (pageY < touches.startY && swiper.translate <= swiper.maxTranslate()) ||\n        (pageY > touches.startY && swiper.translate >= swiper.minTranslate())\n      ) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (\n      (pageX < touches.startX && swiper.translate <= swiper.maxTranslate()) ||\n      (pageX > touches.startX && swiper.translate >= swiper.minTranslate())\n    ) {\n      return;\n    }\n  }\n  if (data.isTouchEvent && doc.activeElement) {\n    if (e.target === doc.activeElement && $$1(e.target).is(data.formElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n  if (e.targetTouches && e.targetTouches.length > 1) { return; }\n\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n\n  var diffX = touches.currentX - touches.startX;\n  var diffY = touches.currentY - touches.startY;\n\n  if (typeof data.isScrolling === 'undefined') {\n    var touchAngle;\n    if ((swiper.isHorizontal() && touches.currentY === touches.startY) || (swiper.isVertical() && touches.currentX === touches.startX)) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if ((diffX * diffX) + (diffY * diffY) >= 25) {\n        touchAngle = (Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180) / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : (90 - touchAngle > params.touchAngle);\n      }\n    }\n  }\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n  if (typeof startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n  if (!data.isTouched) { return; }\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n  if (!data.startMoving) {\n    return;\n  }\n  swiper.allowClick = false;\n  e.preventDefault();\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data.isMoved) {\n    if (params.loop) {\n      swiper.loopFix();\n    }\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n    data.allowMomentumBounce = false;\n    // Grab Cursor\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n    swiper.emit('sliderFirstMove', e);\n  }\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n\n  var diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n\n  diff *= params.touchRatio;\n  if (rtl) { diff = -diff; }\n\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data.currentTranslate = diff + data.startTranslate;\n\n  var disableParentSwiper = true;\n  var resistanceRatio = params.resistanceRatio;\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n  if ((diff > 0 && data.currentTranslate > swiper.minTranslate())) {\n    disableParentSwiper = false;\n    if (params.resistance) { data.currentTranslate = (swiper.minTranslate() - 1) + (Math.pow( (-swiper.minTranslate() + data.startTranslate + diff), resistanceRatio )); }\n  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) { data.currentTranslate = (swiper.maxTranslate() + 1) - (Math.pow( (swiper.maxTranslate() - data.startTranslate - diff), resistanceRatio )); }\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  }\n\n  // Directions locks\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n\n  // Threshold\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger) { return; }\n\n  // Update active index in free mode\n  if (params.freeMode || params.watchSlidesProgress || params.watchSlidesVisibility) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n  if (params.freeMode) {\n    // Velocity\n    if (data.velocities.length === 0) {\n      data.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n        time: data.touchStartTime,\n      });\n    }\n    data.velocities.push({\n      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n      time: Utils.now(),\n    });\n  }\n  // Update progress\n  swiper.updateProgress(data.currentTranslate);\n  // Update translate\n  swiper.setTranslate(data.currentTranslate);\n};\n\nvar onTouchEnd = function (event) {\n  var swiper = this;\n  var data = swiper.touchEventsData;\n\n  var params = swiper.params;\n  var touches = swiper.touches;\n  var rtl = swiper.rtl;\n  var $wrapperEl = swiper.$wrapperEl;\n  var slidesGrid = swiper.slidesGrid;\n  var snapGrid = swiper.snapGrid;\n  var e = event;\n  if (e.originalEvent) { e = e.originalEvent; }\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n  data.allowTouchCallbacks = false;\n  if (!data.isTouched) { return; }\n  // Return Grab Cursor\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  }\n\n  // Time diff\n  var touchEndTime = Utils.now();\n  var timeDiff = touchEndTime - data.touchStartTime;\n\n  // Tap, doubleTap, Click\n  if (swiper.allowClick) {\n    swiper.updateClickedSlide(e);\n    swiper.emit('tap', e);\n    if (timeDiff < 300 && (touchEndTime - data.lastClickTime) > 300) {\n      if (data.clickTimeout) { clearTimeout(data.clickTimeout); }\n      data.clickTimeout = Utils.nextTick(function () {\n        if (!swiper || swiper.destroyed) { return; }\n        swiper.emit('click', e);\n      }, 300);\n    }\n    if (timeDiff < 300 && (touchEndTime - data.lastClickTime) < 300) {\n      if (data.clickTimeout) { clearTimeout(data.clickTimeout); }\n      swiper.emit('doubleTap', e);\n    }\n  }\n\n  data.lastClickTime = Utils.now();\n  Utils.nextTick(function () {\n    if (!swiper.destroyed) { swiper.allowClick = true; }\n  });\n\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n    data.isTouched = false;\n    data.isMoved = false;\n    return;\n  }\n  data.isTouched = false;\n  data.isMoved = false;\n\n  var currentPos;\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n  if (params.freeMode) {\n    if (currentPos < -swiper.minTranslate()) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    } else if (currentPos > -swiper.maxTranslate()) {\n      if (swiper.slides.length < snapGrid.length) {\n        swiper.slideTo(snapGrid.length - 1);\n      } else {\n        swiper.slideTo(swiper.slides.length - 1);\n      }\n      return;\n    }\n\n    if (params.freeModeMomentum) {\n      if (data.velocities.length > 1) {\n        var lastMoveEvent = data.velocities.pop();\n        var velocityEvent = data.velocities.pop();\n\n        var distance = lastMoveEvent.position - velocityEvent.position;\n        var time = lastMoveEvent.time - velocityEvent.time;\n        swiper.velocity = distance / time;\n        swiper.velocity /= 2;\n        if (Math.abs(swiper.velocity) < params.freeModeMinimumVelocity) {\n          swiper.velocity = 0;\n        }\n        // this implies that the user stopped moving a finger then released.\n        // There would be no events with distance zero, so the last event is stale.\n        if (time > 150 || (Utils.now() - lastMoveEvent.time) > 300) {\n          swiper.velocity = 0;\n        }\n      } else {\n        swiper.velocity = 0;\n      }\n      swiper.velocity *= params.freeModeMomentumVelocityRatio;\n\n      data.velocities.length = 0;\n      var momentumDuration = 1000 * params.freeModeMomentumRatio;\n      var momentumDistance = swiper.velocity * momentumDuration;\n\n      var newPosition = swiper.translate + momentumDistance;\n      if (rtl) { newPosition = -newPosition; }\n      var doBounce = false;\n      var afterBouncePosition;\n      var bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeModeMomentumBounceRatio;\n      if (newPosition < swiper.maxTranslate()) {\n        if (params.freeModeMomentumBounce) {\n          if (newPosition + swiper.maxTranslate() < -bounceAmount) {\n            newPosition = swiper.maxTranslate() - bounceAmount;\n          }\n          afterBouncePosition = swiper.maxTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.maxTranslate();\n        }\n      } else if (newPosition > swiper.minTranslate()) {\n        if (params.freeModeMomentumBounce) {\n          if (newPosition - swiper.minTranslate() > bounceAmount) {\n            newPosition = swiper.minTranslate() + bounceAmount;\n          }\n          afterBouncePosition = swiper.minTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.minTranslate();\n        }\n      } else if (params.freeModeSticky) {\n        var nextSlide;\n        for (var j = 0; j < snapGrid.length; j += 1) {\n          if (snapGrid[j] > -newPosition) {\n            nextSlide = j;\n            break;\n          }\n        }\n        if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {\n          newPosition = snapGrid[nextSlide];\n        } else {\n          newPosition = snapGrid[nextSlide - 1];\n        }\n        newPosition = -newPosition;\n      }\n      // Fix duration\n      if (swiper.velocity !== 0) {\n        if (rtl) {\n          momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);\n        } else {\n          momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);\n        }\n      } else if (params.freeModeSticky) {\n        swiper.slideReset();\n        return;\n      }\n\n      if (params.freeModeMomentumBounce && doBounce) {\n        swiper.updateProgress(afterBouncePosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart();\n        swiper.animating = true;\n        $wrapperEl.transitionEnd(function () {\n          if (!swiper || swiper.destroyed || !data.allowMomentumBounce) { return; }\n          swiper.emit('momentumBounce');\n\n          swiper.setTransition(params.speed);\n          swiper.setTranslate(afterBouncePosition);\n          $wrapperEl.transitionEnd(function () {\n            if (!swiper || swiper.destroyed) { return; }\n            swiper.transitionEnd();\n          });\n        });\n      } else if (swiper.velocity) {\n        swiper.updateProgress(newPosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart();\n        if (!swiper.animating) {\n          swiper.animating = true;\n          $wrapperEl.transitionEnd(function () {\n            if (!swiper || swiper.destroyed) { return; }\n            swiper.transitionEnd();\n          });\n        }\n      } else {\n        swiper.updateProgress(newPosition);\n      }\n\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n    if (!params.freeModeMomentum || timeDiff >= params.longSwipesMs) {\n      swiper.updateProgress();\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n    return;\n  }\n\n  // Find current slide\n  var stopIndex = 0;\n  var groupSize = swiper.slidesSizesGrid[0];\n  for (var i = 0; i < slidesGrid.length; i += params.slidesPerGroup) {\n    if (typeof slidesGrid[i + params.slidesPerGroup] !== 'undefined') {\n      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + params.slidesPerGroup]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + params.slidesPerGroup] - slidesGrid[i];\n      }\n    } else if (currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  }\n\n  // Find current slide size\n  var ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) { swiper.slideTo(stopIndex + params.slidesPerGroup); }\n      else { swiper.slideTo(stopIndex); }\n    }\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > (1 - params.longSwipesRatio)) { swiper.slideTo(stopIndex + params.slidesPerGroup); }\n      else { swiper.slideTo(stopIndex); }\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n    if (swiper.swipeDirection === 'next') {\n      swiper.slideTo(stopIndex + params.slidesPerGroup);\n    }\n    if (swiper.swipeDirection === 'prev') {\n      swiper.slideTo(stopIndex);\n    }\n  }\n};\n\nvar onResize = function () {\n  var swiper = this;\n\n  var params = swiper.params;\n  var el = swiper.el;\n\n  if (el && el.offsetWidth === 0) { return; }\n\n  // Breakpoints\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  }\n\n  // Save locks\n  var allowSlideNext = swiper.allowSlideNext;\n  var allowSlidePrev = swiper.allowSlidePrev;\n\n  // Disable locks on resize\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n\n  swiper.updateSize();\n  swiper.updateSlides();\n\n  if (params.freeMode) {\n    var newTranslate = Math.min(Math.max(swiper.translate, swiper.maxTranslate()), swiper.minTranslate());\n    swiper.setTranslate(newTranslate);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n  } else {\n    swiper.updateSlidesClasses();\n    if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n      swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n    } else {\n      swiper.slideTo(swiper.activeIndex, 0, false, true);\n    }\n  }\n  // Return locks after resize\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n};\n\nvar onClick = function (e) {\n  var swiper = this;\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) { e.preventDefault(); }\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n};\n\nfunction attachEvents() {\n  var swiper = this;\n\n  var params = swiper.params;\n  var touchEvents = swiper.touchEvents;\n  var el = swiper.el;\n  var wrapperEl = swiper.wrapperEl;\n\n  {\n    swiper.onTouchStart = onTouchStart.bind(swiper);\n    swiper.onTouchMove = onTouchMove.bind(swiper);\n    swiper.onTouchEnd = onTouchEnd.bind(swiper);\n  }\n\n  swiper.onClick = onClick.bind(swiper);\n\n  var target = params.touchEventsTarget === 'container' ? el : wrapperEl;\n  var capture = !!params.nested;\n\n  // Touch Events\n  {\n    if (Support.pointerEvents || Support.prefixedPointerEvents) {\n      target.addEventListener(touchEvents.start, swiper.onTouchStart, false);\n      (Support.touch ? target : doc).addEventListener(touchEvents.move, swiper.onTouchMove, capture);\n      (Support.touch ? target : doc).addEventListener(touchEvents.end, swiper.onTouchEnd, false);\n    } else {\n      if (Support.touch) {\n        var passiveListener = touchEvents.start === 'touchstart' && Support.passiveListener && params.passiveListeners ? { passive: true, capture: false } : false;\n        target.addEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);\n        target.addEventListener(touchEvents.move, swiper.onTouchMove, Support.passiveListener ? { passive: false, capture: capture } : capture);\n        target.addEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);\n      }\n      if ((params.simulateTouch && !Device.ios && !Device.android) || (params.simulateTouch && !Support.touch && Device.ios)) {\n        target.addEventListener('mousedown', swiper.onTouchStart, false);\n        doc.addEventListener('mousemove', swiper.onTouchMove, capture);\n        doc.addEventListener('mouseup', swiper.onTouchEnd, false);\n      }\n    }\n    // Prevent Links Clicks\n    if (params.preventClicks || params.preventClicksPropagation) {\n      target.addEventListener('click', swiper.onClick, true);\n    }\n  }\n\n  // Resize handler\n  swiper.on('resize observerUpdate', onResize);\n}\n\nfunction detachEvents() {\n  var swiper = this;\n\n  var params = swiper.params;\n  var touchEvents = swiper.touchEvents;\n  var el = swiper.el;\n  var wrapperEl = swiper.wrapperEl;\n\n  var target = params.touchEventsTarget === 'container' ? el : wrapperEl;\n  var capture = !!params.nested;\n\n  // Touch Events\n  {\n    if (Support.pointerEvents || Support.prefixedPointerEvents) {\n      target.removeEventListener(touchEvents.start, swiper.onTouchStart, false);\n      (Support.touch ? target : doc).removeEventListener(touchEvents.move, swiper.onTouchMove, capture);\n      (Support.touch ? target : doc).removeEventListener(touchEvents.end, swiper.onTouchEnd, false);\n    } else {\n      if (Support.touch) {\n        var passiveListener = touchEvents.start === 'onTouchStart' && Support.passiveListener && params.passiveListeners ? { passive: true, capture: false } : false;\n        target.removeEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);\n        target.removeEventListener(touchEvents.move, swiper.onTouchMove, capture);\n        target.removeEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);\n      }\n      if ((params.simulateTouch && !Device.ios && !Device.android) || (params.simulateTouch && !Support.touch && Device.ios)) {\n        target.removeEventListener('mousedown', swiper.onTouchStart, false);\n        doc.removeEventListener('mousemove', swiper.onTouchMove, capture);\n        doc.removeEventListener('mouseup', swiper.onTouchEnd, false);\n      }\n    }\n    // Prevent Links Clicks\n    if (params.preventClicks || params.preventClicksPropagation) {\n      target.removeEventListener('click', swiper.onClick, true);\n    }\n  }\n\n  // Resize handler\n  swiper.off('resize observerUpdate', onResize);\n}\n\nvar events = {\n  attachEvents: attachEvents,\n  detachEvents: detachEvents,\n};\n\nvar setBreakpoint = function () {\n  var swiper = this;\n  var activeIndex = swiper.activeIndex;\n  var loopedSlides = swiper.loopedSlides; if ( loopedSlides === void 0 ) loopedSlides = 0;\n  var params = swiper.params;\n  var breakpoints = params.breakpoints;\n  if (!breakpoints || (breakpoints && Object.keys(breakpoints).length === 0)) { return; }\n  // Set breakpoint for window width and update parameters\n  var breakpoint = swiper.getBreakpoint(breakpoints);\n  if (breakpoint && swiper.currentBreakpoint !== breakpoint) {\n    var breakPointsParams = breakpoint in breakpoints ? breakpoints[breakpoint] : swiper.originalParams;\n    var needsReLoop = params.loop && (breakPointsParams.slidesPerView !== params.slidesPerView);\n\n    Utils.extend(swiper.params, breakPointsParams);\n\n    Utils.extend(swiper, {\n      allowTouchMove: swiper.params.allowTouchMove,\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n    });\n\n    swiper.currentBreakpoint = breakpoint;\n\n    if (needsReLoop) {\n      swiper.loopDestroy();\n      swiper.loopCreate();\n      swiper.updateSlides();\n      swiper.slideTo((activeIndex - loopedSlides) + swiper.loopedSlides, 0, false);\n    }\n    swiper.emit('breakpoint', breakPointsParams);\n  }\n};\n\nvar getBreakpoint = function (breakpoints) {\n  // Get breakpoint for window width\n  if (!breakpoints) { return undefined; }\n  var breakpoint = false;\n  var points = [];\n  Object.keys(breakpoints).forEach(function (point) {\n    points.push(point);\n  });\n  points.sort(function (a, b) { return parseInt(a, 10) - parseInt(b, 10); });\n  for (var i = 0; i < points.length; i += 1) {\n    var point = points[i];\n    if (point >= win.innerWidth && !breakpoint) {\n      breakpoint = point;\n    }\n  }\n  return breakpoint || 'max';\n};\n\nvar breakpoints = { setBreakpoint: setBreakpoint, getBreakpoint: getBreakpoint };\n\nvar addClasses = function () {\n  var swiper = this;\n  var classNames = swiper.classNames;\n  var params = swiper.params;\n  var rtl = swiper.rtl;\n  var $el = swiper.$el;\n  var suffixes = [];\n\n  suffixes.push(params.direction);\n\n  if (params.freeMode) {\n    suffixes.push('free-mode');\n  }\n  if (!Support.flexbox) {\n    suffixes.push('no-flexbox');\n  }\n  if (params.autoHeight) {\n    suffixes.push('autoheight');\n  }\n  if (rtl) {\n    suffixes.push('rtl');\n  }\n  if (params.slidesPerColumn > 1) {\n    suffixes.push('multirow');\n  }\n  if (Device.android) {\n    suffixes.push('android');\n  }\n  if (Device.ios) {\n    suffixes.push('ios');\n  }\n  // WP8 Touch Events Fix\n  if (Support.pointerEvents || Support.prefixedPointerEvents) {\n    suffixes.push((\"wp8-\" + (params.direction)));\n  }\n\n  suffixes.forEach(function (suffix) {\n    classNames.push(params.containerModifierClass + suffix);\n  });\n\n  $el.addClass(classNames.join(' '));\n};\n\nvar removeClasses = function () {\n  var swiper = this;\n  var $el = swiper.$el;\n  var classNames = swiper.classNames;\n\n  $el.removeClass(classNames.join(' '));\n};\n\nvar classes = { addClasses: addClasses, removeClasses: removeClasses };\n\nvar loadImage = function (imageEl, src, srcset, sizes, checkForComplete, callback) {\n  var image;\n  function onReady() {\n    if (callback) { callback(); }\n  }\n  if (!imageEl.complete || !checkForComplete) {\n    if (src) {\n      image = new win.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n      if (sizes) {\n        image.sizes = sizes;\n      }\n      if (srcset) {\n        image.srcset = srcset;\n      }\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n};\n\nvar preloadImages = function () {\n  var swiper = this;\n  swiper.imagesToLoad = swiper.$el.find('img');\n  function onReady() {\n    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) { return; }\n    if (swiper.imagesLoaded !== undefined) { swiper.imagesLoaded += 1; }\n    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n      if (swiper.params.updateOnImagesReady) { swiper.update(); }\n      swiper.emit('imagesReady');\n    }\n  }\n  for (var i = 0; i < swiper.imagesToLoad.length; i += 1) {\n    var imageEl = swiper.imagesToLoad[i];\n    swiper.loadImage(\n      imageEl,\n      imageEl.currentSrc || imageEl.getAttribute('src'),\n      imageEl.srcset || imageEl.getAttribute('srcset'),\n      imageEl.sizes || imageEl.getAttribute('sizes'),\n      true,\n      onReady\n    );\n  }\n};\n\nvar images = {\n  loadImage: loadImage,\n  preloadImages: preloadImages,\n};\n\nfunction checkOverflow() {\n  var swiper = this;\n  var wasLocked = swiper.isLocked;\n\n  swiper.isLocked = swiper.snapGrid.length === 1;\n  swiper.allowTouchMove = !swiper.isLocked;\n\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n    swiper.navigation.update();\n  }\n}\n\nvar checkOverflow$1 = { checkOverflow: checkOverflow };\n\nvar defaults = {\n  init: true,\n  direction: 'horizontal',\n  touchEventsTarget: 'container',\n  initialSlide: 0,\n  speed: 300,\n\n  // To support iOS's swipe-to-go-back gesture (when being used in-app, with UIWebView).\n  iOSEdgeSwipeDetection: false,\n  iOSEdgeSwipeThreshold: 20,\n\n  // Free mode\n  freeMode: false,\n  freeModeMomentum: true,\n  freeModeMomentumRatio: 1,\n  freeModeMomentumBounce: true,\n  freeModeMomentumBounceRatio: 1,\n  freeModeMomentumVelocityRatio: 1,\n  freeModeSticky: false,\n  freeModeMinimumVelocity: 0.02,\n\n  // Autoheight\n  autoHeight: false,\n\n  // Set wrapper width\n  setWrapperSize: false,\n\n  // Virtual Translate\n  virtualTranslate: false,\n\n  // Effects\n  effect: 'slide', // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n\n  // Breakpoints\n  breakpoints: undefined,\n\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerColumn: 1,\n  slidesPerColumnFill: 'column',\n  slidesPerGroup: 1,\n  centeredSlides: false,\n  slidesOffsetBefore: 0, // in px\n  slidesOffsetAfter: 0, // in px\n  normalizeSlideIndex: true,\n\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: false,\n\n  // Round length\n  roundLengths: false,\n\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 0,\n  touchMoveStopPropagation: true,\n  touchReleaseOnEdges: false,\n\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n\n  // Progress\n  watchSlidesProgress: false,\n  watchSlidesVisibility: false,\n\n  // Cursor\n  grabCursor: false,\n\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n\n  // Images\n  preloadImages: true,\n  updateOnImagesReady: true,\n\n  // loop\n  loop: false,\n  loopAdditionalSlides: 0,\n  loopedSlides: null,\n  loopFillGroupWithBlank: false,\n\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null, // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n\n  // Passive Listeners\n  passiveListeners: true,\n\n  // NS\n  containerModifierClass: 'swiper-container-', // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-invisible-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideDuplicateClass: 'swiper-slide-duplicate',\n  slideNextClass: 'swiper-slide-next',\n  slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n  slidePrevClass: 'swiper-slide-prev',\n  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n  wrapperClass: 'swiper-wrapper',\n\n  // Callbacks\n  runCallbacksOnInit: true,\n};\n\nvar prototypes = {\n  update: update,\n  translate: translate,\n  transition: transition$1,\n  slide: slide,\n  loop: loop,\n  grabCursor: grabCursor,\n  manipulation: manipulation,\n  events: events,\n  breakpoints: breakpoints,\n  checkOverflow: checkOverflow$1,\n  classes: classes,\n  images: images,\n};\n\nvar extendedDefaults = {};\n\nvar Swiper$1 = (function (SwiperClass$$1) {\n  function Swiper() {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    var el;\n    var params;\n    if (args.length === 1 && args[0].constructor && args[0].constructor === Object) {\n      params = args[0];\n    } else {\n      var assign;\n      (assign = args, el = assign[0], params = assign[1]);\n    }\n    if (!params) { params = {}; }\n\n    params = Utils.extend({}, params);\n    if (el && !params.el) { params.el = el; }\n\n    SwiperClass$$1.call(this, params);\n\n    Object.keys(prototypes).forEach(function (prototypeGroup) {\n      Object.keys(prototypes[prototypeGroup]).forEach(function (protoMethod) {\n        if (!Swiper.prototype[protoMethod]) {\n          Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n        }\n      });\n    });\n\n    // Swiper Instance\n    var swiper = this;\n    if (typeof swiper.modules === 'undefined') {\n      swiper.modules = {};\n    }\n    Object.keys(swiper.modules).forEach(function (moduleName) {\n      var module = swiper.modules[moduleName];\n      if (module.params) {\n        var moduleParamName = Object.keys(module.params)[0];\n        var moduleParams = module.params[moduleParamName];\n        if (typeof moduleParams !== 'object') { return; }\n        if (!(moduleParamName in params && 'enabled' in moduleParams)) { return; }\n        if (params[moduleParamName] === true) {\n          params[moduleParamName] = { enabled: true };\n        }\n        if (\n          typeof params[moduleParamName] === 'object' &&\n          !('enabled' in params[moduleParamName])\n        ) {\n          params[moduleParamName].enabled = true;\n        }\n        if (!params[moduleParamName]) { params[moduleParamName] = { enabled: false }; }\n      }\n    });\n\n    // Extend defaults with modules params\n    var swiperParams = Utils.extend({}, defaults);\n    swiper.useModulesParams(swiperParams);\n\n    // Extend defaults with passed params\n    swiper.params = Utils.extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = Utils.extend({}, swiper.params);\n    swiper.passedParams = Utils.extend({}, params);\n\n    // Find el\n    var $el = $$1(swiper.params.el);\n    el = $el[0];\n\n    if (!el) {\n      return undefined;\n    }\n\n    if ($el.length > 1) {\n      var swipers = [];\n      $el.each(function (index, containerEl) {\n        var newParams = Utils.extend({}, params, { el: containerEl });\n        swipers.push(new Swiper(newParams));\n      });\n      return swipers;\n    }\n\n    el.swiper = swiper;\n    $el.data('swiper', swiper);\n\n    // Find Wrapper\n    var $wrapperEl = $el.children((\".\" + (swiper.params.wrapperClass)));\n\n    // Extend Swiper\n    Utils.extend(swiper, {\n      $el: $el,\n      el: el,\n      $wrapperEl: $wrapperEl,\n      wrapperEl: $wrapperEl[0],\n\n      // Classes\n      classNames: [],\n\n      // Slides\n      slides: $$1(),\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n\n      // isDirection\n      isHorizontal: function isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n      isVertical: function isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n      // RTL\n      rtl: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n      wrongRTL: $wrapperEl.css('display') === '-webkit-box',\n\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n\n      //\n      isBeginning: true,\n      isEnd: false,\n\n      // Props\n      translate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n\n      // Touch Events\n      touchEvents: (function touchEvents() {\n        var touch = ['touchstart', 'touchmove', 'touchend'];\n        var desktop = ['mousedown', 'mousemove', 'mouseup'];\n        if (Support.pointerEvents) {\n          desktop = ['pointerdown', 'pointermove', 'pointerup'];\n        } else if (Support.prefixedPointerEvents) {\n          desktop = ['MSPointerDown', 'MSPointerMove', 'MSPointerUp'];\n        }\n\n        return {\n          start: Support.touch || !swiper.params.simulateTouch ? touch[0] : desktop[0],\n          move: Support.touch || !swiper.params.simulateTouch ? touch[1] : desktop[1],\n          end: Support.touch || !swiper.params.simulateTouch ? touch[2] : desktop[2],\n        };\n      }()),\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        formElements: 'input, select, option, textarea, button, video',\n        // Last click time\n        lastClickTime: Utils.now(),\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        isTouchEvent: undefined,\n        startMoving: undefined,\n      },\n\n      // Clicks\n      allowClick: true,\n\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0,\n      },\n\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0,\n\n    });\n\n    // Install Modules\n    swiper.useModules();\n\n    // Init\n    if (swiper.params.init) {\n      swiper.init();\n    }\n\n    // Return app instance\n    return swiper;\n  }\n\n  if ( SwiperClass$$1 ) Swiper.__proto__ = SwiperClass$$1;\n  Swiper.prototype = Object.create( SwiperClass$$1 && SwiperClass$$1.prototype );\n  Swiper.prototype.constructor = Swiper;\n\n  var staticAccessors = { extendedDefaults: { configurable: true },defaults: { configurable: true },Class: { configurable: true },$: { configurable: true } };\n  Swiper.prototype.slidesPerViewDynamic = function slidesPerViewDynamic () {\n    var swiper = this;\n    var params = swiper.params;\n    var slides = swiper.slides;\n    var slidesGrid = swiper.slidesGrid;\n    var swiperSize = swiper.size;\n    var activeIndex = swiper.activeIndex;\n    var spv = 1;\n    if (params.centeredSlides) {\n      var slideSize = slides[activeIndex].swiperSlideSize;\n      var breakLoop;\n      for (var i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) { breakLoop = true; }\n        }\n      }\n      for (var i$1 = activeIndex - 1; i$1 >= 0; i$1 -= 1) {\n        if (slides[i$1] && !breakLoop) {\n          slideSize += slides[i$1].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) { breakLoop = true; }\n        }\n      }\n    } else {\n      for (var i$2 = activeIndex + 1; i$2 < slides.length; i$2 += 1) {\n        if (slidesGrid[i$2] - slidesGrid[activeIndex] < swiperSize) {\n          spv += 1;\n        }\n      }\n    }\n    return spv;\n  };\n  Swiper.prototype.update = function update$$1 () {\n    var swiper = this;\n    if (!swiper || swiper.destroyed) { return; }\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n\n    function setTranslate() {\n      var translateValue = swiper.rtl ? swiper.translate * -1 : swiper.translate;\n      var newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n    var translated;\n    if (swiper.params.freeMode) {\n      setTranslate();\n      if (swiper.params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n      if (!translated) {\n        setTranslate();\n      }\n    }\n    swiper.emit('update');\n  };\n  Swiper.prototype.init = function init () {\n    var swiper = this;\n    if (swiper.initialized) { return; }\n\n    swiper.emit('beforeInit');\n\n    // Set breakpoint\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    // Add Classes\n    swiper.addClasses();\n\n    // Create loop\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    }\n\n    // Update size\n    swiper.updateSize();\n\n    // Update slides\n    swiper.updateSlides();\n\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    }\n\n    // Set Grab Cursor\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n\n    if (swiper.params.preloadImages) {\n      swiper.preloadImages();\n    }\n\n    // Slide To Initial Slide\n    if (swiper.params.loop) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit);\n    }\n\n    // Attach events\n    swiper.attachEvents();\n\n    // Init Flag\n    swiper.initialized = true;\n\n    // Emit\n    swiper.emit('init');\n  };\n  Swiper.prototype.destroy = function destroy (deleteInstance, cleanStyles) {\n    if ( deleteInstance === void 0 ) deleteInstance = true;\n    if ( cleanStyles === void 0 ) cleanStyles = true;\n\n    var swiper = this;\n    var params = swiper.params;\n    var $el = swiper.$el;\n    var $wrapperEl = swiper.$wrapperEl;\n    var slides = swiper.slides;\n    swiper.emit('beforeDestroy');\n\n    // Init Flag\n    swiper.initialized = false;\n\n    // Detach events\n    swiper.detachEvents();\n\n    // Destroy loop\n    if (params.loop) {\n      swiper.loopDestroy();\n    }\n\n    // Cleanup styles\n    if (cleanStyles) {\n      swiper.removeClasses();\n      $el.removeAttr('style');\n      $wrapperEl.removeAttr('style');\n      if (slides && slides.length) {\n        slides\n          .removeClass([\n            params.slideVisibleClass,\n            params.slideActiveClass,\n            params.slideNextClass,\n            params.slidePrevClass ].join(' '))\n          .removeAttr('style')\n          .removeAttr('data-swiper-slide-index')\n          .removeAttr('data-swiper-column')\n          .removeAttr('data-swiper-row');\n      }\n    }\n\n    swiper.emit('destroy');\n\n    // Detach emitter events\n    Object.keys(swiper.eventsListeners).forEach(function (eventName) {\n      swiper.off(eventName);\n    });\n\n    if (deleteInstance !== false) {\n      swiper.$el[0].swiper = null;\n      swiper.$el.data('swiper', null);\n      Utils.deleteProps(swiper);\n    }\n    swiper.destroyed = true;\n  };\n  Swiper.extendDefaults = function extendDefaults (newDefaults) {\n    Utils.extend(extendedDefaults, newDefaults);\n  };\n  staticAccessors.extendedDefaults.get = function () {\n    return extendedDefaults;\n  };\n  staticAccessors.defaults.get = function () {\n    return defaults;\n  };\n  staticAccessors.Class.get = function () {\n    return SwiperClass$$1;\n  };\n  staticAccessors.$.get = function () {\n    return $$1;\n  };\n\n  Object.defineProperties( Swiper, staticAccessors );\n\n  return Swiper;\n}(SwiperClass));\n\nvar Device$2 = {\n  name: 'device',\n  proto: {\n    device: Device,\n  },\n  static: {\n    device: Device,\n  },\n};\n\nvar Support$2 = {\n  name: 'support',\n  proto: {\n    support: Support,\n  },\n  static: {\n    support: Support,\n  },\n};\n\nvar Browser$1 = (function Browser() {\n  function isSafari() {\n    var ua = win.navigator.userAgent.toLowerCase();\n    return (ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0);\n  }\n  return {\n    isSafari: isSafari(),\n    isUiWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(win.navigator.userAgent),\n  };\n}());\n\nvar Browser = {\n  name: 'browser',\n  proto: {\n    browser: Browser$1,\n  },\n  static: {\n    browser: Browser$1,\n  },\n};\n\nvar Resize = {\n  name: 'resize',\n  create: function create() {\n    var swiper = this;\n    Utils.extend(swiper, {\n      resize: {\n        resizeHandler: function resizeHandler() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) { return; }\n          swiper.emit('beforeResize');\n          swiper.emit('resize');\n        },\n        orientationChangeHandler: function orientationChangeHandler() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) { return; }\n          swiper.emit('orientationchange');\n        },\n      },\n    });\n  },\n  on: {\n    init: function init() {\n      var swiper = this;\n      // Emit resize\n      win.addEventListener('resize', swiper.resize.resizeHandler);\n\n      // Emit orientationchange\n      win.addEventListener('orientationchange', swiper.resize.orientationChangeHandler);\n    },\n    destroy: function destroy() {\n      var swiper = this;\n      win.removeEventListener('resize', swiper.resize.resizeHandler);\n      win.removeEventListener('orientationchange', swiper.resize.orientationChangeHandler);\n    },\n  },\n};\n\nvar Observer = {\n  func: win.MutationObserver || win.WebkitMutationObserver,\n  attach: function attach(target, options) {\n    if ( options === void 0 ) options = {};\n\n    var swiper = this;\n\n    var ObserverFunc = Observer.func;\n    var observer = new ObserverFunc(function (mutations) {\n      mutations.forEach(function (mutation) {\n        swiper.emit('observerUpdate', mutation);\n      });\n    });\n\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData,\n    });\n\n    swiper.observer.observers.push(observer);\n  },\n  init: function init() {\n    var swiper = this;\n    if (!Support.observer || !swiper.params.observer) { return; }\n    if (swiper.params.observeParents) {\n      var containerParents = swiper.$el.parents();\n      for (var i = 0; i < containerParents.length; i += 1) {\n        swiper.observer.attach(containerParents[i]);\n      }\n    }\n    // Observe container\n    swiper.observer.attach(swiper.$el[0], { childList: false });\n\n    // Observe wrapper\n    swiper.observer.attach(swiper.$wrapperEl[0], { attributes: false });\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    swiper.observer.observers.forEach(function (observer) {\n      observer.disconnect();\n    });\n    swiper.observer.observers = [];\n  },\n};\n\nvar Observer$1 = {\n  name: 'observer',\n  params: {\n    observer: false,\n    observeParents: false,\n  },\n  create: function create() {\n    var swiper = this;\n    Utils.extend(swiper, {\n      observer: {\n        init: Observer.init.bind(swiper),\n        attach: Observer.attach.bind(swiper),\n        destroy: Observer.destroy.bind(swiper),\n        observers: [],\n      },\n    });\n  },\n  on: {\n    init: function init() {\n      var swiper = this;\n      swiper.observer.init();\n    },\n    destroy: function destroy() {\n      var swiper = this;\n      swiper.observer.destroy();\n    },\n  },\n};\n\nvar Virtual = {\n  update: function update(force) {\n    var swiper = this;\n    var ref = swiper.params;\n    var slidesPerView = ref.slidesPerView;\n    var slidesPerGroup = ref.slidesPerGroup;\n    var centeredSlides = ref.centeredSlides;\n    var ref$1 = swiper.virtual;\n    var previousFrom = ref$1.from;\n    var previousTo = ref$1.to;\n    var slides = ref$1.slides;\n    var previousSlidesGrid = ref$1.slidesGrid;\n    var renderSlide = ref$1.renderSlide;\n    var previousOffset = ref$1.offset;\n    swiper.updateActiveIndex();\n    var activeIndex = swiper.activeIndex || 0;\n\n    var offsetProp;\n    if (swiper.rtl && swiper.isHorizontal()) { offsetProp = 'right'; }\n    else { offsetProp = swiper.isHorizontal() ? 'left' : 'top'; }\n\n    var slidesAfter;\n    var slidesBefore;\n    if (centeredSlides) {\n      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup;\n      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup;\n    } else {\n      slidesAfter = slidesPerView + (slidesPerGroup - 1);\n      slidesBefore = slidesPerGroup;\n    }\n    var from = Math.max((activeIndex || 0) - slidesBefore, 0);\n    var to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);\n    var offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n\n    Utils.extend(swiper.virtual, {\n      from: from,\n      to: to,\n      offset: offset,\n      slidesGrid: swiper.slidesGrid,\n    });\n\n    function onRendered() {\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n      if (swiper.lazy && swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n    }\n\n    if (previousFrom === from && previousTo === to && !force) {\n      if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {\n        swiper.slides.css(offsetProp, (offset + \"px\"));\n      }\n      swiper.updateProgress();\n      return;\n    }\n    if (swiper.params.virtual.renderExternal) {\n      swiper.params.virtual.renderExternal.call(swiper, {\n        offset: offset,\n        from: from,\n        to: to,\n        slides: (function getSlides() {\n          var slidesToRender = [];\n          for (var i = from; i <= to; i += 1) {\n            slidesToRender.push(slides[i]);\n          }\n          return slidesToRender;\n        }()),\n      });\n      onRendered();\n      return;\n    }\n    var prependIndexes = [];\n    var appendIndexes = [];\n    if (force) {\n      swiper.$wrapperEl.find((\".\" + (swiper.params.slideClass))).remove();\n    } else {\n      for (var i = previousFrom; i <= previousTo; i += 1) {\n        if (i < from || i > to) {\n          swiper.$wrapperEl.find((\".\" + (swiper.params.slideClass) + \"[data-swiper-slide-index=\\\"\" + i + \"\\\"]\")).remove();\n        }\n      }\n    }\n    for (var i$1 = 0; i$1 < slides.length; i$1 += 1) {\n      if (i$1 >= from && i$1 <= to) {\n        if (typeof previousTo === 'undefined' || force) {\n          appendIndexes.push(i$1);\n        } else {\n          if (i$1 > previousTo) { appendIndexes.push(i$1); }\n          if (i$1 < previousFrom) { prependIndexes.push(i$1); }\n        }\n      }\n    }\n    appendIndexes.forEach(function (index) {\n      swiper.$wrapperEl.append(renderSlide(slides[index], index));\n    });\n    prependIndexes.sort(function (a, b) { return a < b; }).forEach(function (index) {\n      swiper.$wrapperEl.prepend(renderSlide(slides[index], index));\n    });\n    swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, (offset + \"px\"));\n    onRendered();\n  },\n  renderSlide: function renderSlide(slide, index) {\n    var swiper = this;\n    var params = swiper.params.virtual;\n    if (params.cache && swiper.virtual.cache[index]) {\n      return swiper.virtual.cache[index];\n    }\n    var $slideEl = params.renderSlide\n      ? $$1(params.renderSlide.call(swiper, slide, index))\n      : $$1((\"<div class=\\\"\" + (swiper.params.slideClass) + \"\\\" data-swiper-slide-index=\\\"\" + index + \"\\\">\" + slide + \"</div>\"));\n    if (!$slideEl.attr('data-swiper-slide-index')) { $slideEl.attr('data-swiper-slide-index', index); }\n    if (params.cache) { swiper.virtual.cache[index] = $slideEl; }\n    return $slideEl;\n  },\n  appendSlide: function appendSlide(slide) {\n    var swiper = this;\n    swiper.virtual.slides.push(slide);\n    swiper.virtual.update(true);\n  },\n  prependSlide: function prependSlide(slide) {\n    var swiper = this;\n    swiper.virtual.slides.unshift(slide);\n    if (swiper.params.virtual.cache) {\n      var cache = swiper.virtual.cache;\n      var newCache = {};\n      Object.keys(cache).forEach(function (cachedIndex) {\n        newCache[cachedIndex + 1] = cache[cachedIndex];\n      });\n      swiper.virtual.cache = newCache;\n    }\n    swiper.virtual.update(true);\n    swiper.slideNext(0);\n  },\n};\n\nvar Virtual$1 = {\n  name: 'virtual',\n  params: {\n    virtual: {\n      enabled: false,\n      slides: [],\n      cache: true,\n      renderSlide: null,\n      renderExternal: null,\n    },\n  },\n  create: function create() {\n    var swiper = this;\n    Utils.extend(swiper, {\n      virtual: {\n        update: Virtual.update.bind(swiper),\n        appendSlide: Virtual.appendSlide.bind(swiper),\n        prependSlide: Virtual.prependSlide.bind(swiper),\n        renderSlide: Virtual.renderSlide.bind(swiper),\n        slides: swiper.params.virtual.slides,\n        cache: {},\n      },\n    });\n  },\n  on: {\n    beforeInit: function beforeInit() {\n      var swiper = this;\n      if (!swiper.params.virtual.enabled) { return; }\n      swiper.classNames.push(((swiper.params.containerModifierClass) + \"virtual\"));\n      var overwriteParams = {\n        watchSlidesProgress: true,\n      };\n      Utils.extend(swiper.params, overwriteParams);\n      Utils.extend(swiper.originalParams, overwriteParams);\n\n      swiper.virtual.update();\n    },\n    setTranslate: function setTranslate() {\n      var swiper = this;\n      if (!swiper.params.virtual.enabled) { return; }\n      swiper.virtual.update();\n    },\n  },\n};\n\nvar Keyboard = {\n  handle: function handle(event) {\n    var swiper = this;\n    var e = event;\n    if (e.originalEvent) { e = e.originalEvent; } // jquery fix\n    var kc = e.keyCode || e.charCode;\n    // Directions locks\n    if (!swiper.allowSlideNext && ((swiper.isHorizontal() && kc === 39) || (swiper.isVertical() && kc === 40))) {\n      return false;\n    }\n    if (!swiper.allowSlidePrev && ((swiper.isHorizontal() && kc === 37) || (swiper.isVertical() && kc === 38))) {\n      return false;\n    }\n    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n      return undefined;\n    }\n    if (doc.activeElement && doc.activeElement.nodeName && (doc.activeElement.nodeName.toLowerCase() === 'input' || doc.activeElement.nodeName.toLowerCase() === 'textarea')) {\n      return undefined;\n    }\n    if (swiper.params.keyboard.onlyInViewport && (kc === 37 || kc === 39 || kc === 38 || kc === 40)) {\n      var inView = false;\n      // Check that swiper should be inside of visible area of window\n      if (swiper.$el.parents((\".\" + (swiper.params.slideClass))).length > 0 && swiper.$el.parents((\".\" + (swiper.params.slideActiveClass))).length === 0) {\n        return undefined;\n      }\n      var windowScroll = {\n        left: win.pageXOffset,\n        top: win.pageYOffset,\n      };\n      var windowWidth = win.innerWidth;\n      var windowHeight = win.innerHeight;\n      var swiperOffset = swiper.$el.offset();\n      if (swiper.rtl) { swiperOffset.left -= swiper.$el[0].scrollLeft; }\n      var swiperCoord = [\n        [swiperOffset.left, swiperOffset.top],\n        [swiperOffset.left + swiper.width, swiperOffset.top],\n        [swiperOffset.left, swiperOffset.top + swiper.height],\n        [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height] ];\n      for (var i = 0; i < swiperCoord.length; i += 1) {\n        var point = swiperCoord[i];\n        if (\n          point[0] >= windowScroll.left && point[0] <= windowScroll.left + windowWidth &&\n            point[1] >= windowScroll.top && point[1] <= windowScroll.top + windowHeight\n        ) {\n          inView = true;\n        }\n      }\n      if (!inView) { return undefined; }\n    }\n    if (swiper.isHorizontal()) {\n      if (kc === 37 || kc === 39) {\n        if (e.preventDefault) { e.preventDefault(); }\n        else { e.returnValue = false; }\n      }\n      if ((kc === 39 && !swiper.rtl) || (kc === 37 && swiper.rtl)) { swiper.slideNext(); }\n      if ((kc === 37 && !swiper.rtl) || (kc === 39 && swiper.rtl)) { swiper.slidePrev(); }\n    } else {\n      if (kc === 38 || kc === 40) {\n        if (e.preventDefault) { e.preventDefault(); }\n        else { e.returnValue = false; }\n      }\n      if (kc === 40) { swiper.slideNext(); }\n      if (kc === 38) { swiper.slidePrev(); }\n    }\n    swiper.emit('keyPress', kc);\n    return undefined;\n  },\n  enable: function enable() {\n    var swiper = this;\n    if (swiper.keyboard.enabled) { return; }\n    $$1(doc).on('keydown', swiper.keyboard.handle);\n    swiper.keyboard.enabled = true;\n  },\n  disable: function disable() {\n    var swiper = this;\n    if (!swiper.keyboard.enabled) { return; }\n    $$1(doc).off('keydown', swiper.keyboard.handle);\n    swiper.keyboard.enabled = false;\n  },\n};\n\nvar Keyboard$1 = {\n  name: 'keyboard',\n  params: {\n    keyboard: {\n      enabled: false,\n      onlyInViewport: true,\n    },\n  },\n  create: function create() {\n    var swiper = this;\n    Utils.extend(swiper, {\n      keyboard: {\n        enabled: false,\n        enable: Keyboard.enable.bind(swiper),\n        disable: Keyboard.disable.bind(swiper),\n        handle: Keyboard.handle.bind(swiper),\n      },\n    });\n  },\n  on: {\n    init: function init() {\n      var swiper = this;\n      if (swiper.params.keyboard.enabled) {\n        swiper.keyboard.enable();\n      }\n    },\n    destroy: function destroy() {\n      var swiper = this;\n      if (swiper.keyboard.enabled) {\n        swiper.keyboard.disable();\n      }\n    },\n  },\n};\n\nfunction isEventSupported() {\n  var eventName = 'onwheel';\n  var isSupported = eventName in doc;\n\n  if (!isSupported) {\n    var element = doc.createElement('div');\n    element.setAttribute(eventName, 'return;');\n    isSupported = typeof element[eventName] === 'function';\n  }\n\n  if (!isSupported &&\n    doc.implementation &&\n    doc.implementation.hasFeature &&\n    // always returns true in newer browsers as per the standard.\n    // @see http://dom.spec.whatwg.org/#dom-domimplementation-hasfeature\n    doc.implementation.hasFeature('', '') !== true\n  ) {\n    // This is the only way to test support for the `wheel` event in IE9+.\n    isSupported = doc.implementation.hasFeature('Events.wheel', '3.0');\n  }\n\n  return isSupported;\n}\nvar Mousewheel = {\n  lastScrollTime: Utils.now(),\n  event: (function getEvent() {\n    if (win.navigator.userAgent.indexOf('firefox') > -1) { return 'DOMMouseScroll'; }\n    return isEventSupported() ? 'wheel' : 'mousewheel';\n  }()),\n  normalize: function normalize(e) {\n    // Reasonable defaults\n    var PIXEL_STEP = 10;\n    var LINE_HEIGHT = 40;\n    var PAGE_HEIGHT = 800;\n\n    var sX = 0;\n    var sY = 0; // spinX, spinY\n    var pX = 0;\n    var pY = 0; // pixelX, pixelY\n\n    // Legacy\n    if ('detail' in e) {\n      sY = e.detail;\n    }\n    if ('wheelDelta' in e) {\n      sY = -e.wheelDelta / 120;\n    }\n    if ('wheelDeltaY' in e) {\n      sY = -e.wheelDeltaY / 120;\n    }\n    if ('wheelDeltaX' in e) {\n      sX = -e.wheelDeltaX / 120;\n    }\n\n    // side scrolling on FF with DOMMouseScroll\n    if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {\n      sX = sY;\n      sY = 0;\n    }\n\n    pX = sX * PIXEL_STEP;\n    pY = sY * PIXEL_STEP;\n\n    if ('deltaY' in e) {\n      pY = e.deltaY;\n    }\n    if ('deltaX' in e) {\n      pX = e.deltaX;\n    }\n\n    if ((pX || pY) && e.deltaMode) {\n      if (e.deltaMode === 1) { // delta in LINE units\n        pX *= LINE_HEIGHT;\n        pY *= LINE_HEIGHT;\n      } else { // delta in PAGE units\n        pX *= PAGE_HEIGHT;\n        pY *= PAGE_HEIGHT;\n      }\n    }\n\n    // Fall-back if spin cannot be determined\n    if (pX && !sX) {\n      sX = (pX < 1) ? -1 : 1;\n    }\n    if (pY && !sY) {\n      sY = (pY < 1) ? -1 : 1;\n    }\n\n    return {\n      spinX: sX,\n      spinY: sY,\n      pixelX: pX,\n      pixelY: pY,\n    };\n  },\n  handle: function handle(event) {\n    var e = event;\n    var swiper = this;\n    var params = swiper.params.mousewheel;\n    if (e.originalEvent) { e = e.originalEvent; } // jquery fix\n    var delta = 0;\n    var rtlFactor = swiper.rtl ? -1 : 1;\n\n    var data = Mousewheel.normalize(e);\n\n    if (params.forceToAxis) {\n      if (swiper.isHorizontal()) {\n        if (Math.abs(data.pixelX) > Math.abs(data.pixelY)) { delta = data.pixelX * rtlFactor; }\n        else { return true; }\n      } else if (Math.abs(data.pixelY) > Math.abs(data.pixelX)) { delta = data.pixelY; }\n      else { return true; }\n    } else {\n      delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY;\n    }\n\n    if (delta === 0) { return true; }\n\n    if (params.invert) { delta = -delta; }\n\n    if (!swiper.params.freeMode) {\n      if (Utils.now() - swiper.mousewheel.lastScrollTime > 60) {\n        if (delta < 0) {\n          if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {\n            swiper.slideNext();\n            swiper.emit('scroll', e);\n          } else if (params.releaseOnEdges) { return true; }\n        } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {\n          swiper.slidePrev();\n          swiper.emit('scroll', e);\n        } else if (params.releaseOnEdges) { return true; }\n      }\n      swiper.mousewheel.lastScrollTime = (new win.Date()).getTime();\n    } else {\n      // Freemode or scrollContainer:\n      var position = swiper.getTranslate() + (delta * params.sensitivity);\n      var wasBeginning = swiper.isBeginning;\n      var wasEnd = swiper.isEnd;\n\n      if (position >= swiper.minTranslate()) { position = swiper.minTranslate(); }\n      if (position <= swiper.maxTranslate()) { position = swiper.maxTranslate(); }\n\n      swiper.setTransition(0);\n      swiper.setTranslate(position);\n      swiper.updateProgress();\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n\n      if ((!wasBeginning && swiper.isBeginning) || (!wasEnd && swiper.isEnd)) {\n        swiper.updateSlidesClasses();\n      }\n\n      if (swiper.params.freeModeSticky) {\n        clearTimeout(swiper.mousewheel.timeout);\n        swiper.mousewheel.timeout = Utils.nextTick(function () {\n          swiper.slideReset();\n        }, 300);\n      }\n      // Emit event\n      swiper.emit('scroll', e);\n\n      // Stop autoplay\n      if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) { swiper.stopAutoplay(); }\n\n      // Return page scroll on edge positions\n      if (position === 0 || position === swiper.maxTranslate()) { return true; }\n    }\n\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n    return false;\n  },\n  enable: function enable() {\n    var swiper = this;\n    if (!Mousewheel.event) { return false; }\n    if (swiper.mousewheel.enabled) { return false; }\n    var target = swiper.$el;\n    if (swiper.params.mousewheel.eventsTarged !== 'container') {\n      target = $$1(swiper.params.mousewheel.eventsTarged);\n    }\n    target.on(Mousewheel.event, swiper.mousewheel.handle);\n    swiper.mousewheel.enabled = true;\n    return true;\n  },\n  disable: function disable() {\n    var swiper = this;\n    if (!Mousewheel.event) { return false; }\n    if (!swiper.mousewheel.enabled) { return false; }\n    var target = swiper.$el;\n    if (swiper.params.mousewheel.eventsTarged !== 'container') {\n      target = $$1(swiper.params.mousewheel.eventsTarged);\n    }\n    target.off(Mousewheel.event, swiper.mousewheel.handle);\n    swiper.mousewheel.enabled = false;\n    return true;\n  },\n};\n\nvar Mousewheel$1 = {\n  name: 'mousewheel',\n  params: {\n    mousewheel: {\n      enabled: false,\n      releaseOnEdges: false,\n      invert: false,\n      forceToAxis: false,\n      sensitivity: 1,\n      eventsTarged: 'container',\n    },\n  },\n  create: function create() {\n    var swiper = this;\n    Utils.extend(swiper, {\n      mousewheel: {\n        enabled: false,\n        enable: Mousewheel.enable.bind(swiper),\n        disable: Mousewheel.disable.bind(swiper),\n        handle: Mousewheel.handle.bind(swiper),\n        lastScrollTime: Utils.now(),\n      },\n    });\n  },\n  on: {\n    init: function init() {\n      var swiper = this;\n      if (swiper.params.mousewheel.enabled) { swiper.mousewheel.enable(); }\n    },\n    destroy: function destroy() {\n      var swiper = this;\n      if (swiper.mousewheel.enabled) { swiper.mousewheel.disable(); }\n    },\n  },\n};\n\nvar Navigation = {\n  update: function update() {\n    // Update Navigation Buttons\n    var swiper = this;\n    var params = swiper.params.navigation;\n\n    if (swiper.params.loop) { return; }\n    var ref = swiper.navigation;\n    var $nextEl = ref.$nextEl;\n    var $prevEl = ref.$prevEl;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        $prevEl.addClass(params.disabledClass);\n      } else {\n        $prevEl.removeClass(params.disabledClass);\n      }\n      $prevEl[swiper.params.watchOverflow && swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        $nextEl.addClass(params.disabledClass);\n      } else {\n        $nextEl.removeClass(params.disabledClass);\n      }\n      $nextEl[swiper.params.watchOverflow && swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n  },\n  init: function init() {\n    var swiper = this;\n    var params = swiper.params.navigation;\n    if (!(params.nextEl || params.prevEl)) { return; }\n\n    var $nextEl;\n    var $prevEl;\n    if (params.nextEl) {\n      $nextEl = $$1(params.nextEl);\n      if (\n        swiper.params.uniqueNavElements &&\n        typeof params.nextEl === 'string' &&\n        $nextEl.length > 1 &&\n        swiper.$el.find(params.nextEl).length === 1\n      ) {\n        $nextEl = swiper.$el.find(params.nextEl);\n      }\n    }\n    if (params.prevEl) {\n      $prevEl = $$1(params.prevEl);\n      if (\n        swiper.params.uniqueNavElements &&\n        typeof params.prevEl === 'string' &&\n        $prevEl.length > 1 &&\n        swiper.$el.find(params.prevEl).length === 1\n      ) {\n        $prevEl = swiper.$el.find(params.prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', function (e) {\n        e.preventDefault();\n        if (swiper.isEnd && !swiper.params.loop) { return; }\n        swiper.slideNext();\n      });\n    }\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', function (e) {\n        e.preventDefault();\n        if (swiper.isBeginning && !swiper.params.loop) { return; }\n        swiper.slidePrev();\n      });\n    }\n\n    Utils.extend(swiper.navigation, {\n      $nextEl: $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl: $prevEl,\n      prevEl: $prevEl && $prevEl[0],\n    });\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    var ref = swiper.navigation;\n    var $nextEl = ref.$nextEl;\n    var $prevEl = ref.$prevEl;\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click');\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click');\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  },\n};\n\nvar Navigation$1 = {\n  name: 'navigation',\n  params: {\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock',\n    },\n  },\n  create: function create() {\n    var swiper = this;\n    Utils.extend(swiper, {\n      navigation: {\n        init: Navigation.init.bind(swiper),\n        update: Navigation.update.bind(swiper),\n        destroy: Navigation.destroy.bind(swiper),\n      },\n    });\n  },\n  on: {\n    init: function init() {\n      var swiper = this;\n      swiper.navigation.init();\n      swiper.navigation.update();\n    },\n    toEdge: function toEdge() {\n      var swiper = this;\n      swiper.navigation.update();\n    },\n    fromEdge: function fromEdge() {\n      var swiper = this;\n      swiper.navigation.update();\n    },\n    destroy: function destroy() {\n      var swiper = this;\n      swiper.navigation.destroy();\n    },\n    click: function click(e) {\n      var swiper = this;\n      var ref = swiper.navigation;\n      var $nextEl = ref.$nextEl;\n      var $prevEl = ref.$prevEl;\n      if (\n        swiper.params.navigation.hideOnClick &&\n        !$$1(e.target).is($prevEl) &&\n        !$$1(e.target).is($nextEl)\n      ) {\n        if ($nextEl) { $nextEl.toggleClass(swiper.params.navigation.hiddenClass); }\n        if ($prevEl) { $prevEl.toggleClass(swiper.params.navigation.hiddenClass); }\n      }\n    },\n  },\n};\n\nvar Pagination = {\n  update: function update() {\n    // Render || Update Pagination bullets/items\n    var swiper = this;\n    var rtl = swiper.rtl;\n    var params = swiper.params.pagination;\n    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) { return; }\n    var slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    var $el = swiper.pagination.$el;\n    // Current/Total\n    var current;\n    var total = swiper.params.loop ? Math.ceil((slidesLength - (swiper.loopedSlides * 2)) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n    if (swiper.params.loop) {\n      current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n      if (current > slidesLength - 1 - (swiper.loopedSlides * 2)) {\n        current -= (slidesLength - (swiper.loopedSlides * 2));\n      }\n      if (current > total - 1) { current -= total; }\n      if (current < 0 && swiper.params.paginationType !== 'bullets') { current = total + current; }\n    } else if (typeof swiper.snapIndex !== 'undefined') {\n      current = swiper.snapIndex;\n    } else {\n      current = swiper.activeIndex || 0;\n    }\n    // Types\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n      var bullets = swiper.pagination.bullets;\n      if (params.dynamicBullets) {\n        swiper.pagination.bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n        $el.css(swiper.isHorizontal() ? 'width' : 'height', ((swiper.pagination.bulletSize * 5) + \"px\"));\n      }\n      bullets.removeClass(((params.bulletActiveClass) + \" \" + (params.bulletActiveClass) + \"-next \" + (params.bulletActiveClass) + \"-next-next \" + (params.bulletActiveClass) + \"-prev \" + (params.bulletActiveClass) + \"-prev-prev\"));\n      if ($el.length > 1) {\n        bullets.each(function (index, bullet) {\n          var $bullet = $$1(bullet);\n          if ($bullet.index() === current) {\n            $bullet.addClass(params.bulletActiveClass);\n            if (params.dynamicBullets) {\n              $bullet\n                .prev()\n                .addClass(((params.bulletActiveClass) + \"-prev\"))\n                .prev()\n                .addClass(((params.bulletActiveClass) + \"-prev-prev\"));\n              $bullet\n                .next()\n                .addClass(((params.bulletActiveClass) + \"-next\"))\n                .next()\n                .addClass(((params.bulletActiveClass) + \"-next-next\"));\n            }\n          }\n        });\n      } else {\n        var $bullet = bullets.eq(current);\n        $bullet.addClass(params.bulletActiveClass);\n        if (params.dynamicBullets) {\n          $bullet\n            .prev()\n            .addClass(((params.bulletActiveClass) + \"-prev\"))\n            .prev()\n            .addClass(((params.bulletActiveClass) + \"-prev-prev\"));\n          $bullet\n            .next()\n            .addClass(((params.bulletActiveClass) + \"-next\"))\n            .next()\n            .addClass(((params.bulletActiveClass) + \"-next-next\"));\n        }\n      }\n      if (params.dynamicBullets) {\n        var dynamicBulletsLength = Math.min(bullets.length, 5);\n        var bulletsOffset = (((swiper.pagination.bulletSize * dynamicBulletsLength) - (swiper.pagination.bulletSize)) / 2) - (current * swiper.pagination.bulletSize);\n        var offsetProp = rtl ? 'right' : 'left';\n        bullets.css(swiper.isHorizontal() ? offsetProp : 'top', (bulletsOffset + \"px\"));\n      }\n    }\n    if (params.type === 'fraction') {\n      $el.find((\".\" + (params.currentClass))).text(current + 1);\n      $el.find((\".\" + (params.totalClass))).text(total);\n    }\n    if (params.type === 'progressbar') {\n      var scale = (current + 1) / total;\n      var scaleX = scale;\n      var scaleY = 1;\n      if (!swiper.isHorizontal()) {\n        scaleY = scale;\n        scaleX = 1;\n      }\n      $el.find((\".\" + (params.progressbarFillClass))).transform((\"translate3d(0,0,0) scaleX(\" + scaleX + \") scaleY(\" + scaleY + \")\")).transition(swiper.params.speed);\n    }\n    if (params.type === 'custom' && params.renderCustom) {\n      $el.html(params.renderCustom(swiper, current + 1, total));\n      swiper.emit('paginationRender', swiper, $el[0]);\n    } else {\n      swiper.emit('paginationUpdate', swiper, $el[0]);\n    }\n    $el[swiper.params.watchOverflow && swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n  },\n  render: function render() {\n    // Render Container\n    var swiper = this;\n    var params = swiper.params.pagination;\n    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) { return; }\n    var slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n\n    var $el = swiper.pagination.$el;\n    var paginationHTML = '';\n    if (params.type === 'bullets') {\n      var numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - (swiper.loopedSlides * 2)) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n      for (var i = 0; i < numberOfBullets; i += 1) {\n        if (params.renderBullet) {\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n        } else {\n          paginationHTML += \"<\" + (params.bulletElement) + \" class=\\\"\" + (params.bulletClass) + \"\\\"></\" + (params.bulletElement) + \">\";\n        }\n      }\n      $el.html(paginationHTML);\n      swiper.pagination.bullets = $el.find((\".\" + (params.bulletClass)));\n    }\n    if (params.type === 'fraction') {\n      if (params.renderFraction) {\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n      } else {\n        paginationHTML =\n        \"<span class=\\\"\" + (params.currentClass) + \"\\\"></span>\" +\n        ' / ' +\n        \"<span class=\\\"\" + (params.totalClass) + \"\\\"></span>\";\n      }\n      $el.html(paginationHTML);\n    }\n    if (params.type === 'progressbar') {\n      if (params.renderProgressbar) {\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n      } else {\n        paginationHTML = \"<span class=\\\"\" + (params.progressbarFillClass) + \"\\\"></span>\";\n      }\n      $el.html(paginationHTML);\n    }\n    if (params.type !== 'custom') {\n      swiper.emit('paginationRender', swiper.pagination.$el[0]);\n    }\n  },\n  init: function init() {\n    var swiper = this;\n    var params = swiper.params.pagination;\n    if (!params.el) { return; }\n\n    var $el = $$1(params.el);\n    if ($el.length === 0) { return; }\n\n    if (\n      swiper.params.uniqueNavElements &&\n      typeof params.el === 'string' &&\n      $el.length > 1 &&\n      swiper.$el.find(params.el).length === 1\n    ) {\n      $el = swiper.$el.find(params.el);\n    }\n\n    if (params.type === 'bullets' && params.clickable) {\n      $el.addClass(params.clickableClass);\n    }\n\n    $el.addClass(params.modifierClass + params.type);\n\n    if (params.type === 'bullets' && params.dynamicBullets) {\n      $el.addClass((\"\" + (params.modifierClass) + (params.type) + \"-dynamic\"));\n    }\n\n    if (params.clickable) {\n      $el.on('click', (\".\" + (params.bulletClass)), function onClick(e) {\n        e.preventDefault();\n        var index = $$1(this).index() * swiper.params.slidesPerGroup;\n        if (swiper.params.loop) { index += swiper.loopedSlides; }\n        swiper.slideTo(index);\n      });\n    }\n\n    Utils.extend(swiper.pagination, {\n      $el: $el,\n      el: $el[0],\n    });\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    var params = swiper.params.pagination;\n    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) { return; }\n    var $el = swiper.pagination.$el;\n\n    $el.removeClass(params.hiddenClass);\n    $el.removeClass(params.modifierClass + params.type);\n    if (swiper.pagination.bullets) { swiper.pagination.bullets.removeClass(params.bulletActiveClass); }\n    if (params.clickable) {\n      $el.off('click', (\".\" + (params.bulletClass)));\n    }\n  },\n};\n\nvar Pagination$1 = {\n  name: 'pagination',\n  params: {\n    pagination: {\n      el: null,\n      bulletElement: 'span',\n      clickable: false,\n      hideOnClick: false,\n      renderBullet: null,\n      renderProgressbar: null,\n      renderFraction: null,\n      renderCustom: null,\n      type: 'bullets', // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n      dynamicBullets: false,\n\n      bulletClass: 'swiper-pagination-bullet',\n      bulletActiveClass: 'swiper-pagination-bullet-active',\n      modifierClass: 'swiper-pagination-', // NEW\n      currentClass: 'swiper-pagination-current',\n      totalClass: 'swiper-pagination-total',\n      hiddenClass: 'swiper-pagination-hidden',\n      progressbarFillClass: 'swiper-pagination-progressbar-fill',\n      clickableClass: 'swiper-pagination-clickable', // NEW\n      lockClass: 'swiper-pagination-lock',\n    },\n  },\n  create: function create() {\n    var swiper = this;\n    Utils.extend(swiper, {\n      pagination: {\n        init: Pagination.init.bind(swiper),\n        render: Pagination.render.bind(swiper),\n        update: Pagination.update.bind(swiper),\n        destroy: Pagination.destroy.bind(swiper),\n      },\n    });\n  },\n  on: {\n    init: function init() {\n      var swiper = this;\n      swiper.pagination.init();\n      swiper.pagination.render();\n      swiper.pagination.update();\n    },\n    activeIndexChange: function activeIndexChange() {\n      var swiper = this;\n      if (swiper.params.loop) {\n        swiper.pagination.update();\n      } else if (typeof swiper.snapIndex === 'undefined') {\n        swiper.pagination.update();\n      }\n    },\n    snapIndexChange: function snapIndexChange() {\n      var swiper = this;\n      if (!swiper.params.loop) {\n        swiper.pagination.update();\n      }\n    },\n    slidesLengthChange: function slidesLengthChange() {\n      var swiper = this;\n      if (swiper.params.loop) {\n        swiper.pagination.render();\n        swiper.pagination.update();\n      }\n    },\n    snapGridLengthChange: function snapGridLengthChange() {\n      var swiper = this;\n      if (!swiper.params.loop) {\n        swiper.pagination.render();\n        swiper.pagination.update();\n      }\n    },\n    destroy: function destroy() {\n      var swiper = this;\n      swiper.pagination.destroy();\n    },\n    click: function click(e) {\n      var swiper = this;\n      if (\n        swiper.params.pagination.el &&\n        swiper.params.pagination.hideOnClick &&\n        swiper.pagination.$el.length > 0 &&\n        !$$1(e.target).hasClass(swiper.params.pagination.bulletClass)\n      ) {\n        swiper.pagination.$el.toggleClass(swiper.params.pagination.hiddenClass);\n      }\n    },\n  },\n};\n\nvar Scrollbar = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) { return; }\n    var scrollbar = swiper.scrollbar;\n    var rtl = swiper.rtl;\n    var progress = swiper.progress;\n    var dragSize = scrollbar.dragSize;\n    var trackSize = scrollbar.trackSize;\n    var $dragEl = scrollbar.$dragEl;\n    var $el = scrollbar.$el;\n    var params = swiper.params.scrollbar;\n\n    var newSize = dragSize;\n    var newPos = (trackSize - dragSize) * progress;\n    if (rtl && swiper.isHorizontal()) {\n      newPos = -newPos;\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n    if (swiper.isHorizontal()) {\n      if (Support.transforms3d) {\n        $dragEl.transform((\"translate3d(\" + newPos + \"px, 0, 0)\"));\n      } else {\n        $dragEl.transform((\"translateX(\" + newPos + \"px)\"));\n      }\n      $dragEl[0].style.width = newSize + \"px\";\n    } else {\n      if (Support.transforms3d) {\n        $dragEl.transform((\"translate3d(0px, \" + newPos + \"px, 0)\"));\n      } else {\n        $dragEl.transform((\"translateY(\" + newPos + \"px)\"));\n      }\n      $dragEl[0].style.height = newSize + \"px\";\n    }\n    if (params.hide) {\n      clearTimeout(swiper.scrollbar.timeout);\n      $el[0].style.opacity = 1;\n      swiper.scrollbar.timeout = setTimeout(function () {\n        $el[0].style.opacity = 0;\n        $el.transition(400);\n      }, 1000);\n    }\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) { return; }\n    swiper.scrollbar.$dragEl.transition(duration);\n  },\n  updateSize: function updateSize() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) { return; }\n\n    var scrollbar = swiper.scrollbar;\n    var $dragEl = scrollbar.$dragEl;\n    var $el = scrollbar.$el;\n\n    $dragEl[0].style.width = '';\n    $dragEl[0].style.height = '';\n    var trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n\n    var divider = swiper.size / swiper.virtualSize;\n    var moveDivider = divider * (trackSize / swiper.size);\n    var dragSize;\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl[0].style.width = dragSize + \"px\";\n    } else {\n      $dragEl[0].style.height = dragSize + \"px\";\n    }\n\n    if (divider >= 1) {\n      $el[0].style.display = 'none';\n    } else {\n      $el[0].style.display = '';\n    }\n    if (swiper.params.scrollbarHide) {\n      $el[0].style.opacity = 0;\n    }\n    Utils.extend(scrollbar, {\n      trackSize: trackSize,\n      divider: divider,\n      moveDivider: moveDivider,\n      dragSize: dragSize,\n    });\n    scrollbar.$el[swiper.params.watchOverflow && swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n  },\n  setDragPosition: function setDragPosition(e) {\n    var swiper = this;\n    var scrollbar = swiper.scrollbar;\n    var $el = scrollbar.$el;\n    var dragSize = scrollbar.dragSize;\n    var trackSize = scrollbar.trackSize;\n\n    var pointerPosition;\n    if (swiper.isHorizontal()) {\n      pointerPosition = ((e.type === 'touchstart' || e.type === 'touchmove') ? e.targetTouches[0].pageX : e.pageX || e.clientX);\n    } else {\n      pointerPosition = ((e.type === 'touchstart' || e.type === 'touchmove') ? e.targetTouches[0].pageY : e.pageY || e.clientY);\n    }\n    var positionRatio;\n    positionRatio = ((pointerPosition) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n    if (swiper.rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n\n    var position = swiper.minTranslate() + ((swiper.maxTranslate() - swiper.minTranslate()) * positionRatio);\n\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  },\n  onDragStart: function onDragStart(e) {\n    var swiper = this;\n    var params = swiper.params.scrollbar;\n    var scrollbar = swiper.scrollbar;\n    var $wrapperEl = swiper.$wrapperEl;\n    var $el = scrollbar.$el;\n    var $dragEl = scrollbar.$dragEl;\n    swiper.scrollbar.isTouched = true;\n    e.preventDefault();\n    e.stopPropagation();\n\n    $wrapperEl.transition(100);\n    $dragEl.transition(100);\n    scrollbar.setDragPosition(e);\n\n    clearTimeout(swiper.scrollbar.dragTimeout);\n\n    $el.transition(0);\n    if (params.hide) {\n      $el.css('opacity', 1);\n    }\n    swiper.emit('scrollbarDragStart', e);\n  },\n  onDragMove: function onDragMove(e) {\n    var swiper = this;\n    var scrollbar = swiper.scrollbar;\n    var $wrapperEl = swiper.$wrapperEl;\n    var $el = scrollbar.$el;\n    var $dragEl = scrollbar.$dragEl;\n\n    if (!swiper.scrollbar.isTouched) { return; }\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n    scrollbar.setDragPosition(e);\n    $wrapperEl.transition(0);\n    $el.transition(0);\n    $dragEl.transition(0);\n    swiper.emit('scrollbarDragMove', e);\n  },\n  onDragEnd: function onDragEnd(e) {\n    var swiper = this;\n\n    var params = swiper.params.scrollbar;\n    var scrollbar = swiper.scrollbar;\n    var $el = scrollbar.$el;\n\n    if (!swiper.scrollbar.isTouched) { return; }\n    swiper.scrollbar.isTouched = false;\n    if (params.hide) {\n      clearTimeout(swiper.scrollbar.dragTimeout);\n      swiper.scrollbar.dragTimeout = Utils.nextTick(function () {\n        $el.css('opacity', 0);\n        $el.transition(400);\n      }, 1000);\n    }\n    swiper.emit('scrollbarDragEnd', e);\n    if (params.snapOnRelease) {\n      swiper.slideReset();\n    }\n  },\n  enableDraggable: function enableDraggable() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el) { return; }\n    var scrollbar = swiper.scrollbar;\n    var $el = scrollbar.$el;\n    var target = Support.touch ? $el[0] : document;\n    $el.on(swiper.scrollbar.dragEvents.start, swiper.scrollbar.onDragStart);\n    $$1(target).on(swiper.scrollbar.dragEvents.move, swiper.scrollbar.onDragMove);\n    $$1(target).on(swiper.scrollbar.dragEvents.end, swiper.scrollbar.onDragEnd);\n  },\n  disableDraggable: function disableDraggable() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el) { return; }\n    var scrollbar = swiper.scrollbar;\n    var $el = scrollbar.$el;\n    var target = Support.touch ? $el[0] : document;\n    $el.off(swiper.scrollbar.dragEvents.start);\n    $$1(target).off(swiper.scrollbar.dragEvents.move);\n    $$1(target).off(swiper.scrollbar.dragEvents.end);\n  },\n  init: function init() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el) { return; }\n    var scrollbar = swiper.scrollbar;\n    var $swiperEl = swiper.$el;\n    var touchEvents = swiper.touchEvents;\n    var params = swiper.params.scrollbar;\n\n    var $el = $$1(params.el);\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n      $el = $swiperEl.find(params.el);\n    }\n\n    var $dragEl = $el.find('.swiper-scrollbar-drag');\n    if ($dragEl.length === 0) {\n      $dragEl = $$1('<div class=\"swiper-scrollbar-drag\"></div>');\n      $el.append($dragEl);\n    }\n\n    swiper.scrollbar.dragEvents = (function dragEvents() {\n      if ((swiper.params.simulateTouch === false && !Support.touch)) {\n        return {\n          start: 'mousedown',\n          move: 'mousemove',\n          end: 'mouseup',\n        };\n      }\n      return touchEvents;\n    }());\n\n    Utils.extend(scrollbar, {\n      $el: $el,\n      el: $el[0],\n      $dragEl: $dragEl,\n      dragEl: $dragEl[0],\n    });\n\n    if (params.draggable) {\n      scrollbar.enableDraggable();\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    swiper.scrollbar.disableDraggable();\n  },\n};\n\nvar Scrollbar$1 = {\n  name: 'scrollbar',\n  params: {\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n    },\n  },\n  create: function create() {\n    var swiper = this;\n    Utils.extend(swiper, {\n      scrollbar: {\n        init: Scrollbar.init.bind(swiper),\n        destroy: Scrollbar.destroy.bind(swiper),\n        updateSize: Scrollbar.updateSize.bind(swiper),\n        setTranslate: Scrollbar.setTranslate.bind(swiper),\n        setTransition: Scrollbar.setTransition.bind(swiper),\n        enableDraggable: Scrollbar.enableDraggable.bind(swiper),\n        disableDraggable: Scrollbar.disableDraggable.bind(swiper),\n        setDragPosition: Scrollbar.setDragPosition.bind(swiper),\n        onDragStart: Scrollbar.onDragStart.bind(swiper),\n        onDragMove: Scrollbar.onDragMove.bind(swiper),\n        onDragEnd: Scrollbar.onDragEnd.bind(swiper),\n        isTouched: false,\n        timeout: null,\n        dragTimeout: null,\n      },\n    });\n  },\n  on: {\n    init: function init() {\n      var swiper = this;\n      swiper.scrollbar.init();\n      swiper.scrollbar.updateSize();\n      swiper.scrollbar.setTranslate();\n    },\n    update: function update() {\n      var swiper = this;\n      swiper.scrollbar.updateSize();\n    },\n    resize: function resize() {\n      var swiper = this;\n      swiper.scrollbar.updateSize();\n    },\n    observerUpdate: function observerUpdate() {\n      var swiper = this;\n      swiper.scrollbar.updateSize();\n    },\n    setTranslate: function setTranslate() {\n      var swiper = this;\n      swiper.scrollbar.setTranslate();\n    },\n    setTransition: function setTransition(duration) {\n      var swiper = this;\n      swiper.scrollbar.setTransition(duration);\n    },\n    destroy: function destroy() {\n      var swiper = this;\n      swiper.scrollbar.destroy();\n    },\n  },\n};\n\nvar Parallax = {\n  setTransform: function setTransform(el, progress) {\n    var swiper = this;\n    var rtl = swiper.rtl;\n\n    var $el = $$1(el);\n    var rtlFactor = rtl ? -1 : 1;\n\n    var p = $el.attr('data-swiper-parallax') || '0';\n    var x = $el.attr('data-swiper-parallax-x');\n    var y = $el.attr('data-swiper-parallax-y');\n    var scale = $el.attr('data-swiper-parallax-scale');\n    var opacity = $el.attr('data-swiper-parallax-opacity');\n\n    if (x || y) {\n      x = x || '0';\n      y = y || '0';\n    } else if (swiper.isHorizontal()) {\n      x = p;\n      y = '0';\n    } else {\n      y = p;\n      x = '0';\n    }\n\n    if ((x).indexOf('%') >= 0) {\n      x = (parseInt(x, 10) * progress * rtlFactor) + \"%\";\n    } else {\n      x = (x * progress * rtlFactor) + \"px\";\n    }\n    if ((y).indexOf('%') >= 0) {\n      y = (parseInt(y, 10) * progress) + \"%\";\n    } else {\n      y = (y * progress) + \"px\";\n    }\n\n    if (typeof opacity !== 'undefined' && opacity !== null) {\n      var currentOpacity = opacity - ((opacity - 1) * (1 - Math.abs(progress)));\n      $el[0].style.opacity = currentOpacity;\n    }\n    if (typeof scale === 'undefined' || scale === null) {\n      $el.transform((\"translate3d(\" + x + \", \" + y + \", 0px)\"));\n    } else {\n      var currentScale = scale - ((scale - 1) * (1 - Math.abs(progress)));\n      $el.transform((\"translate3d(\" + x + \", \" + y + \", 0px) scale(\" + currentScale + \")\"));\n    }\n  },\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    var $el = swiper.$el;\n    var slides = swiper.slides;\n    var progress = swiper.progress;\n    var snapGrid = swiper.snapGrid;\n    $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]')\n      .each(function (index, el) {\n        swiper.parallax.setTransform(el, progress);\n      });\n    slides.each(function (slideIndex, slideEl) {\n      var slideProgress = slideEl.progress;\n      if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {\n        slideProgress += Math.ceil(slideIndex / 2) - (progress * (snapGrid.length - 1));\n      }\n      slideProgress = Math.min(Math.max(slideProgress, -1), 1);\n      $$1(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]')\n        .each(function (index, el) {\n          swiper.parallax.setTransform(el, slideProgress);\n        });\n    });\n  },\n  setTransition: function setTransition(duration) {\n    if ( duration === void 0 ) duration = this.params.speed;\n\n    var swiper = this;\n    var $el = swiper.$el;\n    $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]')\n      .each(function (index, parallaxEl) {\n        var $parallaxEl = $$1(parallaxEl);\n        var parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;\n        if (duration === 0) { parallaxDuration = 0; }\n        $parallaxEl.transition(parallaxDuration);\n      });\n  },\n};\n\nvar Parallax$1 = {\n  name: 'parallax',\n  params: {\n    parallax: {\n      enabled: false,\n    },\n  },\n  create: function create() {\n    var swiper = this;\n    Utils.extend(swiper, {\n      parallax: {\n        setTransform: Parallax.setTransform.bind(swiper),\n        setTranslate: Parallax.setTranslate.bind(swiper),\n        setTransition: Parallax.setTransition.bind(swiper),\n      },\n    });\n  },\n  on: {\n    beforeInit: function beforeInit() {\n      var swiper = this;\n      swiper.params.watchSlidesProgress = true;\n    },\n    init: function init() {\n      var swiper = this;\n      if (!swiper.params.parallax) { return; }\n      swiper.parallax.setTranslate();\n    },\n    setTranslate: function setTranslate() {\n      var swiper = this;\n      if (!swiper.params.parallax) { return; }\n      swiper.parallax.setTranslate();\n    },\n    setTransition: function setTransition(duration) {\n      var swiper = this;\n      if (!swiper.params.parallax) { return; }\n      swiper.parallax.setTransition(duration);\n    },\n  },\n};\n\nvar Zoom = {\n  // Calc Scale From Multi-touches\n  getDistanceBetweenTouches: function getDistanceBetweenTouches(e) {\n    if (e.targetTouches.length < 2) { return 1; }\n    var x1 = e.targetTouches[0].pageX;\n    var y1 = e.targetTouches[0].pageY;\n    var x2 = e.targetTouches[1].pageX;\n    var y2 = e.targetTouches[1].pageY;\n    var distance = Math.sqrt((Math.pow( (x2 - x1), 2 )) + (Math.pow( (y2 - y1), 2 )));\n    return distance;\n  },\n  // Events\n  onGestureStart: function onGestureStart(e) {\n    var swiper = this;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n    zoom.fakeGestureTouched = false;\n    zoom.fakeGestureMoved = false;\n    if (!Support.gestures) {\n      if (e.type !== 'touchstart' || (e.type === 'touchstart' && e.targetTouches.length < 2)) {\n        return;\n      }\n      zoom.fakeGestureTouched = true;\n      gesture.scaleStart = Zoom.getDistanceBetweenTouches(e);\n    }\n    if (!gesture.$slideEl || !gesture.$slideEl.length) {\n      gesture.$slideEl = $$1(this);\n      if (gesture.$slideEl.length === 0) { gesture.$slideEl = swiper.slides.eq(swiper.activeIndex); }\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas');\n      gesture.$imageWrapEl = gesture.$imageEl.parent((\".\" + (params.containerClass)));\n      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n      if (gesture.$imageWrapEl.length === 0) {\n        gesture.$imageEl = undefined;\n        return;\n      }\n    }\n    gesture.$imageEl.transition(0);\n    swiper.zoom.isScaling = true;\n  },\n  onGestureChange: function onGestureChange(e) {\n    var swiper = this;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n    if (!Support.gestures) {\n      if (e.type !== 'touchmove' || (e.type === 'touchmove' && e.targetTouches.length < 2)) {\n        return;\n      }\n      zoom.fakeGestureMoved = true;\n      gesture.scaleMove = Zoom.getDistanceBetweenTouches(e);\n    }\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) { return; }\n    if (Support.gestures) {\n      swiper.zoom.scale = e.scale * zoom.currentScale;\n    } else {\n      zoom.scale = (gesture.scaleMove / gesture.scaleStart) * zoom.currentScale;\n    }\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = (gesture.maxRatio - 1) + (Math.pow( ((zoom.scale - gesture.maxRatio) + 1), 0.5 ));\n    }\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = (params.minRatio + 1) - (Math.pow( ((params.minRatio - zoom.scale) + 1), 0.5 ));\n    }\n    gesture.$imageEl.transform((\"translate3d(0,0,0) scale(\" + (zoom.scale) + \")\"));\n  },\n  onGestureEnd: function onGestureEnd(e) {\n    var swiper = this;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n    if (!Support.gestures) {\n      if (!zoom.fakeGestureTouched || !zoom.fakeGestureMoved) {\n        return;\n      }\n      if (e.type !== 'touchend' || (e.type === 'touchend' && e.changedTouches.length < 2 && !Device.android)) {\n        return;\n      }\n      zoom.fakeGestureTouched = false;\n      zoom.fakeGestureMoved = false;\n    }\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) { return; }\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.$imageEl.transition(swiper.params.speed).transform((\"translate3d(0,0,0) scale(\" + (zoom.scale) + \")\"));\n    zoom.currentScale = zoom.scale;\n    zoom.isScaling = false;\n    if (zoom.scale === 1) { gesture.$slideEl = undefined; }\n  },\n  onTouchStart: function onTouchStart(e) {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n    var image = zoom.image;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) { return; }\n    if (image.isTouched) { return; }\n    if (Device.android) { e.preventDefault(); }\n    image.isTouched = true;\n    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  },\n  onTouchMove: function onTouchMove(e) {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n    var image = zoom.image;\n    var velocity = zoom.velocity;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) { return; }\n    swiper.allowClick = false;\n    if (!image.isTouched || !gesture.$slideEl) { return; }\n\n    if (!image.isMoved) {\n      image.width = gesture.$imageEl[0].offsetWidth;\n      image.height = gesture.$imageEl[0].offsetHeight;\n      image.startX = Utils.getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n      image.startY = Utils.getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n      gesture.$imageWrapEl.transition(0);\n      if (swiper.rtl) { image.startX = -image.startX; }\n      if (swiper.rtl) { image.startY = -image.startY; }\n    }\n    // Define if we need image drag\n    var scaledWidth = image.width * zoom.scale;\n    var scaledHeight = image.height * zoom.scale;\n\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) { return; }\n\n    image.minX = Math.min(((gesture.slideWidth / 2) - (scaledWidth / 2)), 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(((gesture.slideHeight / 2) - (scaledHeight / 2)), 0);\n    image.maxY = -image.minY;\n\n    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    if (!image.isMoved && !zoom.isScaling) {\n      if (\n        swiper.isHorizontal() &&\n        (\n          (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x) ||\n          (Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)\n        )\n      ) {\n        image.isTouched = false;\n        return;\n      } else if (\n        !swiper.isHorizontal() &&\n        (\n          (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y) ||\n          (Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)\n        )\n      ) {\n        image.isTouched = false;\n        return;\n      }\n    }\n    e.preventDefault();\n    e.stopPropagation();\n\n    image.isMoved = true;\n    image.currentX = (image.touchesCurrent.x - image.touchesStart.x) + image.startX;\n    image.currentY = (image.touchesCurrent.y - image.touchesStart.y) + image.startY;\n\n    if (image.currentX < image.minX) {\n      image.currentX = (image.minX + 1) - (Math.pow( ((image.minX - image.currentX) + 1), 0.8 ));\n    }\n    if (image.currentX > image.maxX) {\n      image.currentX = (image.maxX - 1) + (Math.pow( ((image.currentX - image.maxX) + 1), 0.8 ));\n    }\n\n    if (image.currentY < image.minY) {\n      image.currentY = (image.minY + 1) - (Math.pow( ((image.minY - image.currentY) + 1), 0.8 ));\n    }\n    if (image.currentY > image.maxY) {\n      image.currentY = (image.maxY - 1) + (Math.pow( ((image.currentY - image.maxY) + 1), 0.8 ));\n    }\n\n    // Velocity\n    if (!velocity.prevPositionX) { velocity.prevPositionX = image.touchesCurrent.x; }\n    if (!velocity.prevPositionY) { velocity.prevPositionY = image.touchesCurrent.y; }\n    if (!velocity.prevTime) { velocity.prevTime = Date.now(); }\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) { velocity.x = 0; }\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) { velocity.y = 0; }\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n\n    gesture.$imageWrapEl.transform((\"translate3d(\" + (image.currentX) + \"px, \" + (image.currentY) + \"px,0)\"));\n  },\n  onTouchEnd: function onTouchEnd() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n    var image = zoom.image;\n    var velocity = zoom.velocity;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) { return; }\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n    image.isTouched = false;\n    image.isMoved = false;\n    var momentumDurationX = 300;\n    var momentumDurationY = 300;\n    var momentumDistanceX = velocity.x * momentumDurationX;\n    var newPositionX = image.currentX + momentumDistanceX;\n    var momentumDistanceY = velocity.y * momentumDurationY;\n    var newPositionY = image.currentY + momentumDistanceY;\n\n    // Fix duration\n    if (velocity.x !== 0) { momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x); }\n    if (velocity.y !== 0) { momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y); }\n    var momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n\n    image.currentX = newPositionX;\n    image.currentY = newPositionY;\n\n    // Define if we need image drag\n    var scaledWidth = image.width * zoom.scale;\n    var scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(((gesture.slideWidth / 2) - (scaledWidth / 2)), 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(((gesture.slideHeight / 2) - (scaledHeight / 2)), 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n\n    gesture.$imageWrapEl.transition(momentumDuration).transform((\"translate3d(\" + (image.currentX) + \"px, \" + (image.currentY) + \"px,0)\"));\n  },\n  onTransitionEnd: function onTransitionEnd() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n      gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n      gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n      gesture.$slideEl = undefined;\n      gesture.$imageEl = undefined;\n      gesture.$imageWrapEl = undefined;\n\n      zoom.scale = 1;\n      zoom.currentScale = 1;\n    }\n  },\n  // Toggle Zoom\n  toggle: function toggle(e) {\n    var swiper = this;\n    var zoom = swiper.zoom;\n\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoom.out();\n    } else {\n      // Zoom In\n      zoom.in(e);\n    }\n  },\n  in: function in$1(e) {\n    var swiper = this;\n\n    var zoom = swiper.zoom;\n    var params = swiper.params.zoom;\n    var gesture = zoom.gesture;\n    var image = zoom.image;\n\n    if (!gesture.$slideEl) {\n      gesture.$slideEl = swiper.clickedSlide ? $$1(swiper.clickedSlide) : swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas');\n      gesture.$imageWrapEl = gesture.$imageEl.parent((\".\" + (params.containerClass)));\n    }\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) { return; }\n\n    gesture.$slideEl.addClass((\"\" + (params.zoomedSlideClass)));\n\n    var touchX;\n    var touchY;\n    var offsetX;\n    var offsetY;\n    var diffX;\n    var diffY;\n    var translateX;\n    var translateY;\n    var imageWidth;\n    var imageHeight;\n    var scaledWidth;\n    var scaledHeight;\n    var translateMinX;\n    var translateMinY;\n    var translateMaxX;\n    var translateMaxY;\n    var slideWidth;\n    var slideHeight;\n\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n\n    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    zoom.currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    if (e) {\n      slideWidth = gesture.$slideEl[0].offsetWidth;\n      slideHeight = gesture.$slideEl[0].offsetHeight;\n      offsetX = gesture.$slideEl.offset().left;\n      offsetY = gesture.$slideEl.offset().top;\n      diffX = (offsetX + (slideWidth / 2)) - touchX;\n      diffY = (offsetY + (slideHeight / 2)) - touchY;\n\n      imageWidth = gesture.$imageEl[0].offsetWidth;\n      imageHeight = gesture.$imageEl[0].offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n\n      translateMinX = Math.min(((slideWidth / 2) - (scaledWidth / 2)), 0);\n      translateMinY = Math.min(((slideHeight / 2) - (scaledHeight / 2)), 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n    gesture.$imageWrapEl.transition(300).transform((\"translate3d(\" + translateX + \"px, \" + translateY + \"px,0)\"));\n    gesture.$imageEl.transition(300).transform((\"translate3d(0,0,0) scale(\" + (zoom.scale) + \")\"));\n  },\n  out: function out() {\n    var swiper = this;\n\n    var zoom = swiper.zoom;\n    var params = swiper.params.zoom;\n    var gesture = zoom.gesture;\n\n    if (!gesture.$slideEl) {\n      gesture.$slideEl = swiper.clickedSlide ? $$1(swiper.clickedSlide) : swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas');\n      gesture.$imageWrapEl = gesture.$imageEl.parent((\".\" + (params.containerClass)));\n    }\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) { return; }\n\n    zoom.scale = 1;\n    zoom.currentScale = 1;\n    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n    gesture.$slideEl.removeClass((\"\" + (params.zoomedSlideClass)));\n    gesture.$slideEl = undefined;\n  },\n  // Attach/Detach Events\n  enable: function enable() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    if (zoom.enabled) { return; }\n    zoom.enabled = true;\n\n    var slides = swiper.slides;\n\n    var passiveListener = swiper.touchEvents.start === 'touchstart' && Support.passiveListener && swiper.params.passiveListeners ? { passive: true, capture: false } : false;\n\n    // Scale image\n    if (Support.gestures) {\n      slides.on('gesturestart', zoom.onGestureStart, passiveListener);\n      slides.on('gesturechange', zoom.onGestureChange, passiveListener);\n      slides.on('gestureend', zoom.onGestureEnd, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      slides.on(swiper.touchEvents.start, zoom.onGestureStart, passiveListener);\n      slides.on(swiper.touchEvents.move, zoom.onGestureChange, passiveListener);\n      slides.on(swiper.touchEvents.end, zoom.onGestureEnd, passiveListener);\n    }\n\n    // Move image\n    swiper.slides.each(function (index, slideEl) {\n      var $slideEl = $$1(slideEl);\n      if ($slideEl.find((\".\" + (swiper.params.zoom.containerClass))).length > 0) {\n        $slideEl.on(swiper.touchEvents.move, zoom.onTouchMove);\n      }\n    });\n  },\n  disable: function disable() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    if (!zoom.enabled) { return; }\n\n    swiper.zoom.enabled = false;\n\n    var slides = swiper.slides;\n\n    var passiveListener = swiper.touchEvents.start === 'touchstart' && Support.passiveListener && swiper.params.passiveListeners ? { passive: true, capture: false } : false;\n\n    // Scale image\n    if (Support.gestures) {\n      slides.off('gesturestart', zoom.onGestureStart, passiveListener);\n      slides.off('gesturechange', zoom.onGestureChange, passiveListener);\n      slides.off('gestureend', zoom.onGestureEnd, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      slides.off(swiper.touchEvents.start, zoom.onGestureStart, passiveListener);\n      slides.off(swiper.touchEvents.move, zoom.onGestureChange, passiveListener);\n      slides.off(swiper.touchEvents.end, zoom.onGestureEnd, passiveListener);\n    }\n\n    // Move image\n    swiper.slides.each(function (index, slideEl) {\n      var $slideEl = $$1(slideEl);\n      if ($slideEl.find((\".\" + (swiper.params.zoom.containerClass))).length > 0) {\n        $slideEl.off(swiper.touchEvents.move, zoom.onTouchMove);\n      }\n    });\n  },\n};\n\nvar Zoom$1 = {\n  name: 'zoom',\n  params: {\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed',\n    },\n  },\n  create: function create() {\n    var swiper = this;\n    var zoom = {\n      enabled: false,\n      scale: 1,\n      currentScale: 1,\n      isScaling: false,\n      gesture: {\n        $slideEl: undefined,\n        slideWidth: undefined,\n        slideHeight: undefined,\n        $imageEl: undefined,\n        $imageWrapEl: undefined,\n        maxRatio: 3,\n      },\n      image: {\n        isTouched: undefined,\n        isMoved: undefined,\n        currentX: undefined,\n        currentY: undefined,\n        minX: undefined,\n        minY: undefined,\n        maxX: undefined,\n        maxY: undefined,\n        width: undefined,\n        height: undefined,\n        startX: undefined,\n        startY: undefined,\n        touchesStart: {},\n        touchesCurrent: {},\n      },\n      velocity: {\n        x: undefined,\n        y: undefined,\n        prevPositionX: undefined,\n        prevPositionY: undefined,\n        prevTime: undefined,\n      },\n    };\n    ('onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out').split(' ').forEach(function (methodName) {\n      zoom[methodName] = Zoom[methodName].bind(swiper);\n    });\n    Utils.extend(swiper, {\n      zoom: zoom,\n    });\n  },\n  on: {\n    init: function init() {\n      var swiper = this;\n      if (swiper.params.zoom.enabled) {\n        swiper.zoom.enable();\n      }\n    },\n    destroy: function destroy() {\n      var swiper = this;\n      swiper.zoom.disable();\n    },\n    touchStart: function touchStart(e) {\n      var swiper = this;\n      if (!swiper.zoom.enabled) { return; }\n      swiper.zoom.onTouchStart(e);\n    },\n    touchEnd: function touchEnd(e) {\n      var swiper = this;\n      if (!swiper.zoom.enabled) { return; }\n      swiper.zoom.onTouchEnd(e);\n    },\n    doubleTap: function doubleTap(e) {\n      var swiper = this;\n      if (swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n        swiper.zoom.toggle(e);\n      }\n    },\n    transitionEnd: function transitionEnd() {\n      var swiper = this;\n      if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n        swiper.zoom.onTransitionEnd();\n      }\n    },\n  },\n};\n\nvar Lazy = {\n  loadInSlide: function loadInSlide(index, loadInDuplicate) {\n    if ( loadInDuplicate === void 0 ) loadInDuplicate = true;\n\n    var swiper = this;\n    var params = swiper.params.lazy;\n    if (typeof index === 'undefined') { return; }\n    if (swiper.slides.length === 0) { return; }\n    var isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n    var $slideEl = isVirtual\n      ? swiper.$wrapperEl.children((\".\" + (swiper.params.slideClass) + \"[data-swiper-slide-index=\\\"\" + index + \"\\\"]\"))\n      : swiper.slides.eq(index);\n\n    var $images = $slideEl.find((\".\" + (params.elementClass) + \":not(.\" + (params.loadedClass) + \"):not(.\" + (params.loadingClass) + \")\"));\n    if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {\n      $images = $images.add($slideEl[0]);\n    }\n    if ($images.length === 0) { return; }\n\n    $images.each(function (imageIndex, imageEl) {\n      var $imageEl = $$1(imageEl);\n      $imageEl.addClass(params.loadingClass);\n\n      var background = $imageEl.attr('data-background');\n      var src = $imageEl.attr('data-src');\n      var srcset = $imageEl.attr('data-srcset');\n      var sizes = $imageEl.attr('data-sizes');\n\n      swiper.loadImage($imageEl[0], (src || background), srcset, sizes, false, function () {\n        if (typeof swiper === 'undefined' || swiper === null || !swiper || (swiper && !swiper.params) || swiper.destroyed) { return; }\n        if (background) {\n          $imageEl.css('background-image', (\"url(\\\"\" + background + \"\\\")\"));\n          $imageEl.removeAttr('data-background');\n        } else {\n          if (srcset) {\n            $imageEl.attr('srcset', srcset);\n            $imageEl.removeAttr('data-srcset');\n          }\n          if (sizes) {\n            $imageEl.attr('sizes', sizes);\n            $imageEl.removeAttr('data-sizes');\n          }\n          if (src) {\n            $imageEl.attr('src', src);\n            $imageEl.removeAttr('data-src');\n          }\n        }\n\n        $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);\n        $slideEl.find((\".\" + (params.preloaderClass))).remove();\n        if (swiper.params.loop && loadInDuplicate) {\n          var slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');\n          if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {\n            var originalSlide = swiper.$wrapperEl.children((\"[data-swiper-slide-index=\\\"\" + slideOriginalIndex + \"\\\"]:not(.\" + (swiper.params.slideDuplicateClass) + \")\"));\n            swiper.lazy.loadInSlide(originalSlide.index(), false);\n          } else {\n            var duplicatedSlide = swiper.$wrapperEl.children((\".\" + (swiper.params.slideDuplicateClass) + \"[data-swiper-slide-index=\\\"\" + slideOriginalIndex + \"\\\"]\"));\n            swiper.lazy.loadInSlide(duplicatedSlide.index(), false);\n          }\n        }\n        swiper.emit('lazyImageReady', $slideEl[0], $imageEl[0]);\n      });\n\n      swiper.emit('lazyImageLoad', $slideEl[0], $imageEl[0]);\n    });\n  },\n  load: function load() {\n    var swiper = this;\n    var $wrapperEl = swiper.$wrapperEl;\n    var swiperParams = swiper.params;\n    var slides = swiper.slides;\n    var activeIndex = swiper.activeIndex;\n    var isVirtual = swiper.virtual && swiperParams.virtual.enabled;\n    var params = swiperParams.lazy;\n\n    var slidesPerView = swiperParams.slidesPerView;\n    if (slidesPerView === 'auto') {\n      slidesPerView = 0;\n    }\n\n    function slideExist(index) {\n      if (isVirtual) {\n        if ($wrapperEl.children((\".\" + (swiperParams.slideClass) + \"[data-swiper-slide-index=\\\"\" + index + \"\\\"]\")).length) {\n          return true;\n        }\n      } else if (slides[index]) { return true; }\n      return false;\n    }\n    function slideIndex(slideEl) {\n      if (isVirtual) {\n        return $$1(slideEl).attr('data-swiper-slide-index');\n      }\n      return $$1(slideEl).index();\n    }\n\n    if (!swiper.lazy.initialImageLoaded) { swiper.lazy.initialImageLoaded = true; }\n    if (swiper.params.watchSlidesVisibility) {\n      $wrapperEl.children((\".\" + (swiperParams.slideVisibleClass))).each(function (elIndex, slideEl) {\n        var index = isVirtual ? $$1(slideEl).attr('data-swiper-slide-index') : $$1(slideEl).index();\n        swiper.lazy.loadInSlide(index);\n      });\n    } else if (slidesPerView > 1) {\n      for (var i = activeIndex; i < activeIndex + slidesPerView; i += 1) {\n        if (slideExist(i)) { swiper.lazy.loadInSlide(i); }\n      }\n    } else {\n      swiper.lazy.loadInSlide(activeIndex);\n    }\n    if (params.loadPrevNext) {\n      if (slidesPerView > 1 || (params.loadPrevNextAmount && params.loadPrevNextAmount > 1)) {\n        var amount = params.loadPrevNextAmount;\n        var spv = slidesPerView;\n        var maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);\n        var minIndex = Math.max(activeIndex - Math.max(spv, amount), 0);\n        // Next Slides\n        for (var i$1 = activeIndex + slidesPerView; i$1 < maxIndex; i$1 += 1) {\n          if (slideExist(i$1)) { swiper.lazy.loadInSlide(i$1); }\n        }\n        // Prev Slides\n        for (var i$2 = minIndex; i$2 < activeIndex; i$2 += 1) {\n          if (slideExist(i$2)) { swiper.lazy.loadInSlide(i$2); }\n        }\n      } else {\n        var nextSlide = $wrapperEl.children((\".\" + (swiperParams.slideNextClass)));\n        if (nextSlide.length > 0) { swiper.lazy.loadInSlide(slideIndex(nextSlide)); }\n\n        var prevSlide = $wrapperEl.children((\".\" + (swiperParams.slidePrevClass)));\n        if (prevSlide.length > 0) { swiper.lazy.loadInSlide(slideIndex(prevSlide)); }\n      }\n    }\n  },\n};\n\nvar Lazy$1 = {\n  name: 'lazy',\n  params: {\n    lazy: {\n      enabled: false,\n      loadPrevNext: false,\n      loadPrevNextAmount: 1,\n      loadOnTransitionStart: false,\n\n      elementClass: 'swiper-lazy',\n      loadingClass: 'swiper-lazy-loading',\n      loadedClass: 'swiper-lazy-loaded',\n      preloaderClass: 'swiper-lazy-preloader',\n    },\n  },\n  create: function create() {\n    var swiper = this;\n    Utils.extend(swiper, {\n      lazy: {\n        initialImageLoaded: false,\n        load: Lazy.load.bind(swiper),\n        loadInSlide: Lazy.loadInSlide.bind(swiper),\n      },\n    });\n  },\n  on: {\n    beforeInit: function beforeInit() {\n      var swiper = this;\n      if (swiper.params.lazy.enabled && swiper.params.preloadImages) {\n        swiper.params.preloadImages = false;\n      }\n    },\n    init: function init() {\n      var swiper = this;\n      if (swiper.params.lazy.enabled && !swiper.params.loop && swiper.params.initialSlide === 0) {\n        swiper.lazy.load();\n      }\n    },\n    scroll: function scroll() {\n      var swiper = this;\n      if (swiper.params.freeMode && !swiper.params.freeModeSticky) {\n        swiper.lazy.load();\n      }\n    },\n    resize: function resize() {\n      var swiper = this;\n      if (swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n    },\n    scrollbarDragMove: function scrollbarDragMove() {\n      var swiper = this;\n      if (swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n    },\n    transitionStart: function transitionStart() {\n      var swiper = this;\n      if (swiper.params.lazy.enabled) {\n        if (swiper.params.lazy.loadOnTransitionStart || (!swiper.params.lazy.loadOnTransitionStart && !swiper.lazy.initialImageLoaded)) {\n          swiper.lazy.load();\n        }\n      }\n    },\n    transitionEnd: function transitionEnd() {\n      var swiper = this;\n      if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {\n        swiper.lazy.load();\n      }\n    },\n  },\n};\n\n/* eslint no-bitwise: [\"error\", { \"allow\": [\">>\"] }] */\nvar Controller = {\n  LinearSpline: function LinearSpline(x, y) {\n    var binarySearch = (function search() {\n      var maxIndex;\n      var minIndex;\n      var guess;\n      return function (array, val) {\n        minIndex = -1;\n        maxIndex = array.length;\n        while (maxIndex - minIndex > 1) {\n          guess = maxIndex + minIndex >> 1;\n          if (array[guess] <= val) {\n            minIndex = guess;\n          } else {\n            maxIndex = guess;\n          }\n        }\n        return maxIndex;\n      };\n    }());\n    this.x = x;\n    this.y = y;\n    this.lastIndex = x.length - 1;\n    // Given an x value (x2), return the expected y2 value:\n    // (x1,y1) is the known point before given value,\n    // (x3,y3) is the known point after given value.\n    var i1;\n    var i3;\n\n    this.interpolate = function interpolate(x2) {\n      if (!x2) { return 0; }\n\n      // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n      i3 = binarySearch(this.x, x2);\n      i1 = i3 - 1;\n\n      // We have our indexes i1 & i3, so we can calculate already:\n      // y2 := ((x2x1)  (y3y1))  (x3x1) + y1\n      return (((x2 - this.x[i1]) * (this.y[i3] - this.y[i1])) / (this.x[i3] - this.x[i1])) + this.y[i1];\n    };\n    return this;\n  },\n  // xxx: for now i will just save one spline function to to\n  getInterpolateFunction: function getInterpolateFunction(c) {\n    var swiper = this;\n    if (!swiper.controller.spline) {\n      swiper.controller.spline = swiper.params.loop ?\n        new Controller.LinearSpline(swiper.slidesGrid, c.slidesGrid) :\n        new Controller.LinearSpline(swiper.snapGrid, c.snapGrid);\n    }\n  },\n  setTranslate: function setTranslate(setTranslate$1, byController) {\n    var swiper = this;\n    var controlled = swiper.controller.control;\n    var multiplier;\n    var controlledTranslate;\n    function setControlledTranslate(c) {\n      // this will create an Interpolate function based on the snapGrids\n      // x is the Grid of the scrolled scroller and y will be the controlled scroller\n      // it makes sense to create this only once and recall it for the interpolation\n      // the function does a lot of value caching for performance\n      var translate = c.rtl && c.params.direction === 'horizontal' ? -swiper.translate : swiper.translate;\n      if (swiper.params.controller.by === 'slide') {\n        swiper.controller.getInterpolateFunction(c);\n        // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n        // but it did not work out\n        controlledTranslate = -swiper.controller.spline.interpolate(-translate);\n      }\n\n      if (!controlledTranslate || swiper.params.controller.by === 'container') {\n        multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());\n        controlledTranslate = ((translate - swiper.minTranslate()) * multiplier) + c.minTranslate();\n      }\n\n      if (swiper.params.controller.inverse) {\n        controlledTranslate = c.maxTranslate() - controlledTranslate;\n      }\n      c.updateProgress(controlledTranslate);\n      c.setTranslate(controlledTranslate, swiper);\n      c.updateActiveIndex();\n      c.updateSlidesClasses();\n    }\n    if (Array.isArray(controlled)) {\n      for (var i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper$1) {\n          setControlledTranslate(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper$1 && byController !== controlled) {\n      setControlledTranslate(controlled);\n    }\n  },\n  setTransition: function setTransition(duration, byController) {\n    var swiper = this;\n    var controlled = swiper.controller.control;\n    var i;\n    function setControlledTransition(c) {\n      c.setTransition(duration, swiper);\n      if (duration !== 0) {\n        c.transitionStart();\n        c.$wrapperEl.transitionEnd(function () {\n          if (!controlled) { return; }\n          if (c.params.loop && swiper.params.controller.by === 'slide') {\n            c.loopFix();\n          }\n          c.transitionEnd();\n        });\n      }\n    }\n    if (Array.isArray(controlled)) {\n      for (i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper$1) {\n          setControlledTransition(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper$1 && byController !== controlled) {\n      setControlledTransition(controlled);\n    }\n  },\n};\nvar Controller$1 = {\n  name: 'controller',\n  params: {\n    controller: {\n      control: undefined,\n      inverse: false,\n      by: 'slide', // or 'container'\n    },\n  },\n  create: function create() {\n    var swiper = this;\n    Utils.extend(swiper, {\n      controller: {\n        control: swiper.params.controller.control,\n        getInterpolateFunction: Controller.getInterpolateFunction.bind(swiper),\n        setTranslate: Controller.setTranslate.bind(swiper),\n        setTransition: Controller.setTransition.bind(swiper),\n      },\n    });\n  },\n  on: {\n    update: function update() {\n      var swiper = this;\n      if (!swiper.controller.control) { return; }\n      if (swiper.controller.spline) {\n        swiper.controller.spline = undefined;\n        delete swiper.controller.spline;\n      }\n    },\n    resize: function resize() {\n      var swiper = this;\n      if (!swiper.controller.control) { return; }\n      if (swiper.controller.spline) {\n        swiper.controller.spline = undefined;\n        delete swiper.controller.spline;\n      }\n    },\n    observerUpdate: function observerUpdate() {\n      var swiper = this;\n      if (!swiper.controller.control) { return; }\n      if (swiper.controller.spline) {\n        swiper.controller.spline = undefined;\n        delete swiper.controller.spline;\n      }\n    },\n    setTranslate: function setTranslate(translate, byController) {\n      var swiper = this;\n      if (!swiper.controller.control) { return; }\n      swiper.controller.setTranslate(translate, byController);\n    },\n    setTransition: function setTransition(duration, byController) {\n      var swiper = this;\n      if (!swiper.controller.control) { return; }\n      swiper.controller.setTransition(duration, byController);\n    },\n  },\n};\n\nvar a11y = {\n  makeElFocusable: function makeElFocusable($el) {\n    $el.attr('tabIndex', '0');\n    return $el;\n  },\n  addElRole: function addElRole($el, role) {\n    $el.attr('role', role);\n    return $el;\n  },\n  addElLabel: function addElLabel($el, label) {\n    $el.attr('aria-label', label);\n    return $el;\n  },\n  disableEl: function disableEl($el) {\n    $el.attr('aria-disabled', true);\n    return $el;\n  },\n  enableEl: function enableEl($el) {\n    $el.attr('aria-disabled', false);\n    return $el;\n  },\n  onEnterKey: function onEnterKey(e) {\n    var swiper = this;\n    var params = swiper.params.a11y;\n    if (e.keyCode !== 13) { return; }\n    var $targetEl = $$1(e.target);\n    if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {\n      if (!(swiper.isEnd && !swiper.params.loop)) {\n        swiper.slideNext();\n      }\n      if (swiper.isEnd) {\n        swiper.a11y.notify(params.lastSlideMessage);\n      } else {\n        swiper.a11y.notify(params.nextSlideMessage);\n      }\n    }\n    if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {\n      if (!(swiper.isBeginning && !swiper.params.loop)) {\n        swiper.slidePrev();\n      }\n      if (swiper.isBeginning) {\n        swiper.a11y.notify(params.firstSlideMessage);\n      } else {\n        swiper.a11y.notify(params.prevSlideMessage);\n      }\n    }\n    if (swiper.pagination && $targetEl.is((\".\" + (swiper.params.pagination.bulletClass)))) {\n      $targetEl[0].click();\n    }\n  },\n  notify: function notify(message) {\n    var swiper = this;\n    var notification = swiper.a11y.liveRegion;\n    if (notification.length === 0) { return; }\n    notification.html('');\n    notification.html(message);\n  },\n  updateNavigation: function updateNavigation() {\n    var swiper = this;\n\n    if (swiper.params.loop) { return; }\n    var ref = swiper.navigation;\n    var $nextEl = ref.$nextEl;\n    var $prevEl = ref.$prevEl;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        swiper.a11y.disableEl($prevEl);\n      } else {\n        swiper.a11y.enableEl($prevEl);\n      }\n    }\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        swiper.a11y.disableEl($nextEl);\n      } else {\n        swiper.a11y.enableEl($nextEl);\n      }\n    }\n  },\n  updatePagination: function updatePagination() {\n    var swiper = this;\n    var params = swiper.params.a11y;\n    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {\n      swiper.pagination.bullets.each(function (bulletIndex, bulletEl) {\n        var $bulletEl = $$1(bulletEl);\n        swiper.a11y.makeElFocusable($bulletEl);\n        swiper.a11y.addElRole($bulletEl, 'button');\n        swiper.a11y.addElLabel($bulletEl, params.paginationBulletMessage.replace(/{{index}}/, $bulletEl.index() + 1));\n      });\n    }\n  },\n  init: function init() {\n    var swiper = this;\n\n    swiper.$el.append(swiper.a11y.liveRegion);\n\n    // Navigation\n    var params = swiper.params.a11y;\n    var $nextEl;\n    var $prevEl;\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n    if ($nextEl) {\n      swiper.a11y.makeElFocusable($nextEl);\n      swiper.a11y.addElRole($nextEl, 'button');\n      swiper.a11y.addElLabel($nextEl, params.nextSlideMessage);\n      $nextEl.on('keydown', swiper.a11y.onEnterKey);\n    }\n    if ($prevEl) {\n      swiper.a11y.makeElFocusable($prevEl);\n      swiper.a11y.addElRole($prevEl, 'button');\n      swiper.a11y.addElLabel($prevEl, params.prevSlideMessage);\n      $prevEl.on('keydown', swiper.a11y.onEnterKey);\n    }\n\n    // Pagination\n    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {\n      swiper.pagination.$el.on('keydown', (\".\" + (swiper.params.pagination.bulletClass)), swiper.a11y.onEnterKey);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    if (swiper.a11y.liveRegion && swiper.a11y.liveRegion.length > 0) { swiper.a11y.liveRegion.remove(); }\n\n    var $nextEl;\n    var $prevEl;\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n    if ($nextEl) {\n      $nextEl.off('keydown', swiper.a11y.onEnterKey);\n    }\n    if ($prevEl) {\n      $prevEl.off('keydown', swiper.a11y.onEnterKey);\n    }\n\n    // Pagination\n    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {\n      swiper.pagination.$el.off('keydown', (\".\" + (swiper.params.pagination.bulletClass)), swiper.a11y.onEnterKey);\n    }\n  },\n};\nvar A11y = {\n  name: 'a11y',\n  params: {\n    a11y: {\n      enabled: false,\n      notificationClass: 'swiper-notification',\n      prevSlideMessage: 'Previous slide',\n      nextSlideMessage: 'Next slide',\n      firstSlideMessage: 'This is the first slide',\n      lastSlideMessage: 'This is the last slide',\n      paginationBulletMessage: 'Go to slide {{index}}',\n    },\n  },\n  create: function create() {\n    var swiper = this;\n    Utils.extend(swiper, {\n      a11y: {\n        liveRegion: $$1((\"<span class=\\\"\" + (swiper.params.a11y.notificationClass) + \"\\\" aria-live=\\\"assertive\\\" aria-atomic=\\\"true\\\"></span>\")),\n      },\n    });\n    Object.keys(a11y).forEach(function (methodName) {\n      swiper.a11y[methodName] = a11y[methodName].bind(swiper);\n    });\n  },\n  on: {\n    init: function init() {\n      var swiper = this;\n      if (!swiper.params.a11y.enabled) { return; }\n      swiper.a11y.init();\n      swiper.a11y.updateNavigation();\n    },\n    toEdge: function toEdge() {\n      var swiper = this;\n      if (!swiper.params.a11y.enabled) { return; }\n      swiper.a11y.updateNavigation();\n    },\n    fromEdge: function fromEdge() {\n      var swiper = this;\n      if (!swiper.params.a11y.enabled) { return; }\n      swiper.a11y.updateNavigation();\n    },\n    paginationUpdate: function paginationUpdate() {\n      var swiper = this;\n      if (!swiper.params.a11y.enabled) { return; }\n      swiper.a11y.updatePagination();\n    },\n    destroy: function destroy() {\n      var swiper = this;\n      if (!swiper.params.a11y.enabled) { return; }\n      swiper.a11y.destroy();\n    },\n  },\n};\n\nvar History = {\n  init: function init() {\n    var swiper = this;\n    if (!swiper.params.history) { return; }\n    if (!win.history || !win.history.pushState) {\n      swiper.params.history.enabled = false;\n      swiper.params.hashNavigation.enabled = true;\n      return;\n    }\n    var history = swiper.history;\n    history.initialized = true;\n    history.paths = History.getPathValues();\n    if (!history.paths.key && !history.paths.value) { return; }\n    history.scrollToSlide(0, history.paths.value, swiper.params.runCallbacksOnInit);\n    if (!swiper.params.history.replaceState) {\n      win.addEventListener('popstate', swiper.history.setHistoryPopState);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    if (!swiper.params.history.replaceState) {\n      win.removeEventListener('popstate', swiper.history.setHistoryPopState);\n    }\n  },\n  setHistoryPopState: function setHistoryPopState() {\n    var swiper = this;\n    swiper.history.paths = History.getPathValues();\n    swiper.history.scrollToSlide(swiper.params.speed, swiper.history.paths.value, false);\n  },\n  getPathValues: function getPathValues() {\n    var pathArray = win.location.pathname.slice(1).split('/').filter(function (part) { return part !== ''; });\n    var total = pathArray.length;\n    var key = pathArray[total - 2];\n    var value = pathArray[total - 1];\n    return { key: key, value: value };\n  },\n  setHistory: function setHistory(key, index) {\n    var swiper = this;\n    if (!swiper.history.initialized || !swiper.params.history.enabled) { return; }\n    var slide = swiper.slides.eq(index);\n    var value = History.slugify(slide.attr('data-history'));\n    if (!win.location.pathname.includes(key)) {\n      value = key + \"/\" + value;\n    }\n    var currentState = win.history.state;\n    if (currentState && currentState.value === value) {\n      return;\n    }\n    if (swiper.params.history.replaceState) {\n      win.history.replaceState({ value: value }, null, value);\n    } else {\n      win.history.pushState({ value: value }, null, value);\n    }\n  },\n  slugify: function slugify(text) {\n    return text.toString().toLowerCase()\n      .replace(/\\s+/g, '-')\n      .replace(/[^\\w-]+/g, '')\n      .replace(/--+/g, '-')\n      .replace(/^-+/, '')\n      .replace(/-+$/, '');\n  },\n  scrollToSlide: function scrollToSlide(speed, value, runCallbacks) {\n    var swiper = this;\n    if (value) {\n      for (var i = 0, length = swiper.slides.length; i < length; i += 1) {\n        var slide = swiper.slides.eq(i);\n        var slideHistory = History.slugify(slide.attr('data-history'));\n        if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          var index = slide.index();\n          swiper.slideTo(index, speed, runCallbacks);\n        }\n      }\n    } else {\n      swiper.slideTo(0, speed, runCallbacks);\n    }\n  },\n};\n\nvar History$1 = {\n  name: 'history',\n  params: {\n    history: {\n      enabled: false,\n      replaceState: false,\n      key: 'slides',\n    },\n  },\n  create: function create() {\n    var swiper = this;\n    Utils.extend(swiper, {\n      history: {\n        init: History.init.bind(swiper),\n        setHistory: History.setHistory.bind(swiper),\n        setHistoryPopState: History.setHistoryPopState.bind(swiper),\n        scrollToSlide: History.scrollToSlide.bind(swiper),\n        destroy: History.destroy.bind(swiper),\n      },\n    });\n  },\n  on: {\n    init: function init() {\n      var swiper = this;\n      if (swiper.params.history.enabled) {\n        swiper.history.init();\n      }\n    },\n    destroy: function destroy() {\n      var swiper = this;\n      if (swiper.params.history.enabled) {\n        swiper.history.destroy();\n      }\n    },\n    transitionEnd: function transitionEnd() {\n      var swiper = this;\n      if (swiper.history.initialized) {\n        swiper.history.setHistory(swiper.params.history.key, swiper.activeIndex);\n      }\n    },\n  },\n};\n\nvar HashNavigation = {\n  onHashCange: function onHashCange() {\n    var swiper = this;\n    var newHash = doc.location.hash.replace('#', '');\n    var activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');\n    if (newHash !== activeSlideHash) {\n      swiper.slideTo(swiper.$wrapperEl.children((\".\" + (swiper.params.slideClass) + \"[data-hash=\\\"\" + newHash + \"\\\"]\")).index());\n    }\n  },\n  setHash: function setHash() {\n    var swiper = this;\n    if (!swiper.hashNavigation.initialized || !swiper.params.hashNavigation.enabled) { return; }\n    if (swiper.params.hashNavigation.replaceState && win.history && win.history.replaceState) {\n      win.history.replaceState(null, null, ((\"#\" + (swiper.slides.eq(swiper.activeIndex).attr('data-hash'))) || ''));\n    } else {\n      var slide = swiper.slides.eq(swiper.activeIndex);\n      var hash = slide.attr('data-hash') || slide.attr('data-history');\n      doc.location.hash = hash || '';\n    }\n  },\n  init: function init() {\n    var swiper = this;\n    if (!swiper.params.hashNavigation.enabled || (swiper.params.history && swiper.params.history.enabled)) { return; }\n    swiper.hashNavigation.initialized = true;\n    var hash = doc.location.hash.replace('#', '');\n    if (hash) {\n      var speed = 0;\n      for (var i = 0, length = swiper.slides.length; i < length; i += 1) {\n        var slide = swiper.slides.eq(i);\n        var slideHash = slide.attr('data-hash') || slide.attr('data-history');\n        if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          var index = slide.index();\n          swiper.slideTo(index, speed, swiper.params.runCallbacksOnInit, true);\n        }\n      }\n    }\n    if (swiper.params.hashNavigation.watchState) {\n      $$1(win).on('hashchange', swiper.hashNavigation.onHashCange);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    if (swiper.params.hashNavigation.watchState) {\n      $$1(win).off('hashchange', swiper.hashNavigation.onHashCange);\n    }\n  },\n};\nvar HashNavigation$1 = {\n  name: 'hash-navigation',\n  params: {\n    hashNavigation: {\n      enabled: false,\n      replaceState: false,\n      watchState: false,\n    },\n  },\n  create: function create() {\n    var swiper = this;\n    Utils.extend(swiper, {\n      hashNavigation: {\n        initialized: false,\n        init: HashNavigation.init.bind(swiper),\n        destroy: HashNavigation.destroy.bind(swiper),\n        setHash: HashNavigation.setHash.bind(swiper),\n        onHashCange: HashNavigation.onHashCange.bind(swiper),\n      },\n    });\n  },\n  on: {\n    init: function init() {\n      var swiper = this;\n      if (swiper.params.hashNavigation.enabled) {\n        swiper.hashNavigation.init();\n      }\n    },\n    destroy: function destroy() {\n      var swiper = this;\n      if (swiper.params.hashNavigation.enabled) {\n        swiper.hashNavigation.destroy();\n      }\n    },\n    transitionEnd: function transitionEnd() {\n      var swiper = this;\n      if (swiper.hashNavigation.initialized) {\n        swiper.hashNavigation.setHash();\n      }\n    },\n  },\n};\n\nvar Autoplay = {\n  run: function run() {\n    var swiper = this;\n    var $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n    var delay = swiper.params.autoplay.delay;\n    if ($activeSlideEl.attr('data-swiper-autoplay')) {\n      delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n    }\n    swiper.autoplay.timeout = Utils.nextTick(function () {\n      if (swiper.params.autoplay.reverseDirection) {\n        if (swiper.params.loop) {\n          swiper.loopFix();\n          swiper.slidePrev(swiper.params.speed, true, true);\n          swiper.emit('autoplay');\n        } else if (!swiper.isBeginning) {\n          swiper.slidePrev(swiper.params.speed, true, true);\n          swiper.emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);\n          swiper.emit('autoplay');\n        } else {\n          swiper.autoplay.stop();\n        }\n      } else if (swiper.params.loop) {\n        swiper.loopFix();\n        swiper.slideNext(swiper.params.speed, true, true);\n        swiper.emit('autoplay');\n      } else if (!swiper.isEnd) {\n        swiper.slideNext(swiper.params.speed, true, true);\n        swiper.emit('autoplay');\n      } else if (!swiper.params.autoplay.stopOnLastSlide) {\n        swiper.slideTo(0, swiper.params.speed, true, true);\n        swiper.emit('autoplay');\n      } else {\n        swiper.autoplay.stop();\n      }\n    }, delay);\n  },\n  start: function start() {\n    var swiper = this;\n    if (typeof swiper.autoplay.timeout !== 'undefined') { return false; }\n    if (swiper.autoplay.running) { return false; }\n    swiper.autoplay.running = true;\n    swiper.emit('autoplayStart');\n    swiper.autoplay.run();\n    return true;\n  },\n  stop: function stop() {\n    var swiper = this;\n    if (!swiper.autoplay.running) { return false; }\n    if (typeof swiper.autoplay.timeout === 'undefined') { return false; }\n\n    if (swiper.autoplay.timeout) {\n      clearTimeout(swiper.autoplay.timeout);\n      swiper.autoplay.timeout = undefined;\n    }\n    swiper.autoplay.running = false;\n    swiper.emit('autoplayStop');\n    return true;\n  },\n  pause: function pause(speed) {\n    var swiper = this;\n    if (!swiper.autoplay.running) { return; }\n    if (swiper.autoplay.paused) { return; }\n    if (swiper.autoplay.timeout) { clearTimeout(swiper.autoplay.timeout); }\n    swiper.autoplay.paused = true;\n    if (speed === 0 || !swiper.params.autoplay.waitForTransition) {\n      swiper.autoplay.paused = false;\n      swiper.autoplay.run();\n    } else {\n      swiper.$wrapperEl.transitionEnd(function () {\n        if (!swiper || swiper.destroyed) { return; }\n        swiper.autoplay.paused = false;\n        if (!swiper.autoplay.running) {\n          swiper.autoplay.stop();\n        } else {\n          swiper.autoplay.run();\n        }\n      });\n    }\n  },\n};\n\nvar Autoplay$1 = {\n  name: 'autoplay',\n  params: {\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      waitForTransition: true,\n      disableOnInteraction: true,\n      stopOnLastSlide: false,\n      reverseDirection: false,\n    },\n  },\n  create: function create() {\n    var swiper = this;\n    Utils.extend(swiper, {\n      autoplay: {\n        running: false,\n        paused: false,\n        run: Autoplay.run.bind(swiper),\n        start: Autoplay.start.bind(swiper),\n        stop: Autoplay.stop.bind(swiper),\n        pause: Autoplay.pause.bind(swiper),\n      },\n    });\n  },\n  on: {\n    init: function init() {\n      var swiper = this;\n      if (swiper.params.autoplay.enabled) {\n        swiper.autoplay.start();\n      }\n    },\n    beforeTransitionStart: function beforeTransitionStart(speed, internal) {\n      var swiper = this;\n      if (swiper.autoplay.running) {\n        if (internal || !swiper.params.autoplay.disableOnInteraction) {\n          swiper.autoplay.pause(speed);\n        } else {\n          swiper.autoplay.stop();\n        }\n      }\n    },\n    sliderFirstMove: function sliderFirstMove() {\n      var swiper = this;\n      if (swiper.autoplay.running) {\n        if (swiper.params.autoplay.disableOnInteraction) {\n          swiper.autoplay.stop();\n        } else {\n          swiper.autoplay.pause();\n        }\n      }\n    },\n    destroy: function destroy() {\n      var swiper = this;\n      if (swiper.autoplay.running) {\n        swiper.autoplay.stop();\n      }\n    },\n  },\n};\n\nvar Fade = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    var slides = swiper.slides;\n    for (var i = 0; i < slides.length; i += 1) {\n      var $slideEl = swiper.slides.eq(i);\n      var offset = $slideEl[0].swiperSlideOffset;\n      var tx = -offset;\n      if (!swiper.params.virtualTranslate) { tx -= swiper.translate; }\n      var ty = 0;\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n      }\n      var slideOpacity = swiper.params.fadeEffect.crossFade ?\n        Math.max(1 - Math.abs($slideEl[0].progress), 0) :\n        1 + Math.min(Math.max($slideEl[0].progress, -1), 0);\n      $slideEl\n        .css({\n          opacity: slideOpacity,\n        })\n        .transform((\"translate3d(\" + tx + \"px, \" + ty + \"px, 0px)\"));\n    }\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    var slides = swiper.slides;\n    var $wrapperEl = swiper.$wrapperEl;\n    slides.transition(duration);\n    if (swiper.params.virtualTranslate && duration !== 0) {\n      var eventTriggered = false;\n      slides.transitionEnd(function () {\n        if (eventTriggered) { return; }\n        if (!swiper || swiper.destroyed) { return; }\n        eventTriggered = true;\n        swiper.animating = false;\n        var triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n        for (var i = 0; i < triggerEvents.length; i += 1) {\n          $wrapperEl.trigger(triggerEvents[i]);\n        }\n      });\n    }\n  },\n};\n\nvar EffectFade = {\n  name: 'effect-fade',\n  params: {\n    fadeEffect: {\n      crossFade: false,\n    },\n  },\n  create: function create() {\n    var swiper = this;\n    Utils.extend(swiper, {\n      fadeEffect: {\n        setTranslate: Fade.setTranslate.bind(swiper),\n        setTransition: Fade.setTransition.bind(swiper),\n      },\n    });\n  },\n  on: {\n    beforeInit: function beforeInit() {\n      var swiper = this;\n      if (swiper.params.effect !== 'fade') { return; }\n      swiper.classNames.push(((swiper.params.containerModifierClass) + \"fade\"));\n      var overwriteParams = {\n        slidesPerView: 1,\n        slidesPerColumn: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        spaceBetween: 0,\n        virtualTranslate: true,\n      };\n      Utils.extend(swiper.params, overwriteParams);\n      Utils.extend(swiper.originalParams, overwriteParams);\n    },\n    setTranslate: function setTranslate() {\n      var swiper = this;\n      if (swiper.params.effect !== 'fade') { return; }\n      swiper.fadeEffect.setTranslate();\n    },\n    setTransition: function setTransition(duration) {\n      var swiper = this;\n      if (swiper.params.effect !== 'fade') { return; }\n      swiper.fadeEffect.setTransition(duration);\n    },\n  },\n};\n\nvar Cube = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    var $el = swiper.$el;\n    var $wrapperEl = swiper.$wrapperEl;\n    var slides = swiper.slides;\n    var swiperWidth = swiper.width;\n    var swiperHeight = swiper.height;\n    var rtl = swiper.rtl;\n    var swiperSize = swiper.size;\n    var params = swiper.params.cubeEffect;\n    var isHorizontal = swiper.isHorizontal();\n    var isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    var wrapperRotate = 0;\n    var $cubeShadowEl;\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $$1('<div class=\"swiper-cube-shadow\"></div>');\n          $wrapperEl.append($cubeShadowEl);\n        }\n        $cubeShadowEl.css({ height: (swiperWidth + \"px\") });\n      } else {\n        $cubeShadowEl = $el.find('.swiper-cube-shadow');\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $$1('<div class=\"swiper-cube-shadow\"></div>');\n          $el.append($cubeShadowEl);\n        }\n      }\n    }\n    for (var i = 0; i < slides.length; i += 1) {\n      var $slideEl = slides.eq(i);\n      var slideIndex = i;\n      if (isVirtual) {\n        slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);\n      }\n      var slideAngle = slideIndex * 90;\n      var round = Math.floor(slideAngle / 360);\n      if (rtl) {\n        slideAngle = -slideAngle;\n        round = Math.floor(-slideAngle / 360);\n      }\n      var progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      var tx = 0;\n      var ty = 0;\n      var tz = 0;\n      if (slideIndex % 4 === 0) {\n        tx = -round * 4 * swiperSize;\n        tz = 0;\n      } else if ((slideIndex - 1) % 4 === 0) {\n        tx = 0;\n        tz = -round * 4 * swiperSize;\n      } else if ((slideIndex - 2) % 4 === 0) {\n        tx = swiperSize + (round * 4 * swiperSize);\n        tz = swiperSize;\n      } else if ((slideIndex - 3) % 4 === 0) {\n        tx = -swiperSize;\n        tz = (3 * swiperSize) + (swiperSize * 4 * round);\n      }\n      if (rtl) {\n        tx = -tx;\n      }\n\n      if (!isHorizontal) {\n        ty = tx;\n        tx = 0;\n      }\n\n      var transform = \"rotateX(\" + (isHorizontal ? 0 : -slideAngle) + \"deg) rotateY(\" + (isHorizontal ? slideAngle : 0) + \"deg) translate3d(\" + tx + \"px, \" + ty + \"px, \" + tz + \"px)\";\n      if (progress <= 1 && progress > -1) {\n        wrapperRotate = (slideIndex * 90) + (progress * 90);\n        if (rtl) { wrapperRotate = (-slideIndex * 90) - (progress * 90); }\n      }\n      $slideEl.transform(transform);\n      if (params.slideShadows) {\n        // Set shadows\n        var shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        var shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n        if (shadowBefore.length === 0) {\n          shadowBefore = $$1((\"<div class=\\\"swiper-slide-shadow-\" + (isHorizontal ? 'left' : 'top') + \"\\\"></div>\"));\n          $slideEl.append(shadowBefore);\n        }\n        if (shadowAfter.length === 0) {\n          shadowAfter = $$1((\"<div class=\\\"swiper-slide-shadow-\" + (isHorizontal ? 'right' : 'bottom') + \"\\\"></div>\"));\n          $slideEl.append(shadowAfter);\n        }\n        if (shadowBefore.length) { shadowBefore[0].style.opacity = Math.max(-progress, 0); }\n        if (shadowAfter.length) { shadowAfter[0].style.opacity = Math.max(progress, 0); }\n      }\n    }\n    $wrapperEl.css({\n      '-webkit-transform-origin': (\"50% 50% -\" + (swiperSize / 2) + \"px\"),\n      '-moz-transform-origin': (\"50% 50% -\" + (swiperSize / 2) + \"px\"),\n      '-ms-transform-origin': (\"50% 50% -\" + (swiperSize / 2) + \"px\"),\n      'transform-origin': (\"50% 50% -\" + (swiperSize / 2) + \"px\"),\n    });\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl.transform((\"translate3d(0px, \" + ((swiperWidth / 2) + params.shadowOffset) + \"px, \" + (-swiperWidth / 2) + \"px) rotateX(90deg) rotateZ(0deg) scale(\" + (params.shadowScale) + \")\"));\n      } else {\n        var shadowAngle = Math.abs(wrapperRotate) - (Math.floor(Math.abs(wrapperRotate) / 90) * 90);\n        var multiplier = 1.5 - (\n          (Math.sin((shadowAngle * 2 * Math.PI) / 360) / 2) +\n          (Math.cos((shadowAngle * 2 * Math.PI) / 360) / 2)\n        );\n        var scale1 = params.shadowScale;\n        var scale2 = params.shadowScale / multiplier;\n        var offset = params.shadowOffset;\n        $cubeShadowEl.transform((\"scale3d(\" + scale1 + \", 1, \" + scale2 + \") translate3d(0px, \" + ((swiperHeight / 2) + offset) + \"px, \" + (-swiperHeight / 2 / scale2) + \"px) rotateX(-90deg)\"));\n      }\n    }\n    var zFactor = (Browser$1.isSafari || Browser$1.isUiWebView) ? (-swiperSize / 2) : 0;\n    $wrapperEl\n      .transform((\"translate3d(0px,0,\" + zFactor + \"px) rotateX(\" + (swiper.isHorizontal() ? 0 : wrapperRotate) + \"deg) rotateY(\" + (swiper.isHorizontal() ? -wrapperRotate : 0) + \"deg)\"));\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    var $el = swiper.$el;\n    var slides = swiper.slides;\n    slides\n      .transition(duration)\n      .find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left')\n      .transition(duration);\n    if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {\n      $el.find('.swiper-cube-shadow').transition(duration);\n    }\n  },\n};\n\nvar EffectCube = {\n  name: 'effect-cube',\n  params: {\n    cubeEffect: {\n      slideShadows: true,\n      shadow: true,\n      shadowOffset: 20,\n      shadowScale: 0.94,\n    },\n  },\n  create: function create() {\n    var swiper = this;\n    Utils.extend(swiper, {\n      cubeEffect: {\n        setTranslate: Cube.setTranslate.bind(swiper),\n        setTransition: Cube.setTransition.bind(swiper),\n      },\n    });\n  },\n  on: {\n    beforeInit: function beforeInit() {\n      var swiper = this;\n      if (swiper.params.effect !== 'cube') { return; }\n      swiper.classNames.push(((swiper.params.containerModifierClass) + \"cube\"));\n      swiper.classNames.push(((swiper.params.containerModifierClass) + \"3d\"));\n      var overwriteParams = {\n        slidesPerView: 1,\n        slidesPerColumn: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        resistanceRatio: 0,\n        spaceBetween: 0,\n        centeredSlides: false,\n        virtualTranslate: true,\n      };\n      Utils.extend(swiper.params, overwriteParams);\n      Utils.extend(swiper.originalParams, overwriteParams);\n    },\n    setTranslate: function setTranslate() {\n      var swiper = this;\n      if (swiper.params.effect !== 'cube') { return; }\n      swiper.cubeEffect.setTranslate();\n    },\n    setTransition: function setTransition(duration) {\n      var swiper = this;\n      if (swiper.params.effect !== 'cube') { return; }\n      swiper.cubeEffect.setTransition(duration);\n    },\n  },\n};\n\nvar Flip = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    var slides = swiper.slides;\n    for (var i = 0; i < slides.length; i += 1) {\n      var $slideEl = slides.eq(i);\n      var progress = $slideEl[0].progress;\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      }\n      var offset = $slideEl[0].swiperSlideOffset;\n      var rotate = -180 * progress;\n      var rotateY = rotate;\n      var rotateX = 0;\n      var tx = -offset;\n      var ty = 0;\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n        rotateX = -rotateY;\n        rotateY = 0;\n      } else if (swiper.rtl) {\n        rotateY = -rotateY;\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;\n\n      if (swiper.params.flipEffect.slideShadows) {\n        // Set shadows\n        var shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        var shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n        if (shadowBefore.length === 0) {\n          shadowBefore = $$1((\"<div class=\\\"swiper-slide-shadow-\" + (swiper.isHorizontal() ? 'left' : 'top') + \"\\\"></div>\"));\n          $slideEl.append(shadowBefore);\n        }\n        if (shadowAfter.length === 0) {\n          shadowAfter = $$1((\"<div class=\\\"swiper-slide-shadow-\" + (swiper.isHorizontal() ? 'right' : 'bottom') + \"\\\"></div>\"));\n          $slideEl.append(shadowAfter);\n        }\n        if (shadowBefore.length) { shadowBefore[0].style.opacity = Math.max(-progress, 0); }\n        if (shadowAfter.length) { shadowAfter[0].style.opacity = Math.max(progress, 0); }\n      }\n      $slideEl\n        .transform((\"translate3d(\" + tx + \"px, \" + ty + \"px, 0px) rotateX(\" + rotateX + \"deg) rotateY(\" + rotateY + \"deg)\"));\n    }\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    var slides = swiper.slides;\n    var activeIndex = swiper.activeIndex;\n    var $wrapperEl = swiper.$wrapperEl;\n    slides\n      .transition(duration)\n      .find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left')\n      .transition(duration);\n    if (swiper.params.virtualTranslate && duration !== 0) {\n      var eventTriggered = false;\n      // eslint-disable-next-line\n      slides.eq(activeIndex).transitionEnd(function onTransitionEnd() {\n        if (eventTriggered) { return; }\n        if (!swiper || swiper.destroyed) { return; }\n        // if (!$(this).hasClass(swiper.params.slideActiveClass)) return;\n        eventTriggered = true;\n        swiper.animating = false;\n        var triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n        for (var i = 0; i < triggerEvents.length; i += 1) {\n          $wrapperEl.trigger(triggerEvents[i]);\n        }\n      });\n    }\n  },\n};\n\nvar EffectFlip = {\n  name: 'effect-flip',\n  params: {\n    flipEffect: {\n      slideShadows: true,\n      limitRotation: true,\n    },\n  },\n  create: function create() {\n    var swiper = this;\n    Utils.extend(swiper, {\n      flipEffect: {\n        setTranslate: Flip.setTranslate.bind(swiper),\n        setTransition: Flip.setTransition.bind(swiper),\n      },\n    });\n  },\n  on: {\n    beforeInit: function beforeInit() {\n      var swiper = this;\n      if (swiper.params.effect !== 'flip') { return; }\n      swiper.classNames.push(((swiper.params.containerModifierClass) + \"flip\"));\n      swiper.classNames.push(((swiper.params.containerModifierClass) + \"3d\"));\n      var overwriteParams = {\n        slidesPerView: 1,\n        slidesPerColumn: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        spaceBetween: 0,\n        virtualTranslate: true,\n      };\n      Utils.extend(swiper.params, overwriteParams);\n      Utils.extend(swiper.originalParams, overwriteParams);\n    },\n    setTranslate: function setTranslate() {\n      var swiper = this;\n      if (swiper.params.effect !== 'flip') { return; }\n      swiper.flipEffect.setTranslate();\n    },\n    setTransition: function setTransition(duration) {\n      var swiper = this;\n      if (swiper.params.effect !== 'flip') { return; }\n      swiper.flipEffect.setTransition(duration);\n    },\n  },\n};\n\nvar Coverflow = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    var swiperWidth = swiper.width;\n    var swiperHeight = swiper.height;\n    var slides = swiper.slides;\n    var $wrapperEl = swiper.$wrapperEl;\n    var slidesSizesGrid = swiper.slidesSizesGrid;\n    var params = swiper.params.coverflowEffect;\n    var isHorizontal = swiper.isHorizontal();\n    var transform = swiper.translate;\n    var center = isHorizontal ? -transform + (swiperWidth / 2) : -transform + (swiperHeight / 2);\n    var rotate = isHorizontal ? params.rotate : -params.rotate;\n    var translate = params.depth;\n    // Each slide offset from center\n    for (var i = 0, length = slides.length; i < length; i += 1) {\n      var $slideEl = slides.eq(i);\n      var slideSize = slidesSizesGrid[i];\n      var slideOffset = $slideEl[0].swiperSlideOffset;\n      var offsetMultiplier = ((center - slideOffset - (slideSize / 2)) / slideSize) * params.modifier;\n\n      var rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\n      var rotateX = isHorizontal ? 0 : rotate * offsetMultiplier;\n      // var rotateZ = 0\n      var translateZ = -translate * Math.abs(offsetMultiplier);\n\n      var translateY = isHorizontal ? 0 : params.stretch * (offsetMultiplier);\n      var translateX = isHorizontal ? params.stretch * (offsetMultiplier) : 0;\n\n      // Fix for ultra small values\n      if (Math.abs(translateX) < 0.001) { translateX = 0; }\n      if (Math.abs(translateY) < 0.001) { translateY = 0; }\n      if (Math.abs(translateZ) < 0.001) { translateZ = 0; }\n      if (Math.abs(rotateY) < 0.001) { rotateY = 0; }\n      if (Math.abs(rotateX) < 0.001) { rotateX = 0; }\n\n      var slideTransform = \"translate3d(\" + translateX + \"px,\" + translateY + \"px,\" + translateZ + \"px)  rotateX(\" + rotateX + \"deg) rotateY(\" + rotateY + \"deg)\";\n\n      $slideEl.transform(slideTransform);\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n      if (params.slideShadows) {\n        // Set shadows\n        var $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        var $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n        if ($shadowBeforeEl.length === 0) {\n          $shadowBeforeEl = $$1((\"<div class=\\\"swiper-slide-shadow-\" + (isHorizontal ? 'left' : 'top') + \"\\\"></div>\"));\n          $slideEl.append($shadowBeforeEl);\n        }\n        if ($shadowAfterEl.length === 0) {\n          $shadowAfterEl = $$1((\"<div class=\\\"swiper-slide-shadow-\" + (isHorizontal ? 'right' : 'bottom') + \"\\\"></div>\"));\n          $slideEl.append($shadowAfterEl);\n        }\n        if ($shadowBeforeEl.length) { $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0; }\n        if ($shadowAfterEl.length) { $shadowAfterEl[0].style.opacity = (-offsetMultiplier) > 0 ? -offsetMultiplier : 0; }\n      }\n    }\n\n    // Set correct perspective for IE10\n    if (Support.pointerEvents || Support.prefixedPointerEvents) {\n      var ws = $wrapperEl[0].style;\n      ws.perspectiveOrigin = center + \"px 50%\";\n    }\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    swiper.slides\n      .transition(duration)\n      .find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left')\n      .transition(duration);\n  },\n};\n\nvar EffectCoverflow = {\n  name: 'effect-coverflow',\n  params: {\n    coverflowEffect: {\n      rotate: 50,\n      stretch: 0,\n      depth: 100,\n      modifier: 1,\n      slideShadows: true,\n    },\n  },\n  create: function create() {\n    var swiper = this;\n    Utils.extend(swiper, {\n      coverflowEffect: {\n        setTranslate: Coverflow.setTranslate.bind(swiper),\n        setTransition: Coverflow.setTransition.bind(swiper),\n      },\n    });\n  },\n  on: {\n    beforeInit: function beforeInit() {\n      var swiper = this;\n      if (swiper.params.effect !== 'coverflow') { return; }\n\n      swiper.classNames.push(((swiper.params.containerModifierClass) + \"coverflow\"));\n      swiper.classNames.push(((swiper.params.containerModifierClass) + \"3d\"));\n\n      swiper.params.watchSlidesProgress = true;\n      swiper.originalParams.watchSlidesProgress = true;\n    },\n    setTranslate: function setTranslate() {\n      var swiper = this;\n      if (swiper.params.effect !== 'coverflow') { return; }\n      swiper.coverflowEffect.setTranslate();\n    },\n    setTransition: function setTransition(duration) {\n      var swiper = this;\n      if (swiper.params.effect !== 'coverflow') { return; }\n      swiper.coverflowEffect.setTransition(duration);\n    },\n  },\n};\n\n// Swiper Class\n// Core Modules\nvar components = [\n  Device$2,\n  Support$2,\n  Browser,\n  Resize,\n  Observer$1,\n  Virtual$1,\n  Keyboard$1,\n  Mousewheel$1,\n  Navigation$1,\n  Pagination$1,\n  Scrollbar$1,\n  Parallax$1,\n  Zoom$1,\n  Lazy$1,\n  Controller$1,\n  A11y,\n  History$1,\n  HashNavigation$1,\n  Autoplay$1,\n  EffectFade,\n  EffectCube,\n  EffectFlip,\n  EffectCoverflow\n];\n\nif (typeof Swiper$1.use === 'undefined') {\n  Swiper$1.use = Swiper$1.Class.use;\n  Swiper$1.installModule = Swiper$1.Class.installModule;\n}\n\nSwiper$1.use(components);\n\nreturn Swiper$1;\n\n})));\n"]}